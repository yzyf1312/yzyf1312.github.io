import isObj from './isObj';

/**
 * 把对象编译成Url参数
 * @param {Object} data
 */
function stringifyQueryString(data) {
  if (!isObj(data)) return '';
  var obj = JSON.parse(JSON.stringify(data));
  if (!Object.keys(obj).length) return '';
  var pairs = [];
  Object.keys(obj).forEach(function (k) {
    var encode = encodeURIComponent;
    pairs.push("".concat(encode(k), "=").concat(encode(obj[k])));
  });
  return pairs.join('&');
}

export default stringifyQueryString;
