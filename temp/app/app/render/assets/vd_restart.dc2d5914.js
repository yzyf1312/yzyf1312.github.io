import{ay as openBlock,W as createElementBlock,X as createBaseVNode,ef as initEmojiPackage,bW as formatImg,bx as http,bt as server,bv as resToObj,eg as getCsrf,bz as httpSvc,ct as callNativeSync,cn as IS_MAC,c$ as IS_WIN,d0 as IS_LINUX,k as ref,eh as initComment,b$ as openInBrowser,c0 as openPlayerWindow,a4 as defineComponent,a2 as createVNode,bs as events,af as inject,ei as DYNAMIC_URL_REG_EXP,c4 as useRouter,bY as messageEvents,as as onMounted,Q as computed,ao as onBeforeUnmount,aF as renderSlot,b3 as withDirectives,bn as vShow,I as Fragment,aE as renderList,A as normalizeClass,bp as withModifiers,U as createBlock,x as unref,V as createCommentVNode,a1 as createTextVNode,D as toDisplayString,r as reactive,ej as usePopupZIndexStore,aY as watch$1,b1 as withCtx,C as normalizeStyle,b6 as Transition,bF as debounce,ek as getUserByKeyword,b9 as createApp,bG as storeToRefs,bH as useUserInfoStore,al as nextTick,aH as resolveDirective,cc as setClipboardData,dq as mitt,aG as resolveComponent,bL as toastAsync,b_ as alertAsync,bM as requestLogin,db as getDefaultExportFromCjs,bo as withKeys,cF as Upinfo,el as biliMsg,a0 as createStaticVNode,cK as throttle,cx as callNative}from"./index.e69ae269.js";import{_ as _export_sfc,V as VImg,P as PlayTime,E as promiseTimeout}from"./index.d0821554.js";function removeElement(t){var l="__butils_element_dustbin",u=document.getElementById(l);u||(u=document.createElement("DIV"),u.id=l,u.style.display="none",document.body.appendChild(u)),u.appendChild(t),u.innerHTML=""}function copyText(t,l){var u=document.createElement("textarea");u.value=t,u.setAttribute("readonly",""),u.style.position="absolute",u.style.left="-9999px";var o=l||document.body;o.appendChild(u);var r=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;u.select(),document.execCommand("copy"),o.removeChild(u),removeElement(u),r&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r))}const _hoisted_1$M={viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$K=createBaseVNode("path",{"clip-rule":"evenodd",d:"m11.05 3.168 1.741 3.528c.163.33.48.56.844.613l3.894.566a1.12 1.12 0 0 1 .621 1.911l-2.817 2.747a1.12 1.12 0 0 0-.323.993l.666 3.877a1.12 1.12 0 0 1-1.626 1.181l-3.484-1.83a1.12 1.12 0 0 0-1.042 0l-3.483 1.83a1.12 1.12 0 0 1-1.626-1.18l.664-3.878a1.119 1.119 0 0 0-.321-.993L1.939 9.786a1.121 1.121 0 0 1 .622-1.911l3.894-.566a1.12 1.12 0 0 0 .843-.613L9.04 3.168a1.121 1.121 0 0 1 2.01 0Z",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),_hoisted_3$J=createBaseVNode("path",{d:"M11.603 11.874a1.618 1.618 0 0 1-3.12-.017",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),_hoisted_4$k=[_hoisted_2$K,_hoisted_3$J];function render$z(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$M,_hoisted_4$k)}var IcoCollect={render:render$z};const DEFAULT_FACE="//i0.hdslb.com/bfs/face/member/noface.jpg",DEFAULT_IMG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAACHCAYAAAA850oKAAAAAXNSR0IArs4c6QAACSlJREFUeAHtnFtsFFUYx1toiw1CpYiCEqURokhK6SUaIZE7ohArCokRlQdN9MUnH8REjYlEXzTB8AAmJsaEEAFFLlGMQBTRkChsL1K5FGMRVAxQAgi0tFB/X8O0y3am7NLd7tnZ/yTTM/Od6/zOf851tjk5OkRABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABERABEQglkBurCEM9w0NDQUtLS3zc3Nzb+PcUV5e3pjs56qpqRnT3t7+yIABA04XFxdvLikpaUl2HulOb0C6C5CK/C9evLi0o6PjiytXrqzk3BeJRB5PZj6kN+vy5cu/IbxV5LO2ubn5nWSm70paoRSHtRgeYCqvAIF8zpte7dn64pLObNLbQhqFXjrk0ZWfZwuDG0px0NS/T+Ucj6qgfN709Xv27HkiypbwJfHnkM5mIt4UFbk5Pz//3aj70FyGUhyMMZqooemc1wiE+3V79+5dgJvwQbxHiLSJM1oYpwYOHDizrKzsYMIJZkCEUA5IPe51dXX3trW1fcf9KM+G20a383RlZeWGKFuvlwhjLgE20n0Migp4ihZqZkVFRV2ULVSXoWw5vBqyNzovL28aYvjbs+Hm2yCSQeVTUbbAS8I9imesME6S5owwC8OAhFoc9oCTJk06RNM/PUYgeQwqP2MMscjCBB0MPh9DSF9Gtxikc4LwM2h56oPihcWecd0KFVoK/CVUUhXunZz5cVZGEZV8S0zYy6RzLMbWdUv4O7iJTf8scU53BerlgvgthD2Ku4su6FNamiO9BHfOK2PE0djYOPTMmTMfQPBF5yjGV6A2BPIeLdayqqqqtviipDdURoijvr5+GAPLbbyBlenFlZTcbcazKBME4vyYA0HkXrp0aUNIhGHqqqarWZEUmaU4EefFwTTyFRhMSzGHfk0eob9kK639mukNZJZ3A3H6LYptoLFP8vp1MjzEm9h8nTD97o0AbDB7V1DGjD3exm9bkL8LdqfF0dra+iSQRvqBQhC2+LSQKeVhP38XbKyRPIQI1lGW0bHlQTyTGUvdN3HixAOxfq7cO92tAHBOAKiLiKPaZWFYuZm67maG8mzAM+Sw5T8lyM8Fu9PiANCDAZC+ypQ1A8q5k2do8HsOWpUyP7srNqfFQcvh26UAb78rAOMsR1B5b40zflqCOS0Ouo5hflRoqi/52V218RytfmXDPtTP7orNaXHQcmTEIl0fKtNp/k4Xrg/QFTUJBLJOHKydjKRFGpgoOzb8or8JSTR6RoZ3ep2jr0T52KeEz/oqEEO5naRXzqLaKFYnJ3Ft6yRxHQjqZr5mP4ZATjNOqCFSDW6ETwFqWKdo5PpKXAllWKBQiMNaAhaUxiOEThF4QmCzrsivPvCvwB63ONjbKSOOtbLDcWfhzsLNYSqaw0LXeZb4La1OwTBYruGb0oYJEyZk1KCZ8vc4QiEOKudrnixowazHQ1Ox1op80sMjwEB4E5Pvgd9gPCbb6QkGke6+avONkynGsIw5fk0QeGBl+6XTmzj8wmOrD7BnlDkULQfEI3FQP0cYa/4jNP32ZidyrCXwKcYW1m3ZeKX4OpHjKc91kki/dyjFQSWeoBJt4BjhusbGAXxLepjrjhtBzh7ON8Szs/NgnHE34w3rmipMMLgmGvtksfPAJnF4MNLtUnmHmIG8SQXV2gwCIfyVyjJd3dc5Qh4bvXwQzAhPMEOGDEm0m/OSccoNRcvBm2pTyWXpJItg7Kv0b6+e6SxK0vIOy4A0aUCUUDcBiaObha5iCEgcMUB0201A4uhmoasYAlknDmYVL9TW1tr085oD2wOstO5k/6THR8HYZ3Dar+yz6sgqcZgomG5+zLebPyIS+zll57F///7hLHmvZSr8MIY1CKTrJ5CEW4htO+dW+9VdZ4Qs+ROKqWy8dcViWBNh/+EchUh2IIK3mAYfvHDhwjKEMQa7HVOwbUAUHxJmKudr2Oyjo8jYsWP/swDZcmRVy8H2um25z+W0NQlrBZYjiq2clVy3Y+9cBeV+PqKw35S8wWmtyIHCwsJ5+Nt6StYcWSUOq1VWU+sLCgrsl/prqGzbVm/n/JlWZSZ+9r84FnPuw8+W2s/hLmcLvoot+Oj/EoRX+I+s6la86iwtLf2X68W0EEuampryov9NJD9wXoPfGj4UGkxLY7+PyarWwmNkrtPisLeXI2UfGZO+tRp29jj4r0DnexiTb3BaeE53Kwij2a8+GA8M8rM7bIv+J3NdxeT5znTdOHjhtDjg5dvP88bf7yDL3ooUVN6TvUVKt5/r4gj6KGce09B70g0vnvyZEtv3puP9wiLyWj+7KzbXxWFb4D0OYA8C7BYEYrMOZw+EMZMucHVQAfn25KcgPxfsKRvsJePhbKUSEfyBGLq+svJJ9yhhTvvY020aRblHBBWCMv/A1HlqkL8LdqfFYYB4+17m7VvpAqxklQFhdLCuMoP/tPx9stJMRTqudys5APyIB/ftXlIBpD/SpEVZ4bowjIPz4rC3rKioaBFu0OC0P+ozaXnwHGvpTl5NWoIpTMh5cdizjxs37iz/pno2lyuA6/TCUS911UJXspRvTRfzDL4Lb73ETYuX82OOWCp8VzGWZvl5AFfhjsbtXOXluoSwPRab8LdNtqSvJ5Cf/Xbl9tjykZ/t1/xudsK0cv8n7i427lZn2v5MxokjtjK8e0Rj/6t0gXfvuVTOczTjgdNJL1yiLj+FqOYbkK6fJnjxyW87+Vkrl/FHRnQr8VBGGKt8wh3DvsXH3mcTwtiGEA77JBSamVVoxMFuqs1oFlBhv+Aep3/fxPV07CnZvyDdC6Q/i3zWW35cRxDiM7QaG3wEI5MIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAIpJPA/+0R7s0ypFpmAAAAAElFTkSuQmCC",LINE_FEED=`
`,MAX_SAVE_STEPS=50,map={},getMidByUname=t=>map[t]||null,getMidMapBatchByUnames=t=>new Promise((l,u)=>{const o={},r={};let a=!0;if(t.forEach(c=>{map[c]?o[c]=map[c]:(a=!1,r[c]=0)}),a)return l(o);getUnameToMid(Object.keys(r).join(",")).then(c=>{var s;(s=c.uid_list)!=null&&s.length&&(c.uid_list.forEach(e=>{e.name&&e.uid&&(r[e.name]=e.uid)}),Object.assign(map,r),Object.assign(o,r)),l(o)}).catch(u)}),FULL_PATTERN="[\0-\xFF]",getStringLength=(t="")=>{if(typeof t!="string")return 0;let l=t.length;const u=new RegExp(FULL_PATTERN,"g");if(u.test(t)){const o=t.replace(u,"").length;l=Math.ceil((l-o)/2)+o}return l},getRange=t=>{const l=t.ownerDocument||t.document,o=(l.defaultView||l.parentWindow).getSelection();return o.rangeCount>0?o.getRangeAt(0):null},getElChildNode=(t,l)=>{for(;l.parentElement;){if(l.parentElement===t)return l;l=l.parentElement}return null},getCursorPosition=(t,l=!1)=>{const u={start:{index:0,offset:0},end:{index:0,offset:0},position:{top:0,left:0}};if(!t)return u;const o=getRange(t);if(!o)return u;if(l){const c=t.getBoundingClientRect(),s=o.getBoundingClientRect(),{scrollTop:e}=t.parentElement||{scrollTop:0};u.position.top=s.top-c.top-e,u.position.left=s.left-c.left}const r=getElChildNode(t,o.startContainer),a=getElChildNode(t,o.endContainer);return r?(u.start.index=Array.from(t.childNodes).indexOf(r),u.start.offset=o.startOffset):u.start.index=o.startOffset,a?(u.end.index=Array.from(t.childNodes).indexOf(a),u.end.offset=o.endOffset):u.end.index=o.endOffset,u};let packages=null;const dict={},initEmoji=async()=>{try{packages=await initEmojiPackage()}catch(t){return Promise.reject(t)}},getEmojiData=t=>{var u;if(dict[t])return dict[t];if(!packages)return null;let l=null;for(let o=0;o<packages.length;o++)if(!!((u=packages[o].emote)!=null&&u.length))for(let r=0;r<packages[o].emote.length;r++){const a=packages[o].emote[r];if(a.text===t){l=a;break}}return l&&l.type!==4?(dict[t]={...l,src:formatImg(l.url,{w:48,h:48})},dict[t]):null},getRichTextareaNodeId=(t,l)=>t&&l?`${t}:${l}`:null,getRichTextareaTextNode=t=>({type:"text",text:t,data:null}),getRichTextareaHighlightNode=({type:t,data:l,unique:u})=>({id:u&&getRichTextareaNodeId(t,l.rid)||null,type:"highlight",text:l.text,data:{...l,type:t}}),getRichTextareaEmojiNode=(t,l)=>{const u=l||getEmojiData(t);return u?{type:"emoji",text:u.text,data:u}:getRichTextareaTextNode(t)},getRichTextareaNode=({type:t,data:l})=>{switch(t){case"text":return getRichTextareaTextNode(l.text);case"at":return getRichTextareaHighlightNode({type:t,data:l,unique:!1});case"vote":case"lottery":return getRichTextareaHighlightNode({type:t,data:l,unique:!0});case"emoji":return getRichTextareaEmojiNode(l.text,l);default:return null}},mergeTextNodes=(t,l=0)=>{const u=[];let o=0;for(let r=0;r<t.length;r++){const a=t[r],c=getArrayLastItem(u);(c==null?void 0:c.type)==="text"&&a.type==="text"?(c.text+=a.text,r>=l&&o++):a.type==="text"?a.text&&u.push(a):u.push(a)}return[u,o]},_genSplitFunc=(t,l)=>async(u,o)=>{for(let r=0;r<o.length;r++){const a=o[r];a.type?u.push(t(a.text)):await l(u,a.text)}},upgradeText2RichTextareaNodes=async(t="")=>{const l=[];if(!t)return l;const u=_genSplitFunc(getRichTextareaEmojiNode,async(a,c)=>{a.push(getRichTextareaTextNode(c))}),o=_genSplitFunc(a=>{const c=getMidByUname(a.substr(1));return c?getRichTextareaHighlightNode({type:"at",data:{text:a,rid:c},unique:!1}):getRichTextareaTextNode(a)},async(a,c)=>{const s=splitStringWithRegExp(c,new RegExp(/\[[^([.*\])]+\]/g));await u(a,s)}),r=splitStringWithRegExp(t,/@[^\s$]{1,16}/g);return await getMidMapBatchByUnames(r.filter(a=>a.type===1).map(a=>a.text.substr(1))),await o(l,r),mergeTextNodes(l)[0]},splitStrByIndex=(t,l)=>{const u=t.slice(0,l),o=t.slice(l);return{before:u,after:o}},insertStrIntoStr=(t,l,u)=>{const{before:o,after:r}=splitStrByIndex(t,l);return`${o}${u}${r}`},spliceStr=(t,l,u,o="")=>{const{before:r,after:a}=splitStrByIndex(t,l);return`${r}${o}${a.slice(u)}`},_genTextNode=t=>({type:"text",text:t,data:null}),_findUniqueNodeIndex=(t,l)=>l.findIndex(u=>u.id===t.id&&u.type===t.type),_updateNodes=(t,l)=>{for(let u=0;u<t.length;u++)if(t[u].id){const o=_findUniqueNodeIndex(t[u],l);o>-1&&(t[u]=l.splice(o,1)[0])}},insertNodesIntoNodes=({oldNodes:t,position:l,newPositiveNodesSlice:u})=>{u=mergeTextNodes(u)[0],_updateNodes(t.positive,u);const o={nodes:t.positive,position:{start:{...l.start},end:{...l.end}}};if(!u.length)return o;const r=getArrayLastItem(u),a=r.type==="text"?r.text.length:0;if(t.positive.length===0)return o.nodes=u,o.position.start.index=o.nodes.length,o.position.start.offset=a,o.nodes[0].type==="text"&&o.position.start.index--,o.position.end={...o.position.start},o;const c=l.start.index,s=t.positive[c];if((s==null?void 0:s.type)!=="text"||!(s!=null&&s.text)){const[p]=mergeTextNodes([...o.nodes.slice(0,c),...u,...o.nodes.slice(c)]);return o.nodes=p,o.position.start.index+=a?u.length-1:u.length,o.position.start.offset=a,o.position.end={...o.position.start},o}const{before:e,after:i}=splitStrByIndex(s.text,l.start.offset),n=o.nodes.slice(0,c),d=o.nodes.slice(c+1);e&&n.push(_genTextNode(e)),i&&d.unshift(_genTextNode(i));const[f]=mergeTextNodes([...n,...u,...d]);if(o.nodes.length===f.length)o.position.start.offset=a+l.start.offset;else{let p=o.position.start.index+u.length;e&&p++,(r==null?void 0:r.type)==="text"&&p--,o.position.start.index=p,o.position.start.offset=a}return o.position.end={...o.position.start},o.nodes=f,o},getNodeText=t=>{if((t==null?void 0:t.nodeType)!==3)throw new Error("getNodeText error");return t.textContent},setNodeText=(t,l)=>{if(!t)throw new Error("setNodeText error");t.textContent=l},createTrimTextNode=t=>{const l=getNodeText(t),u={prefix:"",text:"",suffix:"",revert(a){return`${this.prefix}${a||this.text}${this.suffix}`}};if(!l)return u;const o=0;let r;return l.slice(-1)===LINE_FEED&&(r=-1,u.suffix=LINE_FEED),u.text=l.slice(o,r),u},restoreFromRealNodes=t=>{const l=[];for(let u=0;u<t.length;u++){const o=t[u];if(o.nodeType===3){let r=getNodeText(o);if((u===0||u===t.length-1)&&(r=createTrimTextNode(t[u]).text),r){const a=l.length-1,c=l[a];(c==null?void 0:c.type)==="text"?c.text+=r:l.push({type:"text",text:r})}}else l.push(JSON.parse(o.dataset.data))}return l},degradeRichTextareaNodes2Text=t=>t.reduce((l,u)=>l+=u.text,""),splitStringWithRegExp=(t,l)=>{if(!t)return[];const u=t.match(l);if(!u)return[{type:0,text:t}];let o=0;const r=u.reduce((a,c)=>{const s=[],e=t.slice(o).indexOf(c),i=t.slice(o,o+e);return i&&s.push({type:0,text:i}),s.push({type:1,text:c}),o=o+e+c.length,a.concat(s)},[]);return o<t.length&&r.push({type:0,text:t.slice(o)}),r};var RichTextNodeType=(t=>(t.RICH_TEXT_NODE_TYPE_NONE="RICH_TEXT_NODE_TYPE_NONE",t.RICH_TEXT_NODE_TYPE_TEXT="RICH_TEXT_NODE_TYPE_TEXT",t.RICH_TEXT_NODE_TYPE_AT="RICH_TEXT_NODE_TYPE_AT",t.RICH_TEXT_NODE_TYPE_LOTTERY="RICH_TEXT_NODE_TYPE_LOTTERY",t.RICH_TEXT_NODE_TYPE_VOTE="RICH_TEXT_NODE_TYPE_VOTE",t.RICH_TEXT_NODE_TYPE_TOPIC="RICH_TEXT_NODE_TYPE_TOPIC",t.RICH_TEXT_NODE_TYPE_GOODS="RICH_TEXT_NODE_TYPE_GOODS",t.RICH_TEXT_NODE_TYPE_BV="RICH_TEXT_NODE_TYPE_BV",t.RICH_TEXT_NODE_TYPE_AV="RICH_TEXT_NODE_TYPE_AV",t.RICH_TEXT_NODE_TYPE_EMOJI="RICH_TEXT_NODE_TYPE_EMOJI",t.RICH_TEXT_NODE_TYPE_USER="RICH_TEXT_NODE_TYPE_USER",t.RICH_TEXT_NODE_TYPE_CV="RICH_TEXT_NODE_TYPE_CV",t.RICH_TEXT_NODE_TYPE_VC="RICH_TEXT_NODE_TYPE_VC",t.RICH_TEXT_NODE_TYPE_WEB="RICH_TEXT_NODE_TYPE_WEB",t.RICH_TEXT_NODE_TYPE_TAOBAO="RICH_TEXT_NODE_TYPE_TAOBAO",t.RICH_TEXT_NODE_TYPE_MAIL="RICH_TEXT_NODE_TYPE_MAIL",t.RICH_TEXT_NODE_TYPE_OGV_SEASON="RICH_TEXT_NODE_TYPE_OGV_SEASON",t.RICH_TEXT_NODE_TYPE_OGV_EP="RICH_TEXT_NODE_TYPE_OGV_EP",t.RICH_TEXT_NODE_TYPE_SEARCH_WORD="RICH_TEXT_NODE_TYPE_SEARCH_WORD",t))(RichTextNodeType||{}),MdlDynType=(t=>(t.MDL_DYN_TYPE_FORWARD="MDL_DYN_TYPE_FORWARD",t.MDL_DYN_TYPE_ARCHIVE="MDL_DYN_TYPE_ARCHIVE",t.MDL_DYN_TYPE_DRAW="MDL_DYN_TYPE_DRAW",t.MDL_DYN_TYPE_LIVE_RCMD="MDL_DYN_TYPE_LIVE_RCMD",t))(MdlDynType||{}),ThreePoint=(t=>(t.THREE_POINT_DELETE="THREE_POINT_DELETE",t.THREE_POINT_REPORT="THREE_POINT_REPORT",t.THREE_POINT_FOLLOWING="THREE_POINT_FOLLOWING",t.THREE_POINT_COPY="THREE_POINT_COPY",t.THREE_POINT_TOP="THREE_POINT_TOP",t.THREE_POINT_WATCH_LATER="THREE_POINT_WATCH_LATER",t.THREE_POINT_AUTOPLAY="THREE_POINT_AUTOPLAY",t.THREE_POINT_UNFAV="THREE_POINT_UNFAV",t.THREE_POINT_UNSUBS="THREE_POINT_UNSUBS",t.THREE_POINT_TOPIC_REPORT="THREE_POINT_TOPIC_REPORT",t.THREE_POINT_TOPIC_IRRELEVANT="THREE_POINT_TOPIC_IRRELEVANT",t.THREE_POINT_RCMD_RESOURCE="THREE_POINT_RCMD_RESOURCE",t.THREE_POINT_RCMD_FEEDBACK="THREE_POINT_RCMD_FEEDBACK",t))(ThreePoint||{}),ModuleType=(t=>(t.MODULE_TYPE_TAG="MODULE_TYPE_TAG",t.MODULE_TYPE_AUTHOR="MODULE_TYPE_AUTHOR",t.MODULE_TYPE_ITEM_NULL="MODULE_TYPE_ITEM_NULL",t.MODULE_TYPE_DISPUTE="MODULE_TYPE_DISPUTE",t.MODULE_TYPE_TOPIC="MODULE_TYPE_TOPIC",t.MODULE_TYPE_DESC="MODULE_TYPE_DESC",t.MODULE_TYPE_DYNAMIC="MODULE_TYPE_DYNAMIC",t.MODULE_TYPE_INTERACTION="MODULE_TYPE_INTERACTION",t.MODULE_TYPE_STAT="MODULE_TYPE_STAT",t))(ModuleType||{});const _compare=(t,l)=>{if(!l||typeof l!="object")return!0;for(const u in l)if(l[u]!==t[u])return!1;return!0},eventPathInclude=(t,l,u="ELEMENT")=>{const o=t.path;for(let r=0;r<o.length;r++)if(u==="ELEMENT"&&o[r]===l||u==="ABSTRACT"&&_compare(o[r],l))return!0;return!1},getScrollParent=t=>{let l=t;if(!l)return null;for(;l&&l.tagName!=="HTML"&&l.tagName!=="BOYD"&&l.nodeType===1;){const u=window.getComputedStyle(l).overflowY;if(u==="scroll"||u==="auto"||u==="overlay")return l.tagName==="HTML"||l.tagName==="BODY"?document.documentElement:l;l=l.parentNode}return document.documentElement},getSelectorByClassNames=(...t)=>"."+t.filter(Boolean).join("."),getFirstParentClassName=t=>{var o;const l=t.parentElement;if(!l)return"";const u=(o=l.classList)==null?void 0:o[0];return u||getFirstParentClassName(l)},getArrayLastItem=t=>t.length>0?t[t.length-1]:null,clearArray=(t,...l)=>(t.splice(0,t.length,...l),t);function composeFunc(...t){return()=>{t.forEach(l=>{try{l()}catch(u){console.log(u)}})}}const shareAdd=(t,l)=>http.post(server.api+"/x/web-interface/share/add",t,l),replyAdd=t=>http.post(server.api+"/x/v2/reply/add",{...t,jsonp:"jsonp",scene:"msg",plat:1,from:t.from||"im-reply",build:0,mobi_app:"web"}),replyAction=t=>http.post(server.api+"/x/v2/reply/action",{...t,build:0,mobi_app:"web"}),dmThumbupAdd=t=>http.post(server.api+"/x/v2/dm/thumbup/add",{oid:t.oid,dmid:t.dmid,op:t.op,scene:t.scene||"msg",from:t.from||"im-reply"}),watchAdd=t=>http.post(server.api+"/x/v2/history/toview/add",{aid:t}),watchDel=t=>http.post(server.api+"/x/v2/history/toview/del",{aid:t}),CONTENT_TYPE_JSON="application/json;charset=UTF-8",_addCsrfToApiUrl=t=>`${t}?csrf=${getCsrf()}`,_post=(t,l)=>http.post(_addCsrfToApiUrl(t),l,{headers:{"Content-Type":CONTENT_TYPE_JSON}});function getDynamicPublishConfig(){return http.get("//api.bilibili.com/x/dynamic/feed/create/init_check",{params:{scene:1,meta:{platform:"pc"}}}).then(resToObj)}function getUnameToMid(t){return http.get("//api.vc.bilibili.com/dynamic_mix/v1/dynamic_mix/name_to_uid",{params:{names:t,teenagers_mode:0}}).then(resToObj)}const _createDynamicCheck=({dyn_req:{content:t,pics:l}})=>_post("//api.bilibili.com/x/dynamic/feed/create/submit_check",{content:t,pics:l}).then(resToObj),_createDynamicSubmit=t=>_post("//api.bilibili.com/x/dynamic/feed/create/dyn",t).then(resToObj),_createDynamic=async t=>{try{return await _createDynamicCheck(t),await _createDynamicSubmit(t)}catch(l){return Promise.reject(l)}},_topicPubUpload=t=>_post("//api.bilibili.com/x/topic/web/pub/upload",t).then(resToObj),_setParamsOption=(t,l,u)=>{t.option||(t.option={}),t.option[l]=u},_getCreateContents=(t,l)=>{switch(l.type){case"text":t.push({raw_text:l.text,type:1,biz_id:""});break;case"highlight":switch(l.data.type){case"at":t.push({raw_text:l.text,type:2,biz_id:String(l.data.rid)});break;case"lottery":t.push({raw_text:l.text,type:3,biz_id:String(l.data.rid)});break;case"vote":t.push({raw_text:l.text,type:4,biz_id:String(l.data.rid)});break;case"bv":t.push({raw_text:l.data.rid,type:7,biz_id:l.data.rid});break}break;case"emoji":t.push({raw_text:l.text,type:9,biz_id:""});break}return t},_setCommentOption=(t,l)=>{switch(l){case 0:_setParamsOption(t,"close_comment",1);break;case 2:_setParamsOption(t,"up_choose_comment",1);break}},_setCreateScene=t=>{var l,u,o;if(!t.scene&&((u=(l=t.content)==null?void 0:l.contents)!=null&&u.length&&(t.scene=1),(o=t.pics)!=null&&o.length&&(t.scene=2),t.video&&(t.scene=3),t.repost_src&&(t.repost_src.dynId?t.scene=4:t.repost_src.revsId&&(t.scene=5)),t.sketch&&(t.scene=6),!t.scene))throw new Error("dyn create params scene empty")};async function createDynamic(t){var l,u,o,r,a;try{const c={content:{contents:(l=t==null?void 0:t.nodes)==null?void 0:l.reduce(_getCreateContents,[])},pics:(u=t==null?void 0:t.pics)!=null&&u.length?t==null?void 0:t.pics:void 0,scene:t==null?void 0:t.scene,sketch_type:t==null?void 0:t.sketchType,sketch:t==null?void 0:t.sketch,attach_card:t==null?void 0:t.attachCard,repost_src:t==null?void 0:t.repostSrc,upload_id:t==null?void 0:t.uploadId,meta:{app_meta:{from:(t==null?void 0:t.from)||"create.dynamic.pc"}}};(o=t==null?void 0:t.topic)!=null&&o.id&&(c.topic={id:t.topic.id,name:t.topic.name,from_source:t.topic.fromSource,from_topic_id:t.topic.fromTopicId||0}),_setCreateScene(c);const s={dyn_req:c};[4,5].includes(c.scene)&&(delete c.repost_src,s.web_repost_src={},c.scene===4?s.web_repost_src.dyn_id_str=t.repostSrc.dynId:s.web_repost_src.revs_id=t.repostSrc.revsId),_setCommentOption(c,t.comment);const e=await _createDynamic(s);if(c.topic)try{_topicPubUpload({topic_id:(r=t==null?void 0:t.topic)==null?void 0:r.id,request_id:(a=t==null?void 0:t.topic)==null?void 0:a.requestId,upload_id:t==null?void 0:t.uploadId})}catch(i){console.log(i)}return e}catch(c){return Promise.reject(c)}}function removeDynamic(t){return _post("//api.bilibili.com/x/dynamic/feed/operate/remove",{dyn_id_str:t}).then(resToObj)}function padZero(t,l=2){if(l<1)return t.toString();l=Math.floor(l);const u=10**l;return t<u?`${"0".repeat(l-t.toString().length)}${t}`:u.toString()}const COMMON_PARAMS={build:0,platform:"web",device:"",mobi_app:"pc_electron"};function getBuildParam(){const l=callNativeSync("app/version").split(".");return parseInt(`${l[0]}${padZero(l[1])}${padZero(l[2])}`)}function getDeviceParam(){let t="";return IS_MAC?t="mac":IS_WIN?t="win":IS_LINUX?t="linux":t="unknow",t}function getCommonQueryParams(){return COMMON_PARAMS.build||(COMMON_PARAMS.build=getBuildParam(),COMMON_PARAMS.device=getDeviceParam()),COMMON_PARAMS}let fakeMid="";function getFakeMid(t=!1){return(t||!fakeMid)&&(fakeMid=Math.random().toString().slice(2,8)),fakeMid}async function getDynamicListAll({page:t=1,current:l="",offset:u="",hostMid:o=0}){return http.get("//api.bilibili.com/x/polymer/web-dynamic/desktop/v1/feed/all",{params:{page:t,update_baseline:l,offset:u,host_mid:o,timezone_offset:new Date().getTimezoneOffset(),...getCommonQueryParams()}}).then(resToObj)}function getDynamicList({scene:t="GENERAL",page:l=1,current:u="",offset:o="",hostMid:r=0,isLogin:a=!0}){return t==="SPACE"?httpSvc.request({url:"//api.bilibili.com/x/polymer/web-dynamic/desktop/v1/feed/space",params:{page:l,offset:o,host_mid:r,timezone_offset:new Date().getTimezoneOffset(),...getCommonQueryParams()}}).then(resToObj):a?(r&&l===1&&getAllDynamicDetails(r),getDynamicListAll({page:l,current:u,offset:o,hostMid:r})):http.get("//api.bilibili.com/x/polymer/web-dynamic/desktop/v1/feed/hot",{params:{page:l,offset:o,timezone_offset:new Date().getTimezoneOffset(),fake_mid:getFakeMid(l===1),...getCommonQueryParams()}}).then(resToObj)}async function getDynamicUpdate(t,l=!1){const u=`//api.bilibili.com/x/polymer/web-dynamic/desktop/v1/feed/all/update${l?"?type=video":""}`;return http.get(u,{params:{update_baseline:t,...getCommonQueryParams()}}).then(resToObj)}async function getDynamicFeedVideo({page:t=1,offset:l="",hostMid:u=0}){try{return await http.get("//api.bilibili.com/x/polymer/web-dynamic/desktop/v1/feed/video",{params:{page:t,offset:l,host_mid:u,...getCommonQueryParams()}})}catch(o){return Promise.reject(o)}}async function getDynamicVideos({page:t=1,offset:l="",hostMid:u=0},o=[]){var r,a,c,s;try{if(u){t===1&&getAllDynamicDetails(u);const e=30,i=await http.get("//api.bilibili.com/x/space/arc/list",{params:{ps:e,pn:t,mid:u}}),n=resToObj(i);let d=!0;return(c=n.page)!=null&&c.count?(n.page.pn||t)*(n.page.ps||e)>=n.page.count&&(d=!1):d=!1,(s=n.archives)!=null&&s.length&&(o=[...o,...n.archives]),{items:o,offset:"",has_more:d,page:t}}else{const e=await getDynamicFeedVideo({page:t,offset:l,hostMid:0}),i=resToObj(e),n=!!(i.has_more&&((r=i.items)==null?void 0:r.length));return(a=i.items)!=null&&a.length&&(o=[...o,...i.items]),o.length<30&&n?await getDynamicVideos({page:++t,offset:i.offset,hostMid:u},o):{items:o,offset:i.offset,has_more:n,page:t}}}catch(e){return Promise.reject(e)}}function getDynamicDetail(t,l=!1,u=0){const o={...getCommonQueryParams()};return u?(o.rid=t,o.type=u):(o.id=t,o.preview=l?"1":""),httpSvc.request({url:"//api.bilibili.com/x/polymer/web-dynamic/desktop/v1/detail",params:o}).then(resToObj)}function getDynamicDetailForward(t){return httpSvc.request({url:"//api.bilibili.com/x/polymer/web-dynamic/desktop/v1/detail/forward",params:{...t,...getCommonQueryParams()}}).then(resToObj)}function getDynamicForwardPreview(t,l=0){const u={...getCommonQueryParams()};return l?(u.rid=t,u.type=l):u.id=t,httpSvc.request({url:"//api.bilibili.com/x/polymer/web-dynamic/desktop/v1/forward/preview",params:u}).then(resToObj)}function postDynamicLike(t,l){return http.post("//api.vc.bilibili.com/dynamic_like/v1/dynamic_like/thumb",{dynamic_id:t,up:l?1:2}).then(resToObj)}function postDynamicReport({id:t,uid:l,type:u,desc:o=""}){return http.post("//api.bilibili.com/x/dynamic/feed/dynamic_report/add",{dynamic_id:t,accused_uid:l,reason_type:u,reason_desc:o}).then(resToObj)}function postSetDynamicSpaceTop(t){return http.post(`//api.vc.bilibili.com/dynamic_mix/v1/dynamic_mix/space_top_${t.status?"rm":"set"}`,{dynamic_id:t.dynamic_id}).then(resToObj)}function getAllDynamicDetails(t){const l=`${server.api}/x/polymer/web-dynamic/v1/feed/all?host_mid=${t}&offset=&page=1`;return http.get(l).then(resToObj)}const useCommentModule=(t,l)=>{const u=ref(null);let o=null,r=null;async function a(s,e){const i={oid:e.oid,jumpReplyId:e.jumpReplyId,pageType:e.type,scene:l||"player"},n=initComment(s,{...i,commentType:"client",scrollContainer:e.scrollContainer});return u.value=n,n.on("viewDetailReply",d=>{var f;o=initComment(e.detailContainerSelector,{...i,commentType:"client/detail",floorReply:{rootReplyId:d}}),(f=e.onViewDetailReply)==null||f.call(e,d)}),n.on("viewDialogReply",(d,f)=>{var p;r=initComment(e.dialogContainerSelector,{...i,commentType:"client/dialog",floorReply:{rootReplyId:d,dialogId:f}}),(p=e.onViewDialogReply)==null||p.call(e,d,f)}),n.on("backToNormalReply",()=>{var d;(d=e.onBackToNormalReply)==null||d.call(e)}),n.on("backToDetailReply",()=>{var d;(d=e.onBackToDetailReply)==null||d.call(e)}),n.on("triggerjumpEvent",(d,f)=>{if(e.onTriggerJumpEvent)return e.onTriggerJumpEvent(d,f);try{f=Object.assign({},f)}catch{return}switch(d){case"video":openPlayerWindow({...f,fromSpmid:t?`${t}.pv`:""});break;case"website":openInBrowser(f.url,"comment.Website");break}}),n.on("changeReplyCount",d=>{var f;(f=e.onChangeReplyCount)==null||f.call(e,d||0)}),n.registerEvent({note:{previewImage:({imageList:d,currentIndex:f})=>{var p;(p=e==null?void 0:e.onPreviewImage)==null||p.call(e,d,f)}}}),n}function c(s){if(!s){u.value&&(u.value.unmount(),u.value=null);return}if(s==="detail"){o&&(o.unmount(),o=null);return}if(s==="dialog"){r&&(r.unmount(),r=null);return}}return{commentInstance:u,initCommentInstance:a,clearComment:c}},_hoisted_1$L={width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$J=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m23.109 12.722-.9-.81v5.683c0 .872 0 1.592-.049 2.178-.05.609-.156 1.169-.424 1.695a4.334 4.334 0 0 1-1.894 1.893c-.525.268-1.085.375-1.694.425-.587.047-1.306.047-2.178.047h-5.94c-.872 0-1.592 0-2.178-.047-.609-.05-1.169-.157-1.694-.425a4.334 4.334 0 0 1-1.894-1.893c-.268-.526-.375-1.086-.424-1.695-.048-.586-.048-1.306-.048-2.178v-5.683l-.9.81a1.083 1.083 0 0 1-1.45-1.61l9.928-8.935c.144-.13.295-.266.435-.373a1.96 1.96 0 0 1 .632-.338c.367-.11.759-.11 1.126 0 .269.081.476.217.632.338.14.107.29.242.435.373l9.928 8.935a1.083 1.083 0 1 1-1.45 1.61Zm-12.307 2.46a1.083 1.083 0 1 0-2.105.512l.006.024c.046.194.23.974.826 1.716.663.826 1.767 1.524 3.471 1.524 1.705 0 2.81-.7 3.472-1.526.6-.748.783-1.531.827-1.722l.005-.022a1.083 1.083 0 0 0-2.108-.5l-.003.013c-.03.13-.121.515-.41.875-.263.327-.752.716-1.783.716s-1.52-.388-1.782-.714c-.286-.357-.377-.736-.411-.879l-.005-.018Z",fill:"currentColor"},null,-1),_hoisted_3$I=[_hoisted_2$J];function render$y(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$L,_hoisted_3$I)}var IcoHome={render:render$y};const _hoisted_1$K={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$I=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.22 9.221a.75.75 0 0 1 1.06 0l6.01 6.01 6.012-6.011a.75.75 0 0 1 1.061 1.06l-6.012 6.012 6.01 6.01a.75.75 0 1 1-1.06 1.061l-6.01-6.01-6.01 6.009a.75.75 0 1 1-1.06-1.06l6.009-6.01-6.01-6.01a.75.75 0 0 1 0-1.06Z",fill:"currentColor"},null,-1),_hoisted_3$H=createBaseVNode("path",{d:"m10.28 9.221-.212.212.212-.212Zm6.01 6.01-.212.213.213.212.212-.212-.212-.213Zm6.012-6.011-.212-.212.212.212Zm1.061 1.06.212.213-.212-.213Zm-6.012 6.012-.212-.212-.212.212.212.212.212-.212Zm4.95 7.071-.212.213.212-.213Zm-6.01-6.01.212-.212-.212-.212-.213.212.213.212Zm-6.01 6.009-.212-.212.213.212Zm-1.06-1.06-.212-.213.212.212Zm6.009-6.01.212.212.212-.212-.212-.212-.212.212Zm-6.01-6.01.212-.212-.212.212Zm1.272-1.273a1.05 1.05 0 0 0-1.484 0l.424.424a.45.45 0 0 1 .636 0l.425-.424Zm6.01 6.01-6.01-6.01-.424.424 6.01 6.01.425-.424Zm5.588-6.011-6.012 6.011.425.425 6.012-6.012-.425-.424Zm1.485 0a1.05 1.05 0 0 0-1.485 0l.425.424a.45.45 0 0 1 .636 0l.424-.424Zm0 1.485a1.05 1.05 0 0 0 0-1.485l-.424.424a.45.45 0 0 1 0 .636l.424.425Zm-6.012 6.011 6.012-6.012-.424-.424-6.012 6.012.424.424Zm6.01 5.587-6.01-6.01-.424.423 6.01 6.01.425-.423Zm0 1.485a1.05 1.05 0 0 0 0-1.485l-.423.424a.45.45 0 0 1 0 .636l.424.425Zm-1.484 0c.41.41 1.075.41 1.485 0l-.424-.425a.45.45 0 0 1-.637 0l-.424.425Zm-6.01-6.011 6.01 6.01.424-.424-6.01-6.01-.425.424Zm-5.585 6.009 6.009-6.009-.425-.424-6.008 6.009.424.424Zm-1.485 0c.41.41 1.075.41 1.485 0l-.425-.424a.45.45 0 0 1-.636 0l-.424.424Zm0-1.485a1.05 1.05 0 0 0 0 1.485l.424-.424a.45.45 0 0 1 0-.637l-.424-.424Zm6.009-6.009-6.01 6.009.425.424 6.009-6.009-.424-.424Zm-6.01-5.586 6.01 6.01.424-.424-6.01-6.01-.424.424Zm0-1.485a1.05 1.05 0 0 0 0 1.485l.424-.424a.45.45 0 0 1 0-.637l-.424-.424Z",fill:"currentColor"},null,-1),_hoisted_4$j=[_hoisted_2$I,_hoisted_3$H];function render$x(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$K,_hoisted_4$j)}var IcoClose$1={render:render$x},style$1="";const Emoji$1=defineComponent({name:"DynamicRichTextNodeEmoji",props:{src:{type:String,required:!0},alt:{type:String,default:""}},setup(t){return()=>createVNode("img",{class:"dynamic_rich_text_emoji",src:t.src,alt:t.alt},null)}}),Tag=defineComponent({name:"DynamicRichTextNodeTag",props:{text:{type:String,default:"",required:!0}},setup(t){function l(u){u.stopPropagation(),events.emit("hidePopover"),events.emit("search",t.text.slice(1,-1))}return()=>createVNode("span",{class:"dynamic_rich_text_tag",onClick:l},[t.text])}}),Link=defineComponent({name:"DynamicRichTextNodeLink",props:{href:{type:String,default:""},text:{type:String,default:""}},setup(t){const l=inject("dynamicScene"),u=o=>{o.stopPropagation(),events.emit("hidePopover");const r=t.href.match(DYNAMIC_URL_REG_EXP);if(r!=null&&r[0]){o.preventDefault();const a=r[0].replace("t.bilibili.com/","");events.emit("viewDynamicDetails",{id:a,scene:l});return}openInBrowser(t.href,"dynamic.RichText")};return()=>createVNode("span",{class:"dynamic_rich_text_link",onClick:u},[t.text])}}),At=defineComponent({name:"DynamicRichTextNodeAt",props:{text:{type:String,default:""},rid:{type:String,default:""}},setup(t){const l=useRouter(),u=o=>{o.stopPropagation(),events.emit("hidePopover"),l.push({name:"Space",query:{mid:Number(t.rid)}}),messageEvents.emit("close")};return()=>createVNode("span",{class:"dynamic_rich_text_at",onClick:u},[t.text])}}),Vote=defineComponent({name:"DynamicRichTextNodeVote",props:{href:{type:String,default:""},text:{type:String,default:""}},setup(t){const l=u=>{u.stopPropagation(),events.emit("hidePopover"),openInBrowser(t.href,"dynamic.Vote")};return()=>createVNode("span",{class:"dynamic_rich_text_vote",onClick:l},[t.text])}}),Lottery=defineComponent({name:"DynamicRichTextNodeLottery",props:{href:{type:String,default:""},text:{type:String,default:""}},setup(t){const l=u=>{u.stopPropagation(),events.emit("hidePopover"),openInBrowser(t.href,"dynamic.Lottery")};return()=>createVNode("span",{class:"dynamic_rich_text_lottery",onClick:l},[t.text])}}),Video$1=defineComponent({name:"DynamicRichTextNodeVideo",props:{href:{type:String,default:""},aid:String,bvid:String,epid:String,ssid:String,text:{type:String,default:""}},setup(t){const l=inject("pageSpmId"),u=o=>{if(o.stopPropagation(),events.emit("hidePopover"),t.bvid){openPlayerWindow({type:"ugc",bvid:t.bvid,fromSpmid:l});return}if(t.aid){openPlayerWindow({type:"ugc",aid:Number(t.aid),fromSpmid:l});return}if(t.ssid){openPlayerWindow({type:"ogv",seasonId:Number(t.ssid),fromSpmid:l});return}if(t.epid){openPlayerWindow({type:"ogv",epid:Number(t.epid),fromSpmid:l});return}};return()=>createVNode("span",{class:"dynamic_rich_text_video",onClick:u},[t.text])}}),Video=defineComponent({name:"DynamicRichTextNodeVideo",props:{cvid:String,text:{type:String,default:""}},setup(t){const l=u=>{u.stopPropagation(),events.emit("hidePopover"),openInBrowser(`https://www.bilibili.com/read/cv${t.cvid}`,"dynamic.Article")};return()=>createVNode("span",{class:"dynamic_rich_text_article",onClick:l},[t.text])}});var RichText=defineComponent({name:"DynamicRichText",components:{Emoji:Emoji$1,Tag},props:{nodes:{type:Array,default:()=>[]},unfold:{type:Boolean,default:!0},showAction:{type:Boolean,default:!0},lines:{type:String,default:"6"},once:{type:Boolean,default:!1},actionTexts:{type:Array,default:()=>["\u5C55\u5F00","\u6536\u8D77"]}},setup(t){const l=ref(!0),u=ref(!1),o=i=>{i.stopPropagation(),events.emit("hidePopover"),l.value=!l.value},r=ref(null),a=i=>{r.value=i};onMounted(()=>{!t.unfold&&l.value?(u.value=r.value.scrollHeight>r.value.clientHeight+2,l.value=u.value):l.value=!1});const c=i=>{switch(i.type){case RichTextNodeType.RICH_TEXT_NODE_TYPE_AT:return createVNode(At,{text:i.text,rid:i.rid},null);case RichTextNodeType.RICH_TEXT_NODE_TYPE_VOTE:return createVNode(Vote,{text:i.text,href:i.jump_url},null);case RichTextNodeType.RICH_TEXT_NODE_TYPE_LOTTERY:return createVNode(Lottery,{text:i.text,href:i.jump_url},null);case RichTextNodeType.RICH_TEXT_NODE_TYPE_EMOJI:return createVNode(Emoji$1,{src:i.emoji.icon_url,alt:i.text},null);case RichTextNodeType.RICH_TEXT_NODE_TYPE_WEB:return createVNode(Link,{text:i.text,href:i.jump_url},null);case RichTextNodeType.RICH_TEXT_NODE_TYPE_TOPIC:return createVNode(Tag,{text:i.text},null);case RichTextNodeType.RICH_TEXT_NODE_TYPE_AV:return createVNode(Video$1,{text:i.text,aid:i.rid},null);case RichTextNodeType.RICH_TEXT_NODE_TYPE_BV:return createVNode(Video$1,{text:i.text,bvid:i.rid||i.orig_text},null);case RichTextNodeType.RICH_TEXT_NODE_TYPE_OGV_SEASON:return createVNode(Video$1,{text:i.text,ssid:i.rid},null);case RichTextNodeType.RICH_TEXT_NODE_TYPE_OGV_EP:return createVNode(Video$1,{text:i.text,epid:i.rid},null);case RichTextNodeType.RICH_TEXT_NODE_TYPE_CV:return createVNode(Video,{text:i.text,cvid:i.rid},null);case RichTextNodeType.RICH_TEXT_NODE_TYPE_TEXT:return createVNode("span",null,[i.text]);default:return createVNode("span",null,[i.orig_text||i.text])}},s=t.nodes.map(c),e=computed(()=>({"dynamic_rich_text--content":!0,folded:l.value,[`line--${t.lines}`]:l.value}));return t.unfold||!l.value&&t.once?()=>createVNode("div",{class:"dynamic_rich_text"},[createVNode("div",{class:e.value},[s])]):()=>createVNode("div",{class:"dynamic_rich_text"},[createVNode("div",{class:e.value,ref:a},[s]),u.value&&t.showAction&&createVNode("div",{class:"dynamic_rich_text--action",onClick:o},[l.value?t.actionTexts[0]:t.actionTexts[1]])])}});const _hoisted_1$J={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$H=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.22 9.221a.75.75 0 0 1 1.06 0l6.01 6.01 6.012-6.011a.75.75 0 0 1 1.061 1.06l-6.012 6.012 6.01 6.01a.75.75 0 1 1-1.06 1.061l-6.01-6.01-6.01 6.009a.75.75 0 1 1-1.06-1.06l6.009-6.01-6.01-6.01a.75.75 0 0 1 0-1.06Z",fill:"#fff"},null,-1),_hoisted_3$G=createBaseVNode("path",{d:"m10.28 9.221-.212.212.212-.212Zm6.01 6.01-.212.213.213.212.212-.212-.212-.213Zm6.012-6.011-.212-.212.212.212Zm1.061 1.06.212.213-.212-.213Zm-6.012 6.012-.212-.212-.212.212.212.212.212-.212Zm4.95 7.071-.212.213.212-.213Zm-6.01-6.01.212-.212-.212-.212-.213.212.213.212Zm-6.01 6.009-.212-.212.213.212Zm-1.06-1.06-.212-.213.212.212Zm6.009-6.01.212.212.212-.212-.212-.212-.212.212Zm-6.01-6.01.212-.212-.212.212Zm1.272-1.273a1.05 1.05 0 0 0-1.484 0l.424.424a.45.45 0 0 1 .636 0l.425-.424Zm6.01 6.01-6.01-6.01-.424.424 6.01 6.01.425-.424Zm5.588-6.011-6.012 6.011.425.425 6.012-6.012-.425-.424Zm1.485 0a1.05 1.05 0 0 0-1.485 0l.425.424a.45.45 0 0 1 .636 0l.424-.424Zm0 1.485a1.05 1.05 0 0 0 0-1.485l-.424.424a.45.45 0 0 1 0 .636l.424.425Zm-6.012 6.011 6.012-6.012-.424-.424-6.012 6.012.424.424Zm6.01 5.587-6.01-6.01-.424.423 6.01 6.01.425-.423Zm0 1.485a1.05 1.05 0 0 0 0-1.485l-.423.424a.45.45 0 0 1 0 .636l.424.425Zm-1.484 0c.41.41 1.075.41 1.485 0l-.424-.425a.45.45 0 0 1-.637 0l-.424.425Zm-6.01-6.011 6.01 6.01.424-.424-6.01-6.01-.425.424Zm-5.585 6.009 6.009-6.009-.425-.424-6.008 6.009.424.424Zm-1.485 0c.41.41 1.075.41 1.485 0l-.425-.424a.45.45 0 0 1-.636 0l-.424.424Zm0-1.485a1.05 1.05 0 0 0 0 1.485l.424-.424a.45.45 0 0 1 0-.637l-.424-.424Zm6.009-6.009-6.01 6.009.425.424 6.009-6.009-.424-.424Zm-6.01-5.586 6.01 6.01.424-.424-6.01-6.01-.424.424Zm0-1.485a1.05 1.05 0 0 0 0 1.485l.424-.424a.45.45 0 0 1 0-.637l-.424-.424Z",fill:"#fff"},null,-1),_hoisted_4$i=[_hoisted_2$H,_hoisted_3$G];function render$w(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$J,_hoisted_4$i)}var IcoClose={render:render$w};const _hoisted_1$I={width:"15",height:"13",viewBox:"0 0 15 13",fill:"currentColor"},_hoisted_2$G=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5 1.834c0-.92-.746-1.667-1.666-1.667H6.167C5.247.167 4.5.913 4.5 1.834v.333H1.333a.5.5 0 1 0 0 1h12.334a.5.5 0 1 0 0-1H10.5v-.333Zm-1 .333h-4v-.333c0-.369.299-.667.667-.667h2.667c.368 0 .666.298.666.667v.333Zm-6.333 2.5a.5.5 0 0 0-1 0v5.436c0 1.333.99 2.48 2.345 2.592.87.073 1.944.139 2.988.139 1.045 0 2.118-.066 2.989-.139 1.354-.113 2.345-1.259 2.345-2.592V4.667a.5.5 0 0 0-1 0v5.436c0 .84-.618 1.528-1.428 1.596-.856.071-1.9.135-2.906.135-1.006 0-2.05-.064-2.905-.135-.81-.068-1.428-.756-1.428-1.596V4.667Zm2.667.833a.5.5 0 0 1 .5.5v2.334a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3.833.5a.5.5 0 1 0-1 0v2.334a.5.5 0 0 0 1 0V6Z"},null,-1),_hoisted_3$F=[_hoisted_2$G];function render$v(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$I,_hoisted_3$F)}var IcoDelete={render:render$v},MoreDropdown_vue_vue_type_style_index_0_lang="";const _hoisted_1$H=["onClick"],_hoisted_2$F={class:"more_dropdown--btn"},_hoisted_3$E={class:"more_dropdown--dropdown p_absolute"},_hoisted_4$h=["onClick"],_sfc_main$f=defineComponent({__name:"MoreDropdown",props:{items:{type:Array,default:()=>[]},info:{type:Object,default:()=>{}},isHover:{type:Boolean,default:!1},showMenu:{type:Boolean,default:!1}},emits:["select"],setup(t,{emit:l}){const u=t,o=ref(!1);function r(i){events.emit("hidePopover"),l("select",i),e()}function a(){u.isHover||(o.value||events.emit("hidePopover"),o.value=!o.value)}const c=()=>{u.isHover&&u.showMenu&&(o.value=!0)},s=()=>{u.isHover&&u.showMenu&&(o.value=!1)},e=()=>{o.value&&(o.value=!1)};return events.on("hidePopover",e),onBeforeUnmount(()=>{events.off("hidePopover",e)}),(i,n)=>(openBlock(),createElementBlock("div",{class:"more_dropdown",onClick:withModifiers(a,["stop"]),onMouseenter:c,onMouseleave:s},[createBaseVNode("div",_hoisted_2$F,[renderSlot(i.$slots,"default")]),withDirectives(createBaseVNode("div",_hoisted_3$E,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.items,(d,f)=>(openBlock(),createElementBlock(Fragment,null,[!d.info||d.info.aid?(openBlock(),createElementBlock("div",{key:f,class:normalizeClass(["more_dropdown--dropdown--item",{"more_dropdown--disabled":d.disabled}]),onClick:withModifiers(p=>r(d),["stop"])},[d.icon==="collect"?(openBlock(),createBlock(unref(IcoCollect),{key:0,class:"ico_collect mr_xs"})):createCommentVNode("",!0),d.icon==="delete"?(openBlock(),createBlock(unref(IcoDelete),{key:1,class:"mr_xs"})):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(d.label),1)],10,_hoisted_4$h)):createCommentVNode("",!0)],64))),256))],512),[[vShow,o.value]])],40,_hoisted_1$H))}}),_hoisted_1$G={width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$E=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.742 3.924A52.952 52.952 0 0 1 8 3.75c1.714 0 3.208.088 4.258.174A1.45 1.45 0 0 1 13.6 5.245c.078.862.151 2.004.151 3.255s-.073 2.393-.15 3.255a1.45 1.45 0 0 1-1.342 1.321c-1.05.086-2.544.174-4.258.174s-3.208-.088-4.258-.174A1.45 1.45 0 0 1 2.4 11.754 36.666 36.666 0 0 1 2.25 8.5c0-1.25.073-2.393.15-3.254a1.45 1.45 0 0 1 1.342-1.322ZM8 2.75c-1.747 0-3.27.09-4.34.177a2.45 2.45 0 0 0-2.255 2.229c-.08.883-.155 2.056-.155 3.344 0 1.288.075 2.461.155 3.344a2.45 2.45 0 0 0 2.255 2.229A53.91 53.91 0 0 0 8 14.25c1.747 0 3.27-.09 4.34-.177a2.45 2.45 0 0 0 2.255-2.229c.08-.882.155-2.056.155-3.344 0-1.288-.075-2.462-.155-3.345a2.45 2.45 0 0 0-2.255-2.228A53.953 53.953 0 0 0 8 2.75Zm1.75 6.328a.667.667 0 0 0 0-1.155l-2.5-1.444a.667.667 0 0 0-1 .577v2.888c0 .513.555.834 1 .578l2.5-1.444Z",fill:"currentColor"},null,-1),_hoisted_3$D=[_hoisted_2$E];function render$u(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$G,_hoisted_3$D)}var IcoPlay={render:render$u};const _hoisted_1$F={width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$D=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 3.75c-1.714 0-3.208.088-4.258.174A1.45 1.45 0 0 0 2.4 5.246C2.323 6.107 2.25 7.25 2.25 8.5s.073 2.393.15 3.254a1.45 1.45 0 0 0 1.342 1.322c1.05.086 2.544.174 4.258.174s3.208-.088 4.258-.174a1.45 1.45 0 0 0 1.341-1.321c.078-.862.151-2.004.151-3.255s-.073-2.393-.15-3.255a1.45 1.45 0 0 0-1.342-1.321A52.956 52.956 0 0 0 8 3.75Zm-4.34-.823A53.955 53.955 0 0 1 8 2.75c1.747 0 3.27.09 4.34.177a2.45 2.45 0 0 1 2.255 2.228c.08.883.155 2.057.155 3.345 0 1.288-.075 2.462-.155 3.345a2.45 2.45 0 0 1-2.255 2.228c-1.07.087-2.593.177-4.34.177-1.747 0-3.27-.09-4.34-.177a2.45 2.45 0 0 1-2.255-2.229A37.662 37.662 0 0 1 1.25 8.5c0-1.288.075-2.461.155-3.344A2.45 2.45 0 0 1 3.66 2.927ZM4 7.25a.5.5 0 0 1 .5-.5h.25a.5.5 0 0 1 0 1H4.5a.5.5 0 0 1-.5-.5Zm2 0a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm-.5 2a.5.5 0 0 0 0 1h.25a.5.5 0 0 0 0-1H5.5Zm2 0a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4Z",fill:"currentColor"},null,-1),_hoisted_3$C=[_hoisted_2$D];function render$t(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$F,_hoisted_3$C)}var IcoDanmaku={render:render$t},Popup_vue_vue_type_style_index_0_lang="";const popups=reactive([]),_sfc_main$e=defineComponent({name:"VPopup",props:{customClass:{type:String,default:""},mask:{type:Boolean,default:!0},fadeOpacity:{type:Number,default:.7}},emits:["wrap-click"],setup(t,{expose:l,emit:u}){const o=ref(null),r=ref(null),{getZIndex:a}=usePopupZIndexStore(),c=ref(!1),s=ref(!1),e=ref(!1),i=ref(!0);let n=0;watch$1(popups,v=>{v.forEach((w,g)=>{g!==v.length-1?w.ts===n&&w.fade(!0):w.fade(!1)})});const d=()=>{c.value||!o.value||(f(),n=Date.now(),popups.push({ts:n,fade(v){s.value=v}}),popups.length>1&&(i.value=!1),c.value=!0)},f=()=>{o.value.style.zIndex=`${a()}`},p=()=>{c.value=!1,n=0,popups.pop()},h=()=>{!t.mask&&!e.value&&(e.value=!0,setTimeout(()=>{e.value=!1},500)),u("wrap-click")},m=()=>{events.emit("hidePopover")};return l({show:d,hide:p,el:r}),{root:o,el:r,visible:c,showTs:n,isFade:s,isFlashing:e,showMask:i,onWrapClick:h,onClick:m}}}),_hoisted_1$E={class:"base_popup--mask"};function _sfc_render(t,l,u,o,r,a){return openBlock(),createBlock(Transition,{name:"base_popup--transition"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"base_popup--wrap flex_center",ref:"root",onClick:l[1]||(l[1]=withModifiers((...c)=>t.onWrapClick&&t.onWrapClick(...c),["stop"]))},[withDirectives(createBaseVNode("div",_hoisted_1$E,null,512),[[vShow,t.mask&&t.showMask]]),createBaseVNode("div",{class:normalizeClass(["base_popup",{"is-fade":t.isFade,"is-flashing":t.isFlashing,[t.customClass]:!!t.customClass}]),ref:"el",style:normalizeStyle({opacity:t.isFade?t.fadeOpacity:void 0}),onClick:l[0]||(l[0]=withModifiers((...c)=>t.onClick&&t.onClick(...c),["stop"]))},[renderSlot(t.$slots,"default")],6)],512),[[vShow,t.visible]])]),_:3})}var VPopup=_export_sfc(_sfc_main$e,[["render",_sfc_render]]);const mouseEvent=t=>{t.directive("longClick",{mounted(l,u){l.addEventListener("mousedown",function(o){l.isPressing=!0;const r=u.value;l.timer=setTimeout(()=>{o.stopPropagation(),l.isPressing&&r()},u.arg)})}}),t.directive("longClickLeave",{mounted(l,u){l.addEventListener("mouseup",function(){l.isPressing&&(clearTimeout(l.timer),l.isPressing=!1,u.value())}),l.addEventListener("mouseleave",function(){l.isPressing&&(clearTimeout(l.timer),l.isPressing=!1,u.value())})}}),t.directive("focus",{inserted:function(l){l.focus()}})};var AtPopup_vue_vue_type_style_index_0_lang="";const _hoisted_1$D=createBaseVNode("div",{class:"at_popup__hint"},"\u9009\u62E9\u6216\u8F93\u5165\u4F60\u60F3@\u7684\u4EBA",-1),_hoisted_2$C={key:0,class:"at_popup__group-name"},_hoisted_3$B={class:"at_popup__group-list"},_hoisted_4$g=["onClick","onMouseover"],_hoisted_5$a={class:"at_popup__user-avatar"},_hoisted_6$5=["src"],_hoisted_7$5={class:"at_popup__user-info"},_hoisted_8$5=["innerHTML"],_hoisted_9$5={class:"at_popup__user-fans"},_sfc_main$d=defineComponent({__name:"AtPopup",props:{mid:{type:Number,default:0,required:!0},onSelect:{type:Function,default:()=>!0},onVisiblaChange:{type:Function,default:null},lineHeight:{type:[String,Number],default:"14"}},emits:["active","inactive"],setup(t,{expose:l,emit:u}){const o=t,r=33,a=ref(null),c=ref(!1),s=ref(""),e=reactive({top:0,left:0}),i=reactive([0,0]),n=ref([]),d=ref(!0);ref(!1);const f=computed(()=>({left:`${e.left}px`,top:`${e.top+Number(o.lineHeight)}px`}));watch$1(c,k=>{typeof o.onVisiblaChange=="function"&&o.onVisiblaChange(k)});function p(k,{visible:A,position:P,data:L}){A===-1&&h(k),A===1?(e.left=P.left,e.top=P.top,C(),D(L)):A===0&&O()}function h(k){switch(k.type){case"keydown":m(k);break}}function m(k){if(!(!c.value||n.value.length===0))switch(k.keyCode){case 13:k.preventDefault(),g(n.value[i[0]].items[i[1]]);break;case 38:k.preventDefault(),b();break;case 40:k.preventDefault(),y();break}}function v(k,A){!d.value||(i[0]=k,i[1]=A)}function w(k,A){return i[0]===k&&i[1]===A}function g(k){!k||(o.onSelect({uname:k.uname,uid:k.uid,keyword:s.value}),O())}function b(){const k=i[0],A=i[1];A-1>=0?i[1]=A-1:(k-1>=0?i[0]=k-1:i[0]=n.value.length-1,i[1]=n.value[i[0]].items.length-1),E()}function y(){const k=[...i];k[1]+1<n.value[k[0]].items.length?i[1]=i[1]+1:(k[0]+1<n.value.length?i[0]=k[0]+1:i[0]=0,i[1]=0),E()}function E(){if(n.value.length===0)return;const P=a.value.children[i[0]].querySelector(".at_popup__group-list").children[i[1]];if(!P)return;const L=P.offsetHeight;a.value.offsetHeight+a.value.scrollTop<=P.offsetTop?(a.value.scrollTop=P.offsetTop-a.value.offsetHeight+L,N()):P.offsetTop<=a.value.scrollTop+r-L&&(a.value.scrollTop=P.offsetTop-(i[1]===0?r:0),N())}function N(){d.value=!1,T()}const T=debounce(function(){d.value=!0},200);function C(){c.value=!0,i[0]=0,i[1]=0,u("active")}function O(){setTimeout(()=>{c.value=!1,u("inactive"),n.value=[]},150)}const I=(k,A,P="#00A1D6")=>{if(!A)return k;const L=new RegExp("("+A+")","g");return k.replace(L,`<font style='color: ${P};'>$1</font>`)},D=debounce(async function(k){s.value=k;try{const{groups:A}=await getUserByKeyword(k,o.mid);if(A){const P=A.map(L=>({name:L.group_name,type:L.group_type,items:L.items.map(H=>{const J=H.face?H.face.replace(/http(s)?:/,""):DEFAULT_FACE;return{uid:H.uid,uname:H.uname,fans:H.fans>1e5?`${(H.fans/1e4).toFixed(1)}\u4E07\u7C89\u4E1D`:`${H.fans}\u7C89\u4E1D`,type:H.official_verify_type,name:I(H.uname,k),avatar:formatImg(J,{w:80,h:80,webp:!0})}})}));n.value=P}else n.value=[]}catch{n.value=[]}},500);return l({trigger:p}),(k,A)=>withDirectives((openBlock(),createElementBlock("div",{class:"at_popup",style:normalizeStyle(unref(f))},[_hoisted_1$D,createBaseVNode("div",{class:"at_popup__list",ref_key:"listRef",ref:a},[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,(P,L)=>(openBlock(),createElementBlock("div",{key:L,class:"at_popup__group"},[n.value.length>1||P.name!=="\u5176\u4ED6"?(openBlock(),createElementBlock("div",_hoisted_2$C,toDisplayString(P.name),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$B,[(openBlock(!0),createElementBlock(Fragment,null,renderList(P.items,(H,J)=>(openBlock(),createElementBlock("div",{key:H.uid,class:normalizeClass({at_popup__user:!0,"at_popup__user--selected":w(L,J)}),onClick:oe=>g(H),onMouseover:oe=>v(L,J)},[createBaseVNode("div",_hoisted_5$a,[createBaseVNode("img",{src:H.avatar},null,8,_hoisted_6$5)]),createBaseVNode("div",_hoisted_7$5,[createBaseVNode("div",{class:"at_popup__user-name",innerHTML:H.name},null,8,_hoisted_8$5),createBaseVNode("div",_hoisted_9$5,toDisplayString(H.fans),1)])],42,_hoisted_4$g))),128))])]))),128))],512)],4)),[[vShow,c.value]])}});function createAt(t){return createApp(_sfc_main$d,t)}class at{constructor({container:l,onSelect:u,mid:o,lineHeight:r,onVisiblaChange:a}){this.symbol="@",this.maxlength=16,this.app=null,this.instance=null,this.check=s=>s.length===2&&s[1]===`
`?!0:!/\s/.test(s),this.app=createAt({mid:o,onSelect:s=>u({type:"at",data:s}),onVisiblaChange:s=>a("at",s),lineHeight:r});const c=document.createElement("div");this.instance=this.app.mount(c),l.appendChild(c.firstElementChild)}destroy(){this.instance=null,this.app.unmount(),this.app=null}}var CTRLS={at};let blurTimer=null;const DEFAULT_PAYLOAD={visible:-1,data:""},ctrlManager={},_setCtrls=(t,l)=>{ctrlManager[t]=l},_getCtrls=t=>t&&ctrlManager[t]||null,_getElementCtrls=t=>{var l;return _getCtrls((l=t==null?void 0:t._inputHelper)==null?void 0:l.id)},_match=(t,l,u)=>{const o={ctrl:null,data:"",original:""},r=_getElementCtrls(t);if(!r)return o;for(let a=0;a<r.length;a++){const c=r[a],s=l.substring(0,u),e=s.lastIndexOf(c.symbol);if(e>-1){const i=s.substring(e);if(i.length<=c.maxlength&&c.check(i))return o.ctrl=c,o.data=i.slice(c.symbol.length).trim(),o}}return o},_trigger=(t,l)=>{const u=_getElementCtrls(t.target);!u||u.forEach(o=>{var r,a;(a=(r=o.instance).trigger)==null||a.call(r,t,l||DEFAULT_PAYLOAD)})},_scan=t=>{const l=t.target,{start:u,end:o,position:r}=getCursorPosition(l,!0);if(u.index===o.index&&u.offset===o.offset){const a=l.childNodes[u.index];if((a==null?void 0:a.nodeType)===3){const{ctrl:c,data:s}=_match(l,a.textContent,o.offset);c?(clearTimeout(blurTimer),c.instance.trigger(t,{visible:1,position:r,data:s})):_trigger(t,{visible:0,data:""})}else _trigger(t,{visible:0,data:""})}},_onblur=t=>{blurTimer=setTimeout(()=>{_trigger(t,{visible:0,data:""})},200)},_onkeydown=t=>{_trigger(t,{visible:-1,position:{left:0,top:0},data:""})},_onkeyup=t=>{if([37,39].indexOf(t.keyCode)>-1){_scan(t);return}},_eventMap={input:_scan,click:_scan,focus:_scan,blur:_onblur,keydown:_onkeydown,keyup:_onkeyup},_addEventListener=t=>{Object.keys(_eventMap).forEach(l=>{t.addEventListener(l,_eventMap[l])})},_removeEventListener=t=>{Object.keys(_eventMap).forEach(l=>{t.removeEventListener(l,_eventMap[l])})},watch=(t,l={mid:0,container:null,ctrls:[],offset:{x:0,y:0},lineHeight:0,onSelect:()=>{},onVisiblaChange:u=>{}})=>{const u=t._inputHelper.id,o=[];return l.ctrls.forEach(r=>{const a=CTRLS[r];a&&o.push(new a({mid:l.mid,container:l.container,onSelect:l.onSelect||(({type:c,data:s})=>{console.warn(`on-select: type-${c}`,s)}),lineHeight:l.lineHeight,onVisiblaChange:l.onVisiblaChange}))}),_addEventListener(t),_setCtrls(u,o),()=>{for(;o.length;)o.pop().destroy();delete ctrlManager[u],_removeEventListener(t)}};let id=0;const install=(t,l)=>{var u;l.container||(l.container=t.parentElement.parentElement),(u=l.ctrls)!=null&&u.length&&(t._inputHelper={id:++id,unwatch:null},t._inputHelper.unwatch=watch(t,l))},inputHelper={mounted(t,l){const u=l.value;install(t,{...u})},beforeUnmount(t){!t._inputHelper||t._inputHelper.unwatch()}},directive=t=>{mouseEvent(t)};var style="";const Emoji=defineComponent({name:"DynamicRichTextareaHighlightNode",props:{data:{type:Object,default:()=>({})}},setup({data:t}){return()=>createVNode("img",{class:"dynamic_rich_textarea_emoji",src:t.data.src,alt:t.data.text,"data-length":t.data.text.length,"data-data":JSON.stringify(t)},null)}}),Highlight=defineComponent({name:"DynamicRichTextareaHighlightNode",props:{data:{type:Object,default:()=>({})}},setup({data:t}){return()=>createVNode("span",{class:"dynamic_rich_textarea_highlight","data-length":t.data.text.length,"data-data":JSON.stringify(t),contenteditable:!1},[t.text])}}),deepClone=t=>JSON.parse(JSON.stringify(t));var RichTextarea=defineComponent({name:"DynamicRichTextarea",directives:{"input-helper":inputHelper},components:{Emoji,Highlight},props:{placeholder:{type:String,default:"\u8BF7\u8F93\u5165\u5185\u5BB9"},defaultValue:{type:String,default:""},defaultNodes:{type:Array,default:()=>[]},enableAt:{type:Boolean,default:!0},enableHt:{type:Boolean,default:!0},maxlength:{type:[String,Number],default:-1},height:{type:[String,Number],default:100},fontSize:{type:[String,Number],default:14},lineHeight:{type:[String,Number],default:22},beforeInsert:{type:Function,default:null}},emits:["change"],setup(t,{emit:l,expose:u}){var Ne;const{userInfo:o}=storeToRefs(useUserInfoStore()),r=reactive({active:!1,syncOn:!1,value:"",nodes:{passive:[],positive:[],real:[]},position:{start:{index:0,offset:0},end:{index:0,offset:0}},history:{steps:[],index:-1},disableState:{inputprev:!1,inputcurr:!1,inputnext:!1,save:!1,linefeed:!1,backspace:!1}}),a=x=>{var R;return((R=r.nodes.positive[0])==null?void 0:R.type)==="text"?x:x-1},c=computed(()=>r.position.start.index),s=computed(()=>r.nodes.positive[c.value]||null),e=computed(()=>r.nodes.real[r.position.start.index]||null),i=computed(()=>{var x;return r.nodes.real.length?r.nodes.real.length>1||((x=r.nodes.real[0])==null?void 0:x.nodeType)!==3?!1:!getNodeText(r.nodes.real[0]).length:!!t.defaultValue||!t.defaultNodes.length}),n=computed(()=>i.value?!0:r.position.start.index!==0?!1:s.value?!(s.value.type!=="text"||r.position.start.offset>0):!0),d=computed(()=>{var R;if(i.value||((R=e.value)==null?void 0:R.nodeType)!==3)return!0;const x=getNodeText(e.value);return!(r.position.end.offset<x.length-1)}),f=computed(()=>{const x=Number(t.maxlength);return x<=0?!1:x===r.value.length});watch$1(()=>r.nodes.positive,x=>{r.value=degradeRichTextareaNodes2Text(x),l("change",{value:r.value,nodes:x.reduce((R,K)=>{const U=deepClone(K);return(U.type!=="text"||U.text)&&R.push(U),R},[])}),q()},{deep:!0});const p=ref(null),h=ref(null),m=ref(null);u({refresh:D,focus:oe,insert:P,clear:k});const v=()=>{r.active&&N()};onMounted(async()=>{window.addEventListener("mouseup",v),await initEmoji(),D({value:t.defaultValue,nodes:t.defaultNodes})}),onBeforeUnmount(()=>{window.removeEventListener("mouseup",v)});const w=computed(()=>{const x=["dynamic_rich_textarea--inner"];return i.value&&x.push("empty"),x.join(" ")}),g={height:`${t.height}px`},b={fontSize:`${t.fontSize}px`,lineHeight:`${t.lineHeight}px`,minHeight:`${t.lineHeight}px`},y=[];t.enableAt&&y.push("at");const E={mid:(Ne=o.value)==null?void 0:Ne.mid,container:null,ctrls:y,onSelect:W,lineHeight:t.lineHeight,onVisiblaChange:be};function N(){T(),C()}function T(){var x;r.nodes.real=Array.from(((x=h.value)==null?void 0:x.childNodes)||[]).filter(R=>R.nodeType===3?!!R.textContent:!0)}function C(){const{start:x,end:R,position:K}=getCursorPosition(h.value,!0);M(x,R),O(K)}function O({top:x}){var U;if(!p.value)return;const{scrollTop:R,offsetHeight:K}=p.value;if(((U=e.value)==null?void 0:U.nodeType)===3){const te=getNodeText(e.value),ue=r.position.start.offset-1;te[ue]===LINE_FEED&&(x+=t.lineHeight)}R+K<x+43&&(p.value.scrollTop=x+43)}const I=debounce(async function(x){await H(),x==null||x()},80,!1);async function D({value:x,nodes:R}){var K;R!=null&&R.length?r.nodes.positive=mergeTextNodes(deepClone(R))[0]:r.nodes.positive=await upgradeText2RichTextareaNodes(x),r.history.index=-1,r.history.steps=[],M({index:Math.max(r.nodes.passive.length-1,0),offset:((K=s.value)==null?void 0:K.text.length)||0}),await H()}async function k(){r.nodes.passive.length!==0&&(r.nodes.positive=[],M({index:0,offset:1}),await H(),J())}function A(x){return x.reduce((R,{type:K,data:U})=>{const te=getRichTextareaNode({type:K,data:U});return te&&R.push(te),R},[])}async function P(...x){f.value||(await L(...A(x)),oe())}async function L(...x){const R=r.position.start.index;if(t.beforeInsert&&(x=t.beforeInsert(x,{nodes:deepClone(r.nodes.positive),index:R})||x),!x.length)return;const{nodes:K,position:U}=insertNodesIntoNodes({oldNodes:{positive:deepClone(r.nodes.positive),real:r.nodes.real},position:r.position,newPositiveNodesSlice:x});r.nodes.positive=K,M(U.start,U.end),await H(),J()}async function H(){r.syncOn=!0,r.nodes.passive=deepClone(r.nodes.positive),await nextTick(),h.value.innerHTML=m.value.innerHTML,r.syncOn=!1,T()}function J(){const x=window.getSelection();if(!!x)try{if(!e.value){x.collapse(h.value,r.position.start.index);return}if(e.value.nodeType!==3){x.collapse(h.value,r.position.start.index);return}const R=getNodeText(e.value).length;x.collapse(e.value,Math.min(r.position.start.offset,R))}catch(R){console.log(R)}}function oe(){var x;(x=h.value)==null||x.focus(),J()}function M(x,R){x.index=Math.max(0,x.index),R=R!=null?R:x,R.index=Math.max(0,R.index),r.position.start=x,r.position.end={...R}}function Y(x){if(i.value){x(),J();return}if(n.value&&d.value){setClipboardData(r.value),k(),x();return}Te()}function q(){if(r.disableState.save){r.disableState.save=!1;return}const{steps:x,index:R}=r.history;R===MAX_SAVE_STEPS-1?x.shift():r.history.index=R+1,r.history.steps=[...x.splice(0,r.history.index),deepClone({nodes:r.nodes.positive,position:r.position})]}async function X(x){let{index:R}=r.history;const K=r.history.steps;if(K.length===1)return;if(x){if(R===K.length-1)return;++R}else{if(R===0)return;--R}r.history.index=R;const{nodes:U,position:te}=deepClone(K[r.history.index]);r.nodes.positive=U,r.position=te,r.disableState.save=!0,await H(),J()}function G(x){x()}async function he(){let x=c.value;if(x<0)return;let R=-1;for(;x>=0;x--){const K=r.nodes.positive[x];if(K.type==="text"&&(R=K.text.lastIndexOf(LINE_FEED),R>-1))break}R===-1?(x=0,R=1):x===0&&++R,r.nodes.positive[0].type!=="text"&&x++,ee({index:x,offset:R}),await H(),J()}async function _e(){var U;if(i.value||r.disableState.linefeed)return;if(((U=s.value)==null?void 0:U.type)!=="text"){await P({type:"text",data:{text:LINE_FEED.repeat(2)}});return}let x=createTrimTextNode(e.value);const R=0,K=insertStrIntoStr(x.text,r.position.start.offset-R,LINE_FEED);r.nodes.positive[c.value].text=K,M({index:r.position.start.index,offset:r.position.start.offset+1}),await H(),x=createTrimTextNode(e.value),x.text!==s.value.text&&setNodeText(e.value,x.revert(s.value.text)),J()}function ee({index:x,offset:R}){if(c.value<0||!r.nodes.positive[x])return;const{type:K,text:U}=r.nodes.positive[x];if(x===r.position.start.index){if(K!=="text"||R===r.position.start.offset)return;const ge=r.position.start.offset-R,je=spliceStr(U,R,ge);r.nodes.positive[x].text=je,M({index:x,offset:R});return}const te=a(x),ue=r.nodes.positive[te];if(K!=="text")if(ue.type==="text"){const ge=ue.text.length-R;ue.text=spliceStr(ue.text,R,ge),r.nodes.positive.splice(te+1,c.value-te)}else r.nodes.positive.splice(te,c.value-te+1);else if(s.value.text=spliceStr(U,0,r.position.start.offset),ue.type==="text"){const ge=ue.text.length-R;ue.text=spliceStr(ue.text,R,ge),r.nodes.positive.splice(te+1,c.value-te)}else r.nodes.positive.splice(te,c.value-te+1);M({index:x,offset:R})}function W({type:x,data:R}){switch(x){case"at":we(R);break}}async function we(x){ee({index:r.position.start.index,offset:r.position.start.offset-(x.keyword.length+1)}),await P({type:"at",data:{text:`@${x.uname}`,rid:x.uid}},{type:"text",data:{text:" "}}),C()}function be(x,R){r.disableState.linefeed=R}async function ke(x){if(!x.data){Se();return}const K=r.position.start.index,U=r.nodes.positive[K];if(N(),!U)Ee(x.data);else{const te=U.type==="text",ue=U.type==="highlight";te?Be():ue?r.nodes.positive.splice(K,0,getRichTextareaNode({type:"text",data:{text:x.data}})):Ce(x.data)}}function Te(){setTimeout(()=>{if(i.value){k();return}},100)}function Se(){if(N(),i.value){k();return}r.nodes.positive=restoreFromRealNodes(r.nodes.real),I(J)}async function Ce(x){if(r.disableState.inputprev)return;const R=r.position.start.index;r.nodes.positive.splice(R,0,getRichTextareaNode({type:"text",data:{text:x}})),await H(),J()}function Be(){if(r.disableState.inputcurr)return;const x=e.value,R=createTrimTextNode(x),K=r.position.start.index;r.nodes.positive[K].text=R.text}async function Ee(x){r.disableState.inputnext||await P({type:"text",data:{text:x}})}function xe(x){const R=()=>{x.preventDefault()};setTimeout(N,20);const K=x.ctrlKey||x.metaKey,U=x.shiftKey;if(f.value&&!K&&![8].includes(x.keyCode))return R();switch(x.keyCode){case 8:if(n.value)return d.value&&k(),R();K?(R(),he()):Te();break;case 13:R(),U||_e();break;case 37:case 38:n.value&&R();break;case 39:case 40:break;case 46:G(R);break;case 88:K&&Y(R);break;case 90:K&&(R(),X(U));break}}function Ae(x,R){if(R==="start"){const K=r.position.start.index,U=r.nodes.positive[K];if(!U){r.disableState.inputnext=!0;return}U.type==="text"?r.disableState.inputcurr=!0:r.disableState.inputprev=!0;return}if(R==="end"){if(r.disableState.inputcurr){r.disableState.inputcurr=!1,x.data&&Be();return}if(r.disableState.inputprev){r.disableState.inputprev=!1,x.data&&Ce(x.data);return}r.disableState.inputnext&&(r.disableState.inputnext=!1,x.data&&Ee(x.data))}}function Ie(x){x.target===p.value&&oe()}async function $e(x){if(x.stopPropagation(),x.preventDefault(),f.value)return;let K=x.clipboardData.getData("Text").trim()+" ";t.maxlength>0&&r.value.length+K.length>t.maxlength&&(K=K.slice(0,Number(t.maxlength)-r.value.length)),L(...await upgradeText2RichTextareaNodes(K))}function Oe(x){switch(x.type){case"text":return x.text;case"highlight":return createVNode(Highlight,{data:x},null);case"emoji":return createVNode(Emoji,{data:x},null);default:return x.text}}return()=>createVNode("div",{class:"dynamic_rich_textarea",ref:x=>p.value=x,style:g,onClick:Ie},[withDirectives(createVNode("div",{ref:x=>h.value=x,class:w.value,style:b,placeholder:t.placeholder,onInput:ke,onCompositionstart:x=>Ae(x,"start"),onCompositionend:x=>Ae(x,"end"),onKeydown:xe,onPaste:$e,onMouseup:x=>{x.stopPropagation(),N()},onBlur:()=>{r.active=!1},onFocus:()=>{r.active=!0},contenteditable:!0},null),[[resolveDirective("input-helper"),E]]),r.syncOn?createVNode("div",{ref:x=>m.value=x,class:"dynamic_rich_textarea--inner-shadow"},[r.nodes.passive.map(Oe)]):null])}}),Popover_vue_vue_type_style_index_0_lang="";const _sfc_main$c=defineComponent({__name:"Popover",props:{visible:{type:Boolean,default:!1},relative:{type:Boolean,default:!1},trigger:{type:String,default:"click"},autohide:{type:Boolean,default:!0},beforeAutohide:{type:Function,default:null},width:{type:[String,Number],default:300},borderRadius:{type:[String,Number],default:8},boxShadow:{type:String,default:"0 3px 5px 0 rgb(0 0 0 / 17%)"},placement:{type:String,default:"bottom-start"},offset:{type:Object,default:()=>({x:0,y:0})},noArrow:{type:Boolean,default:!1},mutexId:{type:String,default:""}},emits:["update:visible"],setup(t,{emit:l}){const u=t,o=mitt(),{getZIndex:r}=usePopupZIndexStore(),a=reactive({ref:null,mutexTs:0,zIndex:0,position:{left:0,top:0},listeners:[]}),c=C=>{l("update:visible",C)},s=computed(()=>{var I,D;const C=((I=u.offset)==null?void 0:I.x)||0,O=Math.max(Number(u.width),0);switch(u.placement){case"bottom":return a.position.left+C-(O-(((D=a.ref)==null?void 0:D.offsetWidth)||0))/2;case"bottom-start":default:return a.position.left+C}}),e=computed(()=>{var I,D;const C=((I=u.offset)==null?void 0:I.y)||0,O=((D=a.ref)==null?void 0:D.offsetHeight)||0;switch(u.placement){case"bottom":return a.position.top+(C||O);case"bottom-start":default:return a.position.top+C}}),i=computed(()=>{const C=Math.max(Number(u.width),0);return{left:s.value+"px",top:e.value+"px",width:`${C}px`,zIndex:a.zIndex,borderRadius:`${u.borderRadius}px`,boxShadow:u.boxShadow}}),n=computed(()=>{switch(u.placement){case"bottom":return{left:"50%",transform:"translateX(-50%) rotate(45deg)"};case"bottom-end":return{right:"12px"};case"bottom-start":default:return{left:"22px"}}});watch$1(()=>u.visible,C=>{if(C&&(a.zIndex=r(),u.mutexId)){const O=Date.now();a.mutexTs=O,o.emit("visible",{id:u.mutexId,ts:O})}});const d=ref(null),f=ref(null),p=ref(null);let h=null;const m=async()=>{var k,A;await nextTick();const C=d.value,O=(k=f.value)==null?void 0:k.firstElementChild,I=(A=p.value)==null?void 0:A.firstElementChild;if(!I||!O||!C)return;const D=C.parentElement;if(a.ref=I,D.replaceChild(I,C),C.replaceChild(O,f.value),C.removeChild(p.value),h=()=>{C.replaceChild(f.value,O),f.value.appendChild(O),C.appendChild(p.value);const P=document.createElement("div");D.replaceChild(P,I),p.value.appendChild(I),D.replaceChild(C,P)},u.relative)getComputedStyle(I).position==="static"&&(I.style.position="relative",h=composeFunc(()=>{I.style.position=""},h)),C.style.cursor="default",I.appendChild(C),h=composeFunc(()=>{C.style.cursor="",I.removeChild(C)},h);else{document.body.appendChild(C);const{x:P,y:L}=I.getBoundingClientRect(),H=getScrollParent(I);a.position.left=P+H.scrollLeft,a.position.top=L+H.scrollTop}switch(u.trigger){case"click":b(I,"click",P=>{u.relative&&P.target!==I||g(P)}),u.autohide&&b(window,"click",P=>{!u.visible||typeof u.beforeAutohide=="function"&&u.beforeAutohide(P)||eventPathInclude(P,d)||g(P)});break;case"hover":b(I,"mouseenter",()=>{c(!0)}),b(I,"mouseleave",()=>{c(!1)});break}},v=()=>{!u.mutexId||o.off("visible",w)},w=({id:C,ts:O})=>{u.visible&&C===u.mutexId&&O!==a.mutexTs&&g(null)},g=C=>{var O;u.autohide&&((O=C==null?void 0:C.stopPropagation)==null||O.call(C)),c(!u.visible)},b=(C,O,I)=>{C.addEventListener(O,I),a.listeners.push({el:C,eventName:O,cb:I})},y=()=>{for(;a.listeners.length;){const{el:C,eventName:O,cb:I}=a.listeners.pop();C.removeEventListener(O,I)}},E=()=>{y(),v(),h()},N=()=>{!u.mutexId||o.on("visible",w)};return onMounted(()=>{m(),N()}),onBeforeUnmount(E),(C,O)=>(openBlock(),createBlock(Transition,{name:"base_popover--transition"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{role:"tooltip",class:"base_popover",style:normalizeStyle(unref(i)),ref_key:"elRef",ref:d},[t.noArrow?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:"base_popover--arrow",style:normalizeStyle(unref(n))},null,4)),createBaseVNode("div",{class:"base_popover--default",ref_key:"defaultRef",ref:f},[renderSlot(C.$slots,"default")],512),createBaseVNode("div",{class:"base_popover--reference",ref_key:"referenceRef",ref:p},[renderSlot(C.$slots,"reference")],512)],4),[[vShow,t.visible]])]),_:3}))}});var EmojiPopover_vue_vue_type_style_index_0_lang="";const _hoisted_1$C={class:"v_emoji"},_hoisted_2$B={class:"v_emoji--content"},_hoisted_3$A={class:"v_emoji--title"},_hoisted_4$f={class:"v_emoji--list"},_hoisted_5$9=["onClick"],_hoisted_6$4=["src","alt"],_hoisted_7$4={key:1},_hoisted_8$4={class:"v_emoji--footer"},_hoisted_9$4={class:"v_emoji--footer--left"},_hoisted_10$2=["onClick"],_hoisted_11$1=["src","alt"],_hoisted_12$1={class:"v_emoji--footer--right"},_hoisted_13$1={class:"v_emoji--pagi"},_sfc_main$b=defineComponent({__name:"EmojiPopover",props:{visible:{type:Boolean,default:!1},relative:{type:Boolean,default:!1},placement:{type:String,default:"bottom-start"},offset:{type:Object,default:()=>({x:0,y:0})},beforeAutohide:{type:Function,default:null},mutexId:{type:String,default:""}},emits:["update:visible","select"],setup(t,{emit:l}){const o=ref(!1),r=ref("EMPTY"),a=reactive([]),c=ref(0),s=ref(0),e=computed(()=>s.value?{transform:`translateX(${-s.value*270}px)`}:{}),i=computed(()=>a.length?a[c.value]:{}),n=computed(()=>i.value.text||""),d=computed(()=>(i.value.emote||[]).map(w=>{let g="small",b=w.url;return w.meta.size===2?(g="middle",b=formatImg(w.url,{w:112,h:112})):w.type!==4?b=formatImg(w.url,{w:64,h:64}):g="large",{src:b,size:g,text:w.text,id:w.id,type:w.type}}));watch$1(o,v=>{l("update:visible",v)}),onMounted(()=>{setTimeout(f,1e3)});async function f(){if(r.value!=="FETCHING"){r.value="FETCHING";try{a.push(...(await initEmojiPackage()||[]).map((v,w)=>({...v,src:formatImg(v.url,{w:48,h:48}),active:c.value===w}))),r.value="FETCHED"}catch(v){r.value="ERROR",console.log("error",v)}}}function p(v){v!==c.value&&(a[c.value].active=!1,c.value=v,a[c.value].active=!0)}function h(v){l("select",v)}function m(v){s.value+v>=Math.ceil(a.length/5)||s.value+v<0||(s.value+=v)}return events.on("hidePopover",()=>{o.value=!1}),(v,w)=>(openBlock(),createBlock(_sfc_main$c,{visible:o.value,"onUpdate:visible":w[2]||(w[2]=g=>o.value=g),width:"380",relative:t.relative,"mutex-id":t.mutexId,placement:t.placement,"before-autohide":t.beforeAutohide,offset:t.offset},{reference:withCtx(()=>[renderSlot(v.$slots,"reference")]),default:withCtx(()=>[createBaseVNode("div",_hoisted_1$C,[createBaseVNode("div",_hoisted_2$B,[createBaseVNode("div",_hoisted_3$A,toDisplayString(unref(n)),1),createBaseVNode("ul",_hoisted_4$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(d),(g,b)=>(openBlock(),createElementBlock("li",{key:b,class:normalizeClass(["v_emoji--list--item",{"v_emoji--list--item":!0,[g.size]:!0}]),onClick:withModifiers(y=>h(g),["stop"])},[g.type!==4?(openBlock(),createElementBlock("img",{key:0,src:g.src,alt:g.text},null,8,_hoisted_6$4)):(openBlock(),createElementBlock("span",_hoisted_7$4,toDisplayString(g.src),1))],10,_hoisted_5$9))),128))])]),createBaseVNode("div",_hoisted_8$4,[createBaseVNode("div",_hoisted_9$4,[createBaseVNode("div",{class:"v_emoji--pkgs",style:normalizeStyle(unref(e))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a,(g,b)=>(openBlock(),createElementBlock("div",{key:b,class:normalizeClass({"v_emoji--pkg":!0,active:g.active}),onClick:withModifiers(y=>p(b),["stop"])},[createBaseVNode("img",{src:g.src,alt:g.text},null,8,_hoisted_11$1)],10,_hoisted_10$2))),128))],4)]),createBaseVNode("div",_hoisted_12$1,[createBaseVNode("div",_hoisted_13$1,[createBaseVNode("div",{class:"v_emoji--pagi--prev",onClick:w[0]||(w[0]=withModifiers(g=>m(-1),["stop"]))}),createBaseVNode("div",{class:"v_emoji--pagi--next",onClick:w[1]||(w[1]=withModifiers(g=>m(1),["stop"]))})])])])])]),_:3},8,["visible","relative","mutex-id","placement","before-autohide","offset"]))}});var CommonCard_vue_vue_type_style_index_0_lang="";const _hoisted_1$B={class:"dynamic_preview_common_card"},_hoisted_2$A={class:"dynamic_preview_common_card--cover"},_hoisted_3$z={class:"dynamic_preview_common_card--content"},_sfc_main$a=defineComponent({__name:"CommonCard",props:{data:{type:Object,default:()=>({cover:"",nodes:[]})}},setup(t){return(l,u)=>(openBlock(),createElementBlock("div",_hoisted_1$B,[createBaseVNode("div",_hoisted_2$A,[createVNode(unref(VImg),{class:"dynamic_card_archive--cover--img",src:t.data.cover.replace("pre-",""),width:80,height:80,rule:"1c"},null,8,["src"])]),createBaseVNode("div",_hoisted_3$z,[createVNode(unref(RichText),{nodes:t.data.nodes,lines:"4",unfold:""},null,8,["nodes"])])]))}});var VideoCard_vue_vue_type_style_index_0_lang="";const _hoisted_1$A={class:"dynamic_preview_video_card"},_hoisted_2$z={class:"dynamic_preview_video_card--cover"},_hoisted_3$y={class:"dynamic_preview_video_card--content"},_hoisted_4$e={class:"dynamic_preview_video_card--title"},_hoisted_5$8={class:"dynamic_preview_video_card--desc"},_hoisted_6$3={class:"dynamic_preview_video_card--stat"},_hoisted_7$3={key:0,class:"dynamic_preview_video_card--stat--item"},_hoisted_8$3={key:1,class:"dynamic_preview_video_card--stat--item"},_hoisted_9$3={class:"dynamic_preview_video_card--stat--item"},_sfc_main$9=defineComponent({__name:"VideoCard",props:{data:{type:Object,default:()=>({cover:"",title:"",desc:"",stat:{play:"",danmaku:"",vt:""},enable_vt:0})}},setup(t){return(l,u)=>(openBlock(),createElementBlock("div",_hoisted_1$A,[createBaseVNode("div",_hoisted_2$z,[createVNode(unref(VImg),{class:"dynamic_card_archive--cover--img",src:t.data.cover.replace("pre-",""),width:142,height:80,rule:"1c"},null,8,["src"])]),createBaseVNode("div",_hoisted_3$y,[createBaseVNode("div",_hoisted_4$e,toDisplayString(t.data.title),1),createBaseVNode("div",_hoisted_5$8,toDisplayString(t.data.desc),1),createBaseVNode("div",_hoisted_6$3,[t.data.enable_vt?(openBlock(),createElementBlock("div",_hoisted_7$3,[createVNode(unref(PlayTime)),createTextVNode(" "+toDisplayString(t.data.stat.play||"0"),1)])):(openBlock(),createElementBlock("div",_hoisted_8$3,[createVNode(unref(IcoPlay)),createTextVNode(" "+toDisplayString(t.data.stat.play||"0"),1)])),createBaseVNode("div",_hoisted_9$3,[createVNode(unref(IcoDanmaku)),createTextVNode(" "+toDisplayString(t.data.stat.danmaku||"0"),1)])])])]))}}),_hoisted_1$z={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$y=createBaseVNode("path",{d:"M6.2 13.588v7.645c0 2.413 1.967 4.37 4.39 4.37h10.42c2.42 0 4.39-1.958 4.39-4.37v-7.645c0-2.412-1.967-4.37-4.39-4.37H10.59c-2.42 0-4.39 1.959-4.39 4.37Zm5.22-8.216 1.404 2.653h5.954l1.404-2.622a.702.702 0 0 1 .851-.33l.095.042c.31.163.446.526.332.845l-.042.095-1.054 1.97h.646c3.086 0 5.59 2.493 5.59 5.563v7.645c0 3.07-2.508 5.563-5.59 5.563H10.59c-3.087 0-5.59-2.493-5.59-5.563v-7.645c0-3.069 2.507-5.562 5.59-5.562l.653-.001-1.063-2.006a.693.693 0 0 1 .294-.939.702.702 0 0 1 .946.292Zm6.964 14.075H13.22c-.558 0-.913.521-.756 1.054.414 1.407 1.773 2.421 3.336 2.421 1.568 0 2.9-1.043 3.34-2.435.145-.458-.2-1.04-.756-1.04Zm-9.149-6.445a.593.593 0 0 0 .116.835l2.541 1.913-2.474 1.705a.594.594 0 0 0-.2.745l.048.084c.17.244.49.322.75.199l.085-.049 3.168-2.181.052-.041.073-.08a.593.593 0 0 0-.116-.835l-3.202-2.41a.603.603 0 0 0-.841.115Zm13.13 0a.603.603 0 0 0-.749-.172l-.092.057-3.202 2.41a.593.593 0 0 0-.116.835l.04.047.058.054 3.195 2.201c.272.188.646.12.835-.15a.593.593 0 0 0-.151-.829l-2.476-1.705 2.542-1.913a.593.593 0 0 0 .169-.753l-.053-.082Z",fill:"#9499A0"},null,-1),_hoisted_3$x=[_hoisted_2$y];function render$s(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$z,_hoisted_3$x)}var IcoEmoji={render:render$s};const _hoisted_1$y={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$x=createBaseVNode("path",{d:"M16.822 5.263c6.37 0 10.48 5.343 9.486 11.06-.497 2.858-2.138 4.66-4.843 5.303a.673.673 0 0 1-.534-.098c-.453.06-.93.049-1.391-.09-.746-.226-1.164-1.256-1.223-1.711a3.42 3.42 0 0 1-.318.445c-.202.243-.449.47-.74.683a4.358 4.358 0 0 1-.998.536 3.44 3.44 0 0 1-1.252.22c-.62 0-1.178-.122-1.673-.365a3.677 3.677 0 0 1-1.251-.991c-.34-.417-.6-.92-.782-1.509a6.441 6.441 0 0 1-.271-1.912c0-.802.126-1.59.378-2.364a6.894 6.894 0 0 1 1.07-2.065 5.308 5.308 0 0 1 1.7-1.456c.673-.366 1.428-.549 2.261-.549.696 0 1.3.17 1.808.514.436.293.762.644.975 1.05.003.006.01-.008.02-.033l.034-.103.049-.193.009-.053c.038-.27.279-1.023.923-.952.645.071.626.734.573.991l-.62 2.997-.161.76-.122.603-.118.639c-.074.43-.138.859-.175 1.24l-.035.39c-.08 1.012-.042 1.758.62 2.005l.133.046c.136.043.332.092.583.107a.626.626 0 0 1 .216-.096c2.171-.515 3.42-1.886 3.825-4.22.855-4.918-2.653-9.48-8.156-9.48-5.786 0-9.928 4.2-9.928 9.595 0 4.98 4.374 9.18 9.241 9.18 3.901 0 5.982-.814 8.447-2.983a.675.675 0 1 1 .892 1.013c-2.707 2.382-5.103 3.32-9.339 3.32-5.601 0-10.59-4.792-10.59-10.53 0-6.136 4.742-10.944 11.277-10.944Zm-.65 6.537c-.603 0-1.126.157-1.574.47-.459.321-.852.73-1.179 1.229a5.685 5.685 0 0 0-.74 1.69 7.295 7.295 0 0 0-.247 1.857c0 .29.036.623.108 1 .07.369.197.717.379 1.045.178.322.42.587.727.799.3.206.686.31 1.163.31.687 0 1.268-.173 1.747-.517.488-.352.885-.791 1.19-1.319a6.296 6.296 0 0 0 .68-1.71c.146-.61.218-1.177.218-1.7a5.62 5.62 0 0 0-.123-1.173 2.986 2.986 0 0 0-.406-1.008 2.142 2.142 0 0 0-.753-.704c-.313-.179-.709-.269-1.19-.269Z",fill:"#9499A0"},null,-1),_hoisted_3$w=[_hoisted_2$x];function render$r(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$y,_hoisted_3$w)}var IcoAt={render:render$r},ForwardPublish_vue_vue_type_style_index_0_lang="";const _hoisted_1$x={class:"dynamic_forward_publish"},_hoisted_2$w={class:"dynamic_forward_publish--input"},_hoisted_3$v={class:"dynamic_forward_publish--preview"},_hoisted_4$d={class:"dynamic_forward_publish--preview--user"},_hoisted_5$7={class:"dynamic_forward_publish--preview--card"},_hoisted_6$2={class:"dynamic_forward_publish--control"},_hoisted_7$2={class:"dynamic_forward_publish--tools"},_hoisted_8$2=createTextVNode(" > "),_hoisted_9$2={class:"dynamic_forward_publish--headquarters"},_hoisted_10$1=["title"],_sfc_main$8=defineComponent({__name:"ForwardPublish",props:{version:{type:String,default:"lite",validator(t){return["lite","pro"].includes(t)}},defaultContent:{type:String,default:""},defaultContentNodes:{type:Array,default:()=>[]}},emits:["done","popover-visible-change"],setup(t,{expose:l,emit:u}){const{userInfo:r}=storeToRefs(useUserInfoStore()),a=reactive({init:!1,publish:!1}),c=ref(""),s=reactive({id:0,name:"",requestId:"",fromSource:""}),e=reactive({value:"",nodes:[]}),i=reactive({tools:{emoji:{visible:!0,active:!1},at:{visible:!0,active:!1,config:{maxCount:20}}}}),n=ref(null),d=computed(()=>!!e.value),f=computed(()=>getStringLength(e.value)),p=computed(()=>{const k=f.value,A=k>0,P=k>233;let L=k;return P&&(L=233-k),{visible:A,text:L,heedful:P,title:"\u5168\u89D2\u5B57\u7B26\u8BA1\u6570\u4E3A1\u534A\u89D2\u5B57\u7B26\u8BA1\u6570\u4E3A0.5\uFF0C\u4E0D\u8DB31\u65F6\u8BB0\u4E3A1"}}),h=computed(()=>{var A;const k=a.init||a.publish;return{text:"\u8F6C\u53D1",disabled:k||((A=p.value)==null?void 0:A.heedful)}}),m=reactive({textarea:null});function v(k,A){m[k]=A}function w(k,{nodes:A}){let P=0,L={at:!1};const H=i.tools.at.config.maxCount;A.forEach(J=>{if(J.type==="highlight")switch(J.data.type){case"at":P++;break}}),k.forEach((J,oe)=>{if(J.type==="highlight")switch(J.data.type){case"at":P===H?(L.at=!0,k[oe]=getRichTextareaTextNode(J.text)):P++;break}}),L.at&&toastAsync({content:`\u6700\u591A\u652F\u6301@ ${H}\u4F4D\u7528\u6237`})}function g(k){const{value:A,nodes:P}=k;e.value=A,e.nodes=P,p.value.heedful&&toastAsync({content:"\u5DF2\u8D85\u51FA\u89C4\u5B9A\u5B57\u6570\u4E86\u54E6~"})}function b(k){k.type===4?E({type:"text",data:{text:k.text}}):E({type:"emoji",data:k})}async function y(k){var A,P;switch((P=(A=i.tools[k])==null?void 0:A.config)!=null&&P.focus&&await D(),k){case"at":E({type:"text",data:{text:"@"}});break}}function E(...k){m.textarea.insert(...k)}function N(){m.textarea.refresh({nodes:[]}),n.value=null}async function T(){if(h.value.disabled)return;a.publish=!0;const k=n.value.id;try{const A=await createDynamic({nodes:e.nodes,topic:s,scene:4,uploadId:c.value,comment:1,repostSrc:{dynId:k}});toastAsync({content:"\u8F6C\u53D1\u6210\u529F"}),a.publish=!1,events.emit("syncDynamicState",{id:k,module:"stat",key:"forwardState",state:{offset:1}}),u("done",{...A}),N()}catch(A){a.publish=!1,toastAsync({content:A.message})}}function C(){c.value=`${r.value.mid||0}_${Math.floor(Date.now()/1e3)}_${Math.floor(Math.random()*1e4)}`}async function O(k){var A;try{a.init=!0;const[{settings:P},{item:L}]=await Promise.all([getDynamicPublishConfig(),getDynamicForwardPreview(k.id||k.rid,k.type)]);if(!L)return a.init=!1,Promise.reject(new Error("Miss preview data"));(A=k.defaultContent)!=null&&A.length&&m.textarea.refresh({nodes:[...k.defaultContent]}),n.value=L,i.tools.at.config.maxCount=P.max_at_count||20,c.value||C()}catch(P){console.log(P.message)}a.init=!1}async function I(){if(a.init||a.publish)return Promise.reject(new Error("loading..."));if(d.value&&!await alertAsync({content:`\u786E\u8BA4\u8981\u653E\u5F03\u53D1\u5E03\u5417
\u653E\u5F03\u540E\u5C06\u4E0D\u4F1A\u4FDD\u5B58`,cancelText:"\u53D6\u6D88",confirmText:"\u786E\u5B9A"}))return Promise.reject("cancel");N()}async function D(){await promiseTimeout(0),m.textarea.focus()}return watch$1(i,k=>{const A=k.tools.emoji.active;u("popover-visible-change",A)},{deep:!0}),l({init:O,exit:I,focus:D}),(k,A)=>{const P=resolveComponent("VButton");return openBlock(),createElementBlock("div",_hoisted_1$x,[createBaseVNode("div",_hoisted_2$w,[createVNode(unref(RichTextarea),{ref:L=>v("textarea",L),placeholder:"\u5206\u4EAB\u81F3\u52A8\u6001","default-value":t.defaultContent,"default-nodes":t.defaultContentNodes,"before-insert":w,onChange:g},null,8,["default-value","default-nodes"])]),createBaseVNode("div",_hoisted_3$v,[n.value?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_4$d,"@"+toDisplayString(n.value.user.name),1),createBaseVNode("div",_hoisted_5$7,[n.value.type===1?(openBlock(),createBlock(_sfc_main$a,{key:0,data:n.value.common_card},null,8,["data"])):createCommentVNode("",!0),n.value.type===2?(openBlock(),createBlock(_sfc_main$9,{key:1,data:n.value.video_card},null,8,["data"])):createCommentVNode("",!0)])],64)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_6$2,[createBaseVNode("div",_hoisted_7$2,[createVNode(_sfc_main$b,{visible:i.tools.emoji.active,"onUpdate:visible":A[0]||(A[0]=L=>i.tools.emoji.active=L),relative:"","mutex-id":"tool",offset:{x:-11,y:32},onSelect:b},{reference:withCtx(()=>[createBaseVNode("div",{class:normalizeClass({"dynamic_forward_publish--tools--item":!0,active:i.tools.emoji.active})},[createVNode(unref(IcoEmoji))],2),_hoisted_8$2]),_:1},8,["visible"]),createBaseVNode("div",{class:"dynamic_forward_publish--tools--item",onClick:A[1]||(A[1]=L=>y("at"))},[createVNode(unref(IcoAt))])]),createBaseVNode("div",_hoisted_9$2,[withDirectives(createBaseVNode("div",{class:normalizeClass({"dynamic_forward_publish--hint":!0,heedful:unref(p).heedful}),title:unref(p).title},toDisplayString(unref(p).text),11,_hoisted_10$1),[[vShow,unref(p).visible]]),createVNode(P,{class:"dynamic_forward_publish--action bd_radius_sm",disabled:unref(h).disabled,type:"pink",onClick:T},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(h).text),1)]),_:1},8,["disabled"])])])])}}});var ForwardPopup_vue_vue_type_style_index_0_lang="";const _hoisted_1$w={class:"dynamic_forward_popup--header flex_between"},_hoisted_2$v=["textContent"],_hoisted_3$u=["onClick"],_hoisted_4$c={class:"dynamic_forward_popup--content"},_sfc_main$7=defineComponent({__name:"ForwardPopup",props:{active:{type:Boolean,default:!1}},setup(t,{expose:l}){const u=t,{userInfo:o}=storeToRefs(useUserInfoStore()),r=ref(!1),a=ref(!1),c=ref(null),s=ref(null),e=ref("\u8F6C\u53D1\u52A8\u6001"),i=async v=>{try{if(r.value)return;r.value=!0,await s.value.init(v),a.value=!0,p(v.rid&&!v.id),c.value.show(),s.value.focus(),r.value=!1}catch(w){r.value=!1,console.log(w)}},n=async()=>{a.value=!1;try{await s.value.exit(),c.value.hide()}catch(v){console.log(v)}},d=v=>{c.value.hide(),a.value=!1},f=v=>{v?c.value.el.style.top="calc(50% - 130px)":c.value.el.style.top=""},p=v=>{e.value=v?"\u5206\u4EAB\u81F3\u52A8\u6001":"\u8F6C\u53D1\u52A8\u6001"},h=v=>{if(!!u.active){if(!o.value.isLogin){requestLogin("forwardPopup.onForwardDynamic");return}i(v)}};return events.on("forwardDynamic",h),onBeforeUnmount(()=>{events.off("forwardDynamic",h)}),l({show:i,hide:n,closeDialog:()=>n(),isShowDialog:a}),(v,w)=>(openBlock(),createBlock(VPopup,{"custom-class":"dynamic_forward_popup",ref_key:"popupRef",ref:c,onWrapClick:n},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$w,[createBaseVNode("div",{class:"dynamic_forward_popup--title",textContent:toDisplayString(e.value)},null,8,_hoisted_2$v),createBaseVNode("div",{class:"dynamic_forward_popup--close",onClick:withModifiers(n,["stop"])},[createVNode(unref(IcoClose$1))],8,_hoisted_3$u)]),createBaseVNode("div",_hoisted_4$c,[createVNode(_sfc_main$8,{ref_key:"publishRef",ref:s,onDone:d,onPopoverVisibleChange:f},null,512)])]),_:1},512))}}),_hoisted_1$v={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$u=createBaseVNode("path",{stroke:"currentColor","stroke-width":"2","stroke-linecap":"round",d:"M9 16h14"},null,-1),_hoisted_3$t=[_hoisted_2$u];function render$q(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$v,_hoisted_3$t)}var IcoMin={render:render$q};const _hoisted_1$u={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$t=createBaseVNode("rect",{x:"9",y:"9",width:"14",height:"14",rx:"2",stroke:"currentColor","stroke-width":"2"},null,-1),_hoisted_3$s=[_hoisted_2$t];function render$p(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$u,_hoisted_3$s)}var IcoMax={render:render$p};const _hoisted_1$t={viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$s=createBaseVNode("rect",{x:"9",y:"11",width:"12",height:"12",rx:"2",stroke:"currentColor","stroke-width":"2"},null,-1),_hoisted_3$r=createBaseVNode("path",{d:"M13 8h6.5a4.5 4.5 0 0 1 4.5 4.5V19",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),_hoisted_4$b=[_hoisted_2$s,_hoisted_3$r];function render$o(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$t,_hoisted_4$b)}var IcoMaxExit={render:render$o};const _hoisted_1$s={viewBox:"0 0 21 18",fill:"currentColor"},_hoisted_2$r=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17 0a2 2 0 0 1 2 2v7h-2V2.8a.8.8 0 0 0-.8-.8H2.8a.8.8 0 0 0-.794.7L2 2.8v10.4a.8.8 0 0 0 .7.794l.1.006H10v2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h15Z"},null,-1),_hoisted_3$q=createBaseVNode("path",{d:"M19.875 11h-6.75c-.621 0-1.125.522-1.125 1.167v4.666c0 .645.504 1.167 1.125 1.167h6.75c.621 0 1.125-.522 1.125-1.167v-4.666c0-.645-.504-1.167-1.125-1.167Z"},null,-1),_hoisted_4$a=[_hoisted_2$r,_hoisted_3$q];function render$n(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$s,_hoisted_4$a)}var IcoMini={render:render$n},Loading_vue_vue_type_style_index_0_lang="";const _hoisted_1$r={class:"app_video--loading"},_hoisted_2$q=createBaseVNode("div",{class:"app_video--loading-img"},null,-1),_hoisted_3$p=[_hoisted_2$q],_sfc_main$6=defineComponent({__name:"Loading",props:{loading:{type:Boolean,default:!1}},setup(t){const l=t;return(u,o)=>withDirectives((openBlock(),createElementBlock("div",_hoisted_1$r,_hoisted_3$p,512)),[[vShow,l.loading]])}}),_hoisted_1$q={width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$p=createBaseVNode("path",{stroke:"#A2A7AE","stroke-width":"2","stroke-linecap":"round",d:"M1 1h10M1 6h10M1 11h10"},null,-1),_hoisted_3$o=[_hoisted_2$p];function render$m(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$q,_hoisted_3$o)}var VdMenu={render:render$m};const _hoisted_1$p={width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor"},_hoisted_2$o=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 4.063c-2.142 0-4.01.11-5.323.217a1.813 1.813 0 0 0-1.676 1.652A45.835 45.835 0 0 0 2.813 10c0 1.563.09 2.99.188 4.068.08.891.778 1.579 1.676 1.652a66.19 66.19 0 0 0 5.323.217c2.142 0 4.01-.11 5.323-.217a1.813 1.813 0 0 0 1.676-1.652c.097-1.076.189-2.504.189-4.068 0-1.564-.092-2.992-.19-4.068a1.813 1.813 0 0 0-1.675-1.652A66.19 66.19 0 0 0 10 4.062ZM4.575 3.034A67.443 67.443 0 0 1 10 2.813c2.184 0 4.087.112 5.425.221a3.062 3.062 0 0 1 2.819 2.785c.1 1.104.194 2.57.194 4.181 0 1.61-.095 3.077-.194 4.18a3.062 3.062 0 0 1-2.82 2.786 67.44 67.44 0 0 1-5.424.221c-2.183 0-4.086-.112-5.425-.221a3.063 3.063 0 0 1-2.819-2.786c-.1-1.104-.194-2.57-.194-4.18 0-1.61.095-3.076.194-4.18a3.063 3.063 0 0 1 2.82-2.786ZM5 8.438c0-.346.28-.626.625-.626h.313a.625.625 0 1 1 0 1.25h-.313A.625.625 0 0 1 5 8.438Zm2.5 0c0-.346.28-.626.625-.626h5a.625.625 0 1 1 0 1.25h-5a.625.625 0 0 1-.625-.624Zm-.625 2.5a.625.625 0 1 0 0 1.25h.313a.625.625 0 1 0 0-1.25h-.313Zm2.5 0a.625.625 0 1 0 0 1.25h5a.625.625 0 1 0 0-1.25h-5Z"},null,-1),_hoisted_3$n=[_hoisted_2$o];function render$l(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$p,_hoisted_3$n)}var VdDm={render:render$l};const _hoisted_1$o={width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor"},_hoisted_2$n=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.677 4.28A66.19 66.19 0 0 1 10 4.062c2.142 0 4.01.11 5.323.218.899.073 1.595.76 1.676 1.652.097 1.076.189 2.504.189 4.068 0 1.564-.092 2.992-.19 4.068a1.813 1.813 0 0 1-1.675 1.652c-1.313.107-3.18.217-5.323.217-2.142 0-4.01-.11-5.323-.217a1.813 1.813 0 0 1-1.676-1.652A45.835 45.835 0 0 1 2.813 10c0-1.563.09-2.99.188-4.068A1.813 1.813 0 0 1 4.677 4.28ZM10 2.812c-2.183 0-4.086.113-5.425.222A3.063 3.063 0 0 0 1.756 5.82c-.1 1.104-.194 2.57-.194 4.18 0 1.61.095 3.076.194 4.18a3.063 3.063 0 0 0 2.82 2.786c1.338.11 3.24.221 5.424.221a67.44 67.44 0 0 0 5.425-.221 3.062 3.062 0 0 0 2.819-2.785c.1-1.104.194-2.57.194-4.181 0-1.61-.095-3.077-.194-4.18a3.062 3.062 0 0 0-2.82-2.786A67.442 67.442 0 0 0 10 2.813Zm2.188 7.91a.833.833 0 0 0 0-1.443L9.06 7.474a.833.833 0 0 0-1.25.721v3.61a.833.833 0 0 0 1.25.722l3.127-1.805Z"},null,-1),_hoisted_3$m=[_hoisted_2$n];function render$k(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$o,_hoisted_3$m)}var VdPlay={render:render$k},RingProgress_vue_vue_type_style_index_0_lang="";const _hoisted_1$n=["width","height"],_sfc_main$5=defineComponent({__name:"RingProgress",props:{size:Number,left:Number,top:Number,start:{type:Boolean,default:()=>!1}},emits:["scaleAnim","shakeAnim","animFinish"],setup(t,{emit:l}){const u=t,o=ref(0),r=ref(null),a=ref(null),c=ref(.25),s=ref(null),e=computed(()=>u.size/2),i=()=>{a.value.clearRect(0,0,u.size,u.size),a.value.beginPath(),a.value.strokeStyle="#FF6699",a.value.lineWidth=1,a.value.arc(e.value,e.value,e.value-1,-Math.PI/2,(o.value-.5)*Math.PI),a.value.stroke()};onMounted(()=>{});const n=()=>{clearInterval(r.value),c.value=.25,r.value=setInterval(()=>{o.value+=2/15,i(),o.value<8/15&&(c.value*=Math.cbrt(4),l("scaleAnim",c.value)),o.value>=8/15&&o.value<10/15&&l("shakeAnim"),o.value>=28/15&&o.value<2&&(c.value/=Math.cbrt(4),l("scaleAnim",c.value)),o.value>=2&&(o.value=0,i(),clearInterval(r.value),l("animFinish"))},100)},d=()=>{clearInterval(r.value),r.value=setInterval(()=>{o.value-=.1,i(),o.value<=0&&(o.value=0,i(),clearInterval(r.value))},50)};return onMounted(()=>{a.value=s.value.getContext("2d"),i(),watch$1(()=>u.start,()=>{u.start?n():d()})}),(f,p)=>(openBlock(),createElementBlock("canvas",{ref_key:"progress",ref:s,width:t.size,height:t.size,style:normalizeStyle({width:`${t.size}px`,height:`${t.size}px`,left:`${t.left}px`,top:`${t.top}px`}),class:"ring-progress"},null,12,_hoisted_1$n))}});var svga_min={exports:{}};(function(module,exports){(function(t,l){module.exports=l()})(window,function(){return function(t){function l(o){if(u[o])return u[o].exports;var r=u[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,l),r.l=!0,r.exports}var u={};return l.m=t,l.c=u,l.d=function(o,r,a){l.o(o,r)||Object.defineProperty(o,r,{enumerable:!0,get:a})},l.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},l.t=function(o,r){if(1&r&&(o=l(o)),8&r||4&r&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&r&&typeof o!="string")for(var c in o)l.d(a,c,function(s){return o[s]}.bind(null,c));return a},l.n=function(o){var r=o&&o.__esModule?function(){return o.default}:function(){return o};return l.d(r,"a",r),r},l.o=function(o,r){return Object.prototype.hasOwnProperty.call(o,r)},l.p="",l(l.s=64)}([function(t,l,u){var o,r,a=t.exports=u(1),c=u(20);a.codegen=u(47),a.fetch=u(48),a.path=u(49),a.fs=a.inquire("fs"),a.toArray=function(d){if(d){for(var f=Object.keys(d),p=new Array(f.length),h=0;h<f.length;)p[h]=d[f[h++]];return p}return[]},a.toObject=function(d){for(var f={},p=0;p<d.length;){var h=d[p++],m=d[p++];m!==void 0&&(f[h]=m)}return f};var s=/\\/g,e=/"/g;a.isReserved=function(d){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(d)},a.safeProp=function(d){return!/^[$\w_]+$/.test(d)||a.isReserved(d)?'["'+d.replace(s,"\\\\").replace(e,'\\"')+'"]':"."+d},a.ucFirst=function(d){return d.charAt(0).toUpperCase()+d.substring(1)};var i=/_([a-z])/g;a.camelCase=function(d){return d.substring(0,1)+d.substring(1).replace(i,function(f,p){return p.toUpperCase()})},a.compareFieldsById=function(d,f){return d.id-f.id},a.decorateType=function(d,f){if(d.$type)return f&&d.$type.name!==f&&(a.decorateRoot.remove(d.$type),d.$type.name=f,a.decorateRoot.add(d.$type)),d.$type;o||(o=u(22));var p=new o(f||d.name);return a.decorateRoot.add(p),p.ctor=d,Object.defineProperty(d,"$type",{value:p,enumerable:!1}),Object.defineProperty(d.prototype,"$type",{value:p,enumerable:!1}),p};var n=0;a.decorateEnum=function(d){if(d.$type)return d.$type;r||(r=u(2));var f=new r("Enum"+n++,d);return a.decorateRoot.add(f),Object.defineProperty(d,"$type",{value:f,enumerable:!1}),f},a.setProperty=function(d,f,p){if(typeof d!="object")throw TypeError("dst must be an object");if(!f)throw TypeError("path must be specified");return function h(m,v,w){var g=v.shift();if(v.length>0)m[g]=h(m[g]||{},v,w);else{var b=m[g];b&&(w=[].concat(b).concat(w)),m[g]=w}return m}(d,f=f.split("."),p)},Object.defineProperty(a,"decorateRoot",{get:function(){return c.decorated||(c.decorated=new(u(30)))}})},function(t,l,u){(function(o){function r(s,e,i){for(var n=Object.keys(e),d=0;d<n.length;++d)s[n[d]]!==void 0&&i||(s[n[d]]=e[n[d]]);return s}function a(s){function e(i,n){if(!(this instanceof e))return new e(i,n);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&r(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return s}}),e.prototype.toString=function(){return this.name+": "+this.message},e}var c=l;c.asPromise=u(17),c.base64=u(38),c.EventEmitter=u(39),c.float=u(40),c.inquire=u(18),c.utf8=u(41),c.pool=u(42),c.LongBits=u(43),c.isNode=Boolean(o!==void 0&&o&&o.process&&o.process.versions&&o.process.versions.node),c.global=c.isNode&&o||typeof window!="undefined"&&window||typeof self!="undefined"&&self||this,c.emptyArray=Object.freeze?Object.freeze([]):[],c.emptyObject=Object.freeze?Object.freeze({}):{},c.isInteger=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},c.isString=function(s){return typeof s=="string"||s instanceof String},c.isObject=function(s){return s&&typeof s=="object"},c.isset=c.isSet=function(s,e){var i=s[e];return!(i==null||!s.hasOwnProperty(e))&&(typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0)},c.Buffer=function(){try{var s=c.inquire("buffer").Buffer;return s.prototype.utf8Write?s:null}catch{return null}}(),c._Buffer_from=null,c._Buffer_allocUnsafe=null,c.newBuffer=function(s){return typeof s=="number"?c.Buffer?c._Buffer_allocUnsafe(s):new c.Array(s):c.Buffer?c._Buffer_from(s):typeof Uint8Array=="undefined"?s:new Uint8Array(s)},c.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,c.Long=c.global.dcodeIO&&c.global.dcodeIO.Long||c.global.Long||c.inquire("long"),c.key2Re=/^true|false|0|1$/,c.key32Re=/^-?(?:0|[1-9][0-9]*)$/,c.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,c.longToHash=function(s){return s?c.LongBits.from(s).toHash():c.LongBits.zeroHash},c.longFromHash=function(s,e){var i=c.LongBits.fromHash(s);return c.Long?c.Long.fromBits(i.lo,i.hi,e):i.toNumber(Boolean(e))},c.merge=r,c.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)},c.newError=a,c.ProtocolError=a("ProtocolError"),c.oneOfGetter=function(s){for(var e={},i=0;i<s.length;++i)e[s[i]]=1;return function(){for(var n=Object.keys(this),d=n.length-1;d>-1;--d)if(e[n[d]]===1&&this[n[d]]!==void 0&&this[n[d]]!==null)return n[d]}},c.oneOfSetter=function(s){return function(e){for(var i=0;i<s.length;++i)s[i]!==e&&delete this[s[i]]}},c.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},c._configure=function(){var s=c.Buffer;s?(c._Buffer_from=s.from!==Uint8Array.from&&s.from||function(e,i){return new s(e,i)},c._Buffer_allocUnsafe=s.allocUnsafe||function(e){return new s(e)}):c._Buffer_from=c._Buffer_allocUnsafe=null}}).call(this,u(37))},function(t,l,u){function o(s,e,i,n,d){if(r.call(this,s,i),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=d||{},this.reserved=void 0,e)for(var f=Object.keys(e),p=0;p<f.length;++p)typeof e[f[p]]=="number"&&(this.valuesById[this.values[f[p]]=e[f[p]]]=f[p])}t.exports=o;var r=u(3);((o.prototype=Object.create(r.prototype)).constructor=o).className="Enum";var a=u(6),c=u(0);o.fromJSON=function(s,e){var i=new o(s,e.values,e.options,e.comment,e.comments);return i.reserved=e.reserved,i},o.prototype.toJSON=function(s){var e=!!s&&Boolean(s.keepComments);return c.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",e?this.comment:void 0,"comments",e?this.comments:void 0])},o.prototype.add=function(s,e,i){if(!c.isString(s))throw TypeError("name must be a string");if(!c.isInteger(e))throw TypeError("id must be an integer");if(this.values[s]!==void 0)throw Error("duplicate name '"+s+"' in "+this);if(this.isReservedId(e))throw Error("id "+e+" is reserved in "+this);if(this.isReservedName(s))throw Error("name '"+s+"' is reserved in "+this);if(this.valuesById[e]!==void 0){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+e+" in "+this);this.values[s]=e}else this.valuesById[this.values[s]=e]=s;return this.comments[s]=i||null,this},o.prototype.remove=function(s){if(!c.isString(s))throw TypeError("name must be a string");var e=this.values[s];if(e==null)throw Error("name '"+s+"' does not exist in "+this);return delete this.valuesById[e],delete this.values[s],delete this.comments[s],this},o.prototype.isReservedId=function(s){return a.isReservedId(this.reserved,s)},o.prototype.isReservedName=function(s){return a.isReservedName(this.reserved,s)}},function(t,l,u){function o(c,s){if(!a.isString(c))throw TypeError("name must be a string");if(s&&!a.isObject(s))throw TypeError("options must be an object");this.options=s,this.parsedOptions=null,this.name=c,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}t.exports=o,o.className="ReflectionObject";var r,a=u(0);Object.defineProperties(o.prototype,{root:{get:function(){for(var c=this;c.parent!==null;)c=c.parent;return c}},fullName:{get:function(){for(var c=[this.name],s=this.parent;s;)c.unshift(s.name),s=s.parent;return c.join(".")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(c){this.parent&&this.parent!==c&&this.parent.remove(this),this.parent=c,this.resolved=!1;var s=c.root;s instanceof r&&s._handleAdd(this)},o.prototype.onRemove=function(c){var s=c.root;s instanceof r&&s._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved?this:(this.root instanceof r&&(this.resolved=!0),this)},o.prototype.getOption=function(c){if(this.options)return this.options[c]},o.prototype.setOption=function(c,s,e){return e&&this.options&&this.options[c]!==void 0||((this.options||(this.options={}))[c]=s),this},o.prototype.setParsedOption=function(c,s,e){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(e){var n=i.find(function(p){return Object.prototype.hasOwnProperty.call(p,c)});if(n){var d=n[c];a.setProperty(d,e,s)}else(n={})[c]=a.setProperty({},e,s),i.push(n)}else{var f={};f[c]=s,i.push(f)}return this},o.prototype.setOptions=function(c,s){if(c)for(var e=Object.keys(c),i=0;i<e.length;++i)this.setOption(e[i],c[e[i]],s);return this},o.prototype.toString=function(){var c=this.constructor.className,s=this.fullName;return s.length?c+" "+s:c},o._configure=function(c){r=c}},function(t,l,u){function o(n,d,f,p,h,m,v){if(e.isObject(p)?(v=h,m=p,p=h=void 0):e.isObject(h)&&(v=m,m=h,h=void 0),r.call(this,n,m),!e.isInteger(d)||d<0)throw TypeError("id must be a non-negative integer");if(!e.isString(f))throw TypeError("type must be a string");if(p!==void 0&&!i.test(p=p.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(h!==void 0&&!e.isString(h))throw TypeError("extend must be a string");this.rule=p&&p!=="optional"?p:void 0,this.type=f,this.id=d,this.extend=h||void 0,this.required=p==="required",this.optional=!this.required,this.repeated=p==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!e.Long&&s.long[f]!==void 0,this.bytes=f==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=v}t.exports=o;var r=u(3);((o.prototype=Object.create(r.prototype)).constructor=o).className="Field";var a,c=u(2),s=u(7),e=u(0),i=/^required|optional|repeated$/;o.fromJSON=function(n,d){return new o(n,d.id,d.type,d.rule,d.extend,d.options,d.comment)},Object.defineProperty(o.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),o.prototype.setOption=function(n,d,f){return n==="packed"&&(this._packed=null),r.prototype.setOption.call(this,n,d,f)},o.prototype.toJSON=function(n){var d=!!n&&Boolean(n.keepComments);return e.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",d?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=s.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof a?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof c&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==!0&&(this.options.packed===void 0||!this.resolvedType||this.resolvedType instanceof c)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=e.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var n;e.base64.test(this.typeDefault)?e.base64.decode(this.typeDefault,n=e.newBuffer(e.base64.length(this.typeDefault)),0):e.utf8.write(this.typeDefault,n=e.newBuffer(e.utf8.length(this.typeDefault)),0),this.typeDefault=n}return this.map?this.defaultValue=e.emptyObject:this.repeated?this.defaultValue=e.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof a&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},o.d=function(n,d,f,p){return typeof d=="function"?d=e.decorateType(d).name:d&&typeof d=="object"&&(d=e.decorateEnum(d).name),function(h,m){e.decorateType(h.constructor).add(new o(m,n,d,f,{default:p}))}},o._configure=function(n){a=n}},function(t,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.BezierPath=function o(r,a,c){(function(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")})(this,o),this._d=r,this._transform=a,this._styles=c}},function(t,l,u){function o(f,p){if(f&&f.length){for(var h={},m=0;m<f.length;++m)h[f[m].name]=f[m].toJSON(p);return h}}function r(f,p){c.call(this,f,p),this.nested=void 0,this._nestedArray=null}function a(f){return f._nestedArray=null,f}t.exports=r;var c=u(3);((r.prototype=Object.create(c.prototype)).constructor=r).className="Namespace";var s,e,i,n=u(4),d=u(0);r.fromJSON=function(f,p){return new r(f,p.options).addJSON(p.nested)},r.arrayToJSON=o,r.isReservedId=function(f,p){if(f){for(var h=0;h<f.length;++h)if(typeof f[h]!="string"&&f[h][0]<=p&&f[h][1]>p)return!0}return!1},r.isReservedName=function(f,p){if(f){for(var h=0;h<f.length;++h)if(f[h]===p)return!0}return!1},Object.defineProperty(r.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=d.toArray(this.nested))}}),r.prototype.toJSON=function(f){return d.toObject(["options",this.options,"nested",o(this.nestedArray,f)])},r.prototype.addJSON=function(f){if(f)for(var p,h=Object.keys(f),m=0;m<h.length;++m)p=f[h[m]],this.add((p.fields!==void 0?s.fromJSON:p.values!==void 0?i.fromJSON:p.methods!==void 0?e.fromJSON:p.id!==void 0?n.fromJSON:r.fromJSON)(h[m],p));return this},r.prototype.get=function(f){return this.nested&&this.nested[f]||null},r.prototype.getEnum=function(f){if(this.nested&&this.nested[f]instanceof i)return this.nested[f].values;throw Error("no such enum: "+f)},r.prototype.add=function(f){if(!(f instanceof n&&f.extend!==void 0||f instanceof s||f instanceof i||f instanceof e||f instanceof r))throw TypeError("object must be a valid nested object");if(this.nested){var p=this.get(f.name);if(p){if(!(p instanceof r&&f instanceof r)||p instanceof s||p instanceof e)throw Error("duplicate name '"+f.name+"' in "+this);for(var h=p.nestedArray,m=0;m<h.length;++m)f.add(h[m]);this.remove(p),this.nested||(this.nested={}),f.setOptions(p.options,!0)}}else this.nested={};return this.nested[f.name]=f,f.onAdd(this),a(this)},r.prototype.remove=function(f){if(!(f instanceof c))throw TypeError("object must be a ReflectionObject");if(f.parent!==this)throw Error(f+" is not a member of "+this);return delete this.nested[f.name],Object.keys(this.nested).length||(this.nested=void 0),f.onRemove(this),a(this)},r.prototype.define=function(f,p){if(d.isString(f))f=f.split(".");else if(!Array.isArray(f))throw TypeError("illegal path");if(f&&f.length&&f[0]==="")throw Error("path must be relative");for(var h=this;f.length>0;){var m=f.shift();if(h.nested&&h.nested[m]){if(!((h=h.nested[m])instanceof r))throw Error("path conflicts with non-namespace objects")}else h.add(h=new r(m))}return p&&h.addJSON(p),h},r.prototype.resolveAll=function(){for(var f=this.nestedArray,p=0;p<f.length;)f[p]instanceof r?f[p++].resolveAll():f[p++].resolve();return this.resolve()},r.prototype.lookup=function(f,p,h){if(typeof p=="boolean"?(h=p,p=void 0):p&&!Array.isArray(p)&&(p=[p]),d.isString(f)&&f.length){if(f===".")return this.root;f=f.split(".")}else if(!f.length)return this;if(f[0]==="")return this.root.lookup(f.slice(1),p);var m=this.get(f[0]);if(m){if(f.length===1){if(!p||p.indexOf(m.constructor)>-1)return m}else if(m instanceof r&&(m=m.lookup(f.slice(1),p,!0)))return m}else for(var v=0;v<this.nestedArray.length;++v)if(this._nestedArray[v]instanceof r&&(m=this._nestedArray[v].lookup(f,p,!0)))return m;return this.parent===null||h?null:this.parent.lookup(f,p)},r.prototype.lookupType=function(f){var p=this.lookup(f,[s]);if(!p)throw Error("no such type: "+f);return p},r.prototype.lookupEnum=function(f){var p=this.lookup(f,[i]);if(!p)throw Error("no such Enum '"+f+"' in "+this);return p},r.prototype.lookupTypeOrEnum=function(f){var p=this.lookup(f,[s,i]);if(!p)throw Error("no such Type or Enum '"+f+"' in "+this);return p},r.prototype.lookupService=function(f){var p=this.lookup(f,[e]);if(!p)throw Error("no such Service '"+f+"' in "+this);return p},r._configure=function(f,p,h){s=f,e=p,i=h}},function(t,l,u){function o(s,e){var i=0,n={};for(e|=0;i<s.length;)n[c[i+e]]=s[i++];return n}var r=l,a=u(0),c=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];r.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",a.emptyArray,null]),r.long=o([0,0,0,1,1],7),r.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(t,l,u){function o(s,e){return Object.prototype.hasOwnProperty.call(s,e)}var r=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";l.assign=function(s){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(var n in i)o(i,n)&&(s[n]=i[n])}}return s},l.shrinkBuf=function(s,e){return s.length===e?s:s.subarray?s.subarray(0,e):(s.length=e,s)};var a={arraySet:function(s,e,i,n,d){if(e.subarray&&s.subarray)s.set(e.subarray(i,i+n),d);else for(var f=0;f<n;f++)s[d+f]=e[i+f]},flattenChunks:function(s){var e,i,n,d,f,p;for(n=0,e=0,i=s.length;e<i;e++)n+=s[e].length;for(p=new Uint8Array(n),d=0,e=0,i=s.length;e<i;e++)f=s[e],p.set(f,d),d+=f.length;return p}},c={arraySet:function(s,e,i,n,d){for(var f=0;f<n;f++)s[d+f]=e[i+f]},flattenChunks:function(s){return[].concat.apply([],s)}};l.setTyped=function(s){s?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,a)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,c))},l.setTyped(r)},function(t,l,u){function o(g,b,y){this.fn=g,this.len=b,this.next=void 0,this.val=y}function r(){}function a(g){this.head=g.head,this.tail=g.tail,this.len=g.len,this.next=g.states}function c(){this.len=0,this.head=new o(r,0,0),this.tail=this.head,this.states=null}function s(g,b,y){b[y]=255&g}function e(g,b){this.len=g,this.next=void 0,this.val=b}function i(g,b,y){for(;g.hi;)b[y++]=127&g.lo|128,g.lo=(g.lo>>>7|g.hi<<25)>>>0,g.hi>>>=7;for(;g.lo>127;)b[y++]=127&g.lo|128,g.lo=g.lo>>>7;b[y++]=g.lo}function n(g,b,y){b[y]=255&g,b[y+1]=g>>>8&255,b[y+2]=g>>>16&255,b[y+3]=g>>>24}t.exports=c;var d,f=u(1),p=f.LongBits,h=f.base64,m=f.utf8,v=function(){return f.Buffer?function(){return(c.create=function(){return new d})()}:function(){return new c}};c.create=v(),c.alloc=function(g){return new f.Array(g)},f.Array!==Array&&(c.alloc=f.pool(c.alloc,f.Array.prototype.subarray)),c.prototype._push=function(g,b,y){return this.tail=this.tail.next=new o(g,b,y),this.len+=b,this},e.prototype=Object.create(o.prototype),e.prototype.fn=function(g,b,y){for(;g>127;)b[y++]=127&g|128,g>>>=7;b[y]=g},c.prototype.uint32=function(g){return this.len+=(this.tail=this.tail.next=new e((g>>>=0)<128?1:g<16384?2:g<2097152?3:g<268435456?4:5,g)).len,this},c.prototype.int32=function(g){return g<0?this._push(i,10,p.fromNumber(g)):this.uint32(g)},c.prototype.sint32=function(g){return this.uint32((g<<1^g>>31)>>>0)},c.prototype.uint64=function(g){var b=p.from(g);return this._push(i,b.length(),b)},c.prototype.int64=c.prototype.uint64,c.prototype.sint64=function(g){var b=p.from(g).zzEncode();return this._push(i,b.length(),b)},c.prototype.bool=function(g){return this._push(s,1,g?1:0)},c.prototype.fixed32=function(g){return this._push(n,4,g>>>0)},c.prototype.sfixed32=c.prototype.fixed32,c.prototype.fixed64=function(g){var b=p.from(g);return this._push(n,4,b.lo)._push(n,4,b.hi)},c.prototype.sfixed64=c.prototype.fixed64,c.prototype.float=function(g){return this._push(f.float.writeFloatLE,4,g)},c.prototype.double=function(g){return this._push(f.float.writeDoubleLE,8,g)};var w=f.Array.prototype.set?function(g,b,y){b.set(g,y)}:function(g,b,y){for(var E=0;E<g.length;++E)b[y+E]=g[E]};c.prototype.bytes=function(g){var b=g.length>>>0;if(!b)return this._push(s,1,0);if(f.isString(g)){var y=c.alloc(b=h.length(g));h.decode(g,y,0),g=y}return this.uint32(b)._push(w,b,g)},c.prototype.string=function(g){var b=m.length(g);return b?this.uint32(b)._push(m.write,b,g):this._push(s,1,0)},c.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new o(r,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o(r,0,0),this.len=0),this},c.prototype.ldelim=function(){var g=this.head,b=this.tail,y=this.len;return this.reset().uint32(y),y&&(this.tail.next=g.next,this.tail=b,this.len+=y),this},c.prototype.finish=function(){for(var g=this.head.next,b=this.constructor.alloc(this.len),y=0;g;)g.fn(g.val,b,y),y+=g.len,g=g.next;return b},c._configure=function(g){d=g,c.create=v(),d._configure()}},function(t,l,u){function o(h,m){return RangeError("index out of range: "+h.pos+" + "+(m||1)+" > "+h.len)}function r(h){this.buf=h,this.pos=0,this.len=h.length}function a(){var h=new n(0,0),m=0;if(!(this.len-this.pos>4)){for(;m<3;++m){if(this.pos>=this.len)throw o(this);if(h.lo=(h.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return h}return h.lo=(h.lo|(127&this.buf[this.pos++])<<7*m)>>>0,h}for(;m<4;++m)if(h.lo=(h.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return h;if(h.lo=(h.lo|(127&this.buf[this.pos])<<28)>>>0,h.hi=(h.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return h;if(m=0,this.len-this.pos>4){for(;m<5;++m)if(h.hi=(h.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return h}else for(;m<5;++m){if(this.pos>=this.len)throw o(this);if(h.hi=(h.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return h}throw Error("invalid varint encoding")}function c(h,m){return(h[m-4]|h[m-3]<<8|h[m-2]<<16|h[m-1]<<24)>>>0}function s(){if(this.pos+8>this.len)throw o(this,8);return new n(c(this.buf,this.pos+=4),c(this.buf,this.pos+=4))}t.exports=r;var e,i=u(1),n=i.LongBits,d=i.utf8,f=typeof Uint8Array!="undefined"?function(h){if(h instanceof Uint8Array||Array.isArray(h))return new r(h);throw Error("illegal buffer")}:function(h){if(Array.isArray(h))return new r(h);throw Error("illegal buffer")},p=function(){return i.Buffer?function(h){return(r.create=function(m){return i.Buffer.isBuffer(m)?new e(m):f(m)})(h)}:f};r.create=p(),r.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,r.prototype.uint32=function(){var h=4294967295;return function(){if(h=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(h=(h|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(h=(h|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(h=(h|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(h=(h|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return h;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return h}}(),r.prototype.int32=function(){return 0|this.uint32()},r.prototype.sint32=function(){var h=this.uint32();return h>>>1^-(1&h)|0},r.prototype.bool=function(){return this.uint32()!==0},r.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return c(this.buf,this.pos+=4)},r.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return 0|c(this.buf,this.pos+=4)},r.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var h=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,h},r.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var h=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,h},r.prototype.bytes=function(){var h=this.uint32(),m=this.pos,v=this.pos+h;if(v>this.len)throw o(this,h);return this.pos+=h,Array.isArray(this.buf)?this.buf.slice(m,v):m===v?new this.buf.constructor(0):this._slice.call(this.buf,m,v)},r.prototype.string=function(){var h=this.bytes();return d.read(h,0,h.length)},r.prototype.skip=function(h){if(typeof h=="number"){if(this.pos+h>this.len)throw o(this,h);this.pos+=h}else do if(this.pos>=this.len)throw o(this);while(128&this.buf[this.pos++]);return this},r.prototype.skipType=function(h){switch(h){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(h=7&this.uint32())!=4;)this.skipType(h);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+h+" at offset "+this.pos)}return this},r._configure=function(h){e=h,r.create=p(),e._configure();var m=i.Long?"toLong":"toNumber";i.merge(r.prototype,{int64:function(){return a.call(this)[m](!1)},uint64:function(){return a.call(this)[m](!0)},sint64:function(){return a.call(this).zzDecode()[m](!1)},fixed64:function(){return s.call(this)[m](!0)},sfixed64:function(){return s.call(this)[m](!1)}})}},function(t,l,u){function o(e,i,n,d){if(Array.isArray(i)||(n=i,i=void 0),a.call(this,e,n),i!==void 0&&!Array.isArray(i))throw TypeError("fieldNames must be an Array");this.oneof=i||[],this.fieldsArray=[],this.comment=d}function r(e){if(e.parent)for(var i=0;i<e.fieldsArray.length;++i)e.fieldsArray[i].parent||e.parent.add(e.fieldsArray[i])}t.exports=o;var a=u(3);((o.prototype=Object.create(a.prototype)).constructor=o).className="OneOf";var c=u(4),s=u(0);o.fromJSON=function(e,i){return new o(e,i.oneof,i.options,i.comment)},o.prototype.toJSON=function(e){var i=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",i?this.comment:void 0])},o.prototype.add=function(e){if(!(e instanceof c))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,r(this),this},o.prototype.remove=function(e){if(!(e instanceof c))throw TypeError("field must be a Field");var i=this.fieldsArray.indexOf(e);if(i<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(i,1),(i=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(i,1),e.partOf=null,this},o.prototype.onAdd=function(e){a.prototype.onAdd.call(this,e);for(var i=0;i<this.oneof.length;++i){var n=e.get(this.oneof[i]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}r(this)},o.prototype.onRemove=function(e){for(var i,n=0;n<this.fieldsArray.length;++n)(i=this.fieldsArray[n]).parent&&i.parent.remove(i);a.prototype.onRemove.call(this,e)},o.d=function(){for(var e=new Array(arguments.length),i=0;i<arguments.length;)e[i]=arguments[i++];return function(n,d){s.decorateType(n.constructor).add(new o(d,e)),Object.defineProperty(n,d,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},function(t,l,u){function o(a){if(a)for(var c=Object.keys(a),s=0;s<c.length;++s)this[c[s]]=a[c[s]]}t.exports=o;var r=u(1);o.create=function(a){return this.$type.create(a)},o.encode=function(a,c){return this.$type.encode(a,c)},o.encodeDelimited=function(a,c){return this.$type.encodeDelimited(a,c)},o.decode=function(a){return this.$type.decode(a)},o.decodeDelimited=function(a){return this.$type.decodeDelimited(a)},o.verify=function(a){return this.$type.verify(a)},o.fromObject=function(a){return this.$type.fromObject(a)},o.toObject=function(a,c){return this.$type.toObject(a,c)},o.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},function(t,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Parser=void 0;var o=function(){function c(s,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}return function(s,e,i){return e&&c(s.prototype,e),i&&c(s,i),s}}(),r=u(31),a=function(c){return c&&c.__esModule?c:{default:c}}(u(50));l.Parser=function(){function c(){(function(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")})(this,c)}return o(c,[{key:"load",value:function(s,e,i){this.loadViaWorker(s,e,i)}},{key:"loadViaWorker",value:function(s,e,i){(0,a.default)(s,function(n){var d=n.movie;d.version=n.ver;var f=n.images,p=new r.VideoEntity(d,f);e(p)},i)}}]),c}()},function(t,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.RectPath=void 0;var o=u(5);l.RectPath=function(r){function a(c,s,e,i,n,d,f){(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,a);var p=function(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?h:m}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return p._x=c,p._y=s,p._width=e,p._height=i,p._cornerRadius=n,p._transform=d,p._styles=f,p}return function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);c.prototype=Object.create(s&&s.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(c,s):c.__proto__=s)}(a,r),a}(o.BezierPath)},function(t,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.EllipsePath=void 0;var o=u(5);l.EllipsePath=function(r){function a(c,s,e,i,n,d){(function(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")})(this,a);var f=function(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||typeof h!="object"&&typeof h!="function"?p:h}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return f._x=c,f._y=s,f._radiusX=e,f._radiusY=i,f._transform=n,f._styles=d,f}return function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);c.prototype=Object.create(s&&s.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(c,s):c.__proto__=s)}(a,r),a}(o.BezierPath)},function(t,l,u){Object.defineProperty(l,"__esModule",{value:!0});var o=u(34),r=JSON.parse('{"nested":{"com":{"nested":{"opensource":{"nested":{"svga":{"options":{"objc_class_prefix":"SVGAProto","java_package":"com.opensource.svgaplayer.proto"},"nested":{"MovieParams":{"fields":{"viewBoxWidth":{"type":"float","id":1},"viewBoxHeight":{"type":"float","id":2},"fps":{"type":"int32","id":3},"frames":{"type":"int32","id":4}}},"SpriteEntity":{"fields":{"imageKey":{"type":"string","id":1},"frames":{"rule":"repeated","type":"FrameEntity","id":2},"matteKey":{"type":"string","id":3}}},"AudioEntity":{"fields":{"audioKey":{"type":"string","id":1},"startFrame":{"type":"int32","id":2},"endFrame":{"type":"int32","id":3},"startTime":{"type":"int32","id":4},"totalTime":{"type":"int32","id":5}}},"Layout":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"width":{"type":"float","id":3},"height":{"type":"float","id":4}}},"Transform":{"fields":{"a":{"type":"float","id":1},"b":{"type":"float","id":2},"c":{"type":"float","id":3},"d":{"type":"float","id":4},"tx":{"type":"float","id":5},"ty":{"type":"float","id":6}}},"ShapeEntity":{"oneofs":{"args":{"oneof":["shape","rect","ellipse"]}},"fields":{"type":{"type":"ShapeType","id":1},"shape":{"type":"ShapeArgs","id":2},"rect":{"type":"RectArgs","id":3},"ellipse":{"type":"EllipseArgs","id":4},"styles":{"type":"ShapeStyle","id":10},"transform":{"type":"Transform","id":11}},"nested":{"ShapeType":{"values":{"SHAPE":0,"RECT":1,"ELLIPSE":2,"KEEP":3}},"ShapeArgs":{"fields":{"d":{"type":"string","id":1}}},"RectArgs":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"width":{"type":"float","id":3},"height":{"type":"float","id":4},"cornerRadius":{"type":"float","id":5}}},"EllipseArgs":{"fields":{"x":{"type":"float","id":1},"y":{"type":"float","id":2},"radiusX":{"type":"float","id":3},"radiusY":{"type":"float","id":4}}},"ShapeStyle":{"fields":{"fill":{"type":"RGBAColor","id":1},"stroke":{"type":"RGBAColor","id":2},"strokeWidth":{"type":"float","id":3},"lineCap":{"type":"LineCap","id":4},"lineJoin":{"type":"LineJoin","id":5},"miterLimit":{"type":"float","id":6},"lineDashI":{"type":"float","id":7},"lineDashII":{"type":"float","id":8},"lineDashIII":{"type":"float","id":9}},"nested":{"RGBAColor":{"fields":{"r":{"type":"float","id":1},"g":{"type":"float","id":2},"b":{"type":"float","id":3},"a":{"type":"float","id":4}}},"LineCap":{"values":{"LineCap_BUTT":0,"LineCap_ROUND":1,"LineCap_SQUARE":2}},"LineJoin":{"values":{"LineJoin_MITER":0,"LineJoin_ROUND":1,"LineJoin_BEVEL":2}}}}}},"FrameEntity":{"fields":{"alpha":{"type":"float","id":1},"layout":{"type":"Layout","id":2},"transform":{"type":"Transform","id":3},"clipPath":{"type":"string","id":4},"shapes":{"rule":"repeated","type":"ShapeEntity","id":5}}},"MovieEntity":{"fields":{"version":{"type":"string","id":1},"params":{"type":"MovieParams","id":2},"images":{"keyType":"string","type":"bytes","id":3},"sprites":{"rule":"repeated","type":"SpriteEntity","id":4},"audios":{"rule":"repeated","type":"AudioEntity","id":5}}}}}}}}}}}'),a=l.proto=o.Root.fromJSON(r);l.ProtoMovieEntity=a.lookupType("com.opensource.svga.MovieEntity")},function(t,l,u){t.exports=function(o,r){for(var a=new Array(arguments.length-1),c=0,s=2,e=!0;s<arguments.length;)a[c++]=arguments[s++];return new Promise(function(i,n){a[c]=function(d){if(e)if(e=!1,d)n(d);else{for(var f=new Array(arguments.length-1),p=0;p<f.length;)f[p++]=arguments[p];i.apply(null,f)}};try{o.apply(r||null,a)}catch(d){e&&(e=!1,n(d))}})}},function(module,exports,__webpack_require__){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,l,u){l.Service=u(46)},function(t,l,u){t.exports={}},function(t,l,u){function o(s,e,i,n){return e.resolvedType.group?s("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",i,n,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):s("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",i,n,(e.id<<3|2)>>>0)}t.exports=function(s){for(var e,i=c.codegen(["m","w"],s.name+"$encode")("if(!w)")("w=Writer.create()"),n=s.fieldsArray.slice().sort(c.compareFieldsById),d=0;d<n.length;++d){var f=n[d].resolve(),p=s._fieldsArray.indexOf(f),h=f.resolvedType instanceof r?"int32":f.type,m=a.basic[h];e="m"+c.safeProp(f.name),f.map?(i("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",e,f.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",e)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(f.id<<3|2)>>>0,8|a.mapKey[f.keyType],f.keyType),m===void 0?i("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",p,e):i(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|m,h,e),i("}")("}")):f.repeated?(i("if(%s!=null&&%s.length){",e,e),f.packed&&a.packed[h]!==void 0?i("w.uint32(%i).fork()",(f.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",e)("w.%s(%s[i])",h,e)("w.ldelim()"):(i("for(var i=0;i<%s.length;++i)",e),m===void 0?o(i,f,p,e+"[i]"):i("w.uint32(%i).%s(%s[i])",(f.id<<3|m)>>>0,h,e)),i("}")):(f.optional&&i("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",e,f.name),m===void 0?o(i,f,p,e):i("w.uint32(%i).%s(%s)",(f.id<<3|m)>>>0,h,e))}return i("return w")};var r=u(2),a=u(7),c=u(0)},function(t,l,u){function o(y,E){a.call(this,y,E),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function r(y){return y._fieldsById=y._fieldsArray=y._oneofsArray=null,delete y.encode,delete y.decode,delete y.verify,y}t.exports=o;var a=u(6);((o.prototype=Object.create(a.prototype)).constructor=o).className="Type";var c=u(2),s=u(11),e=u(4),i=u(23),n=u(24),d=u(12),f=u(10),p=u(9),h=u(0),m=u(21),v=u(26),w=u(27),g=u(28),b=u(29);Object.defineProperties(o.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var y=Object.keys(this.fields),E=0;E<y.length;++E){var N=this.fields[y[E]],T=N.id;if(this._fieldsById[T])throw Error("duplicate id "+T+" in "+this);this._fieldsById[T]=N}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=o.generateConstructor(this)())},set:function(y){var E=y.prototype;E instanceof d||((y.prototype=new d).constructor=y,h.merge(y.prototype,E)),y.$type=y.prototype.$type=this,h.merge(y,d,!0),this._ctor=y;for(var N=0;N<this.fieldsArray.length;++N)this._fieldsArray[N].resolve();var T={};for(N=0;N<this.oneofsArray.length;++N)T[this._oneofsArray[N].resolve().name]={get:h.oneOfGetter(this._oneofsArray[N].oneof),set:h.oneOfSetter(this._oneofsArray[N].oneof)};N&&Object.defineProperties(y.prototype,T)}}}),o.generateConstructor=function(y){for(var E,N=h.codegen(["p"],y.name),T=0;T<y.fieldsArray.length;++T)(E=y._fieldsArray[T]).map?N("this%s={}",h.safeProp(E.name)):E.repeated&&N("this%s=[]",h.safeProp(E.name));return N("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},o.fromJSON=function(y,E){var N=new o(y,E.options);N.extensions=E.extensions,N.reserved=E.reserved;for(var T=Object.keys(E.fields),C=0;C<T.length;++C)N.add((E.fields[T[C]].keyType!==void 0?i.fromJSON:e.fromJSON)(T[C],E.fields[T[C]]));if(E.oneofs)for(T=Object.keys(E.oneofs),C=0;C<T.length;++C)N.add(s.fromJSON(T[C],E.oneofs[T[C]]));if(E.nested)for(T=Object.keys(E.nested),C=0;C<T.length;++C){var O=E.nested[T[C]];N.add((O.id!==void 0?e.fromJSON:O.fields!==void 0?o.fromJSON:O.values!==void 0?c.fromJSON:O.methods!==void 0?n.fromJSON:a.fromJSON)(T[C],O))}return E.extensions&&E.extensions.length&&(N.extensions=E.extensions),E.reserved&&E.reserved.length&&(N.reserved=E.reserved),E.group&&(N.group=!0),E.comment&&(N.comment=E.comment),N},o.prototype.toJSON=function(y){var E=a.prototype.toJSON.call(this,y),N=!!y&&Boolean(y.keepComments);return h.toObject(["options",E&&E.options||void 0,"oneofs",a.arrayToJSON(this.oneofsArray,y),"fields",a.arrayToJSON(this.fieldsArray.filter(function(T){return!T.declaringField}),y)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",E&&E.nested||void 0,"comment",N?this.comment:void 0])},o.prototype.resolveAll=function(){for(var y=this.fieldsArray,E=0;E<y.length;)y[E++].resolve();var N=this.oneofsArray;for(E=0;E<N.length;)N[E++].resolve();return a.prototype.resolveAll.call(this)},o.prototype.get=function(y){return this.fields[y]||this.oneofs&&this.oneofs[y]||this.nested&&this.nested[y]||null},o.prototype.add=function(y){if(this.get(y.name))throw Error("duplicate name '"+y.name+"' in "+this);if(y instanceof e&&y.extend===void 0){if(this._fieldsById?this._fieldsById[y.id]:this.fieldsById[y.id])throw Error("duplicate id "+y.id+" in "+this);if(this.isReservedId(y.id))throw Error("id "+y.id+" is reserved in "+this);if(this.isReservedName(y.name))throw Error("name '"+y.name+"' is reserved in "+this);return y.parent&&y.parent.remove(y),this.fields[y.name]=y,y.message=this,y.onAdd(this),r(this)}return y instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[y.name]=y,y.onAdd(this),r(this)):a.prototype.add.call(this,y)},o.prototype.remove=function(y){if(y instanceof e&&y.extend===void 0){if(!this.fields||this.fields[y.name]!==y)throw Error(y+" is not a member of "+this);return delete this.fields[y.name],y.parent=null,y.onRemove(this),r(this)}if(y instanceof s){if(!this.oneofs||this.oneofs[y.name]!==y)throw Error(y+" is not a member of "+this);return delete this.oneofs[y.name],y.parent=null,y.onRemove(this),r(this)}return a.prototype.remove.call(this,y)},o.prototype.isReservedId=function(y){return a.isReservedId(this.reserved,y)},o.prototype.isReservedName=function(y){return a.isReservedName(this.reserved,y)},o.prototype.create=function(y){return new this.ctor(y)},o.prototype.setup=function(){for(var y=this.fullName,E=[],N=0;N<this.fieldsArray.length;++N)E.push(this._fieldsArray[N].resolve().resolvedType);this.encode=m(this)({Writer:p,types:E,util:h}),this.decode=v(this)({Reader:f,types:E,util:h}),this.verify=w(this)({types:E,util:h}),this.fromObject=g.fromObject(this)({types:E,util:h}),this.toObject=g.toObject(this)({types:E,util:h});var T=b[y];if(T){var C=Object.create(this);C.fromObject=this.fromObject,this.fromObject=T.fromObject.bind(C),C.toObject=this.toObject,this.toObject=T.toObject.bind(C)}return this},o.prototype.encode=function(y,E){return this.setup().encode(y,E)},o.prototype.encodeDelimited=function(y,E){return this.encode(y,E&&E.len?E.fork():E).ldelim()},o.prototype.decode=function(y,E){return this.setup().decode(y,E)},o.prototype.decodeDelimited=function(y){return y instanceof f||(y=f.create(y)),this.decode(y,y.uint32())},o.prototype.verify=function(y){return this.setup().verify(y)},o.prototype.fromObject=function(y){return this.setup().fromObject(y)},o.prototype.toObject=function(y,E){return this.setup().toObject(y,E)},o.d=function(y){return function(E){h.decorateType(E,y)}}},function(t,l,u){function o(s,e,i,n,d,f){if(r.call(this,s,e,n,void 0,void 0,d,f),!c.isString(i))throw TypeError("keyType must be a string");this.keyType=i,this.resolvedKeyType=null,this.map=!0}t.exports=o;var r=u(4);((o.prototype=Object.create(r.prototype)).constructor=o).className="MapField";var a=u(7),c=u(0);o.fromJSON=function(s,e){return new o(s,e.id,e.keyType,e.type,e.options,e.comment)},o.prototype.toJSON=function(s){var e=!!s&&Boolean(s.keepComments);return c.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(a.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},o.d=function(s,e,i){return typeof i=="function"?i=c.decorateType(i).name:i&&typeof i=="object"&&(i=c.decorateEnum(i).name),function(n,d){c.decorateType(n.constructor).add(new o(d,s,e,i))}}},function(t,l,u){function o(i,n){a.call(this,i,n),this.methods={},this._methodsArray=null}function r(i){return i._methodsArray=null,i}t.exports=o;var a=u(6);((o.prototype=Object.create(a.prototype)).constructor=o).className="Service";var c=u(25),s=u(0),e=u(19);o.fromJSON=function(i,n){var d=new o(i,n.options);if(n.methods)for(var f=Object.keys(n.methods),p=0;p<f.length;++p)d.add(c.fromJSON(f[p],n.methods[f[p]]));return n.nested&&d.addJSON(n.nested),d.comment=n.comment,d},o.prototype.toJSON=function(i){var n=a.prototype.toJSON.call(this,i),d=!!i&&Boolean(i.keepComments);return s.toObject(["options",n&&n.options||void 0,"methods",a.arrayToJSON(this.methodsArray,i)||{},"nested",n&&n.nested||void 0,"comment",d?this.comment:void 0])},Object.defineProperty(o.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),o.prototype.get=function(i){return this.methods[i]||a.prototype.get.call(this,i)},o.prototype.resolveAll=function(){for(var i=this.methodsArray,n=0;n<i.length;++n)i[n].resolve();return a.prototype.resolve.call(this)},o.prototype.add=function(i){if(this.get(i.name))throw Error("duplicate name '"+i.name+"' in "+this);return i instanceof c?(this.methods[i.name]=i,i.parent=this,r(this)):a.prototype.add.call(this,i)},o.prototype.remove=function(i){if(i instanceof c){if(this.methods[i.name]!==i)throw Error(i+" is not a member of "+this);return delete this.methods[i.name],i.parent=null,r(this)}return a.prototype.remove.call(this,i)},o.prototype.create=function(i,n,d){for(var f,p=new e.Service(i,n,d),h=0;h<this.methodsArray.length;++h){var m=s.lcFirst((f=this._methodsArray[h]).resolve().name).replace(/[^$\w_]/g,"");p[m]=s.codegen(["r","c"],s.isReserved(m)?m+"_":m)("return this.rpcCall(m,q,s,r,c)")({m:f,q:f.resolvedRequestType.ctor,s:f.resolvedResponseType.ctor})}return p}},function(t,l,u){function o(c,s,e,i,n,d,f,p,h){if(a.isObject(n)?(f=n,n=d=void 0):a.isObject(d)&&(f=d,d=void 0),s!==void 0&&!a.isString(s))throw TypeError("type must be a string");if(!a.isString(e))throw TypeError("requestType must be a string");if(!a.isString(i))throw TypeError("responseType must be a string");r.call(this,c,f),this.type=s||"rpc",this.requestType=e,this.requestStream=!!n||void 0,this.responseType=i,this.responseStream=!!d||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=p,this.parsedOptions=h}t.exports=o;var r=u(3);((o.prototype=Object.create(r.prototype)).constructor=o).className="Method";var a=u(0);o.fromJSON=function(c,s){return new o(c,s.type,s.requestType,s.responseType,s.requestStream,s.responseStream,s.options,s.comment,s.parsedOptions)},o.prototype.toJSON=function(c){var s=!!c&&Boolean(c.keepComments);return a.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",s?this.comment:void 0,"parsedOptions",this.parsedOptions])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},function(t,l,u){function o(s){return"missing required '"+s.name+"'"}t.exports=function(s){var e=c.codegen(["r","l"],s.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(s.fieldsArray.filter(function(h){return h.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");s.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var i=0;i<s.fieldsArray.length;++i){var n=s._fieldsArray[i].resolve(),d=n.resolvedType instanceof r?"int32":n.type,f="m"+c.safeProp(n.name);e("case %i:",n.id),n.map?(e("if(%s===util.emptyObject)",f)("%s={}",f)("var c2 = r.uint32()+r.pos"),a.defaults[n.keyType]!==void 0?e("k=%j",a.defaults[n.keyType]):e("k=null"),a.defaults[d]!==void 0?e("value=%j",a.defaults[d]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",n.keyType)("case 2:"),a.basic[d]===void 0?e("value=types[%i].decode(r,r.uint32())",i):e("value=r.%s()",d),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),a.long[n.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',f):e("%s[k]=value",f)):n.repeated?(e("if(!(%s&&%s.length))",f,f)("%s=[]",f),a.packed[d]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",f,d)("}else"),a.basic[d]===void 0?e(n.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",f,i):e("%s.push(r.%s())",f,d)):a.basic[d]===void 0?e(n.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",f,i):e("%s=r.%s()",f,d),e("break")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),i=0;i<s._fieldsArray.length;++i){var p=s._fieldsArray[i];p.required&&e("if(!m.hasOwnProperty(%j))",p.name)("throw util.ProtocolError(%j,{instance:m})",o(p))}return e("return m")};var r=u(2),a=u(7),c=u(0)},function(t,l,u){function o(e,i){return e.name+": "+i+(e.repeated&&i!=="array"?"[]":e.map&&i!=="object"?"{k:"+e.keyType+"}":"")+" expected"}function r(e,i,n,d){if(i.resolvedType)if(i.resolvedType instanceof c){e("switch(%s){",d)("default:")("return%j",o(i,"enum value"));for(var f=Object.keys(i.resolvedType.values),p=0;p<f.length;++p)e("case %i:",i.resolvedType.values[f[p]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,d)("if(e)")("return%j+e",i.name+".")("}");else switch(i.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",d)("return%j",o(i,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",d,d,d,d)("return%j",o(i,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',d)("return%j",o(i,"number"));break;case"bool":e('if(typeof %s!=="boolean")',d)("return%j",o(i,"boolean"));break;case"string":e("if(!util.isString(%s))",d)("return%j",o(i,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',d,d,d)("return%j",o(i,"buffer"))}return e}function a(e,i,n){switch(i.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",o(i,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",o(i,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",o(i,"boolean key"))}return e}t.exports=function(e){var i=s.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&i("var p={}");for(var d=0;d<e.fieldsArray.length;++d){var f=e._fieldsArray[d].resolve(),p="m"+s.safeProp(f.name);if(f.optional&&i("if(%s!=null&&m.hasOwnProperty(%j)){",p,f.name),f.map)i("if(!util.isObject(%s))",p)("return%j",o(f,"object"))("var k=Object.keys(%s)",p)("for(var i=0;i<k.length;++i){"),a(i,f,"k[i]"),r(i,f,d,p+"[k[i]]")("}");else if(f.repeated)i("if(!Array.isArray(%s))",p)("return%j",o(f,"array"))("for(var i=0;i<%s.length;++i){",p),r(i,f,d,p+"[i]")("}");else{if(f.partOf){var h=s.safeProp(f.partOf.name);n[f.partOf.name]===1&&i("if(p%s===1)",h)("return%j",f.partOf.name+": multiple values"),n[f.partOf.name]=1,i("p%s=1",h)}r(i,f,d,p)}f.optional&&i("}")}return i("return null")};var c=u(2),s=u(0)},function(t,l,u){function o(e,i,n,d){if(i.resolvedType)if(i.resolvedType instanceof c){e("switch(d%s){",d);for(var f=i.resolvedType.values,p=Object.keys(f),h=0;h<p.length;++h)i.repeated&&f[p[h]]===i.typeDefault&&e("default:"),e("case%j:",p[h])("case %i:",f[p[h]])("m%s=%j",d,f[p[h]])("break");e("}")}else e('if(typeof d%s!=="object")',d)("throw TypeError(%j)",i.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",d,n,d);else{var m=!1;switch(i.type){case"double":case"float":e("m%s=Number(d%s)",d,d);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",d,d);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",d,d);break;case"uint64":m=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",d,d,m)('else if(typeof d%s==="string")',d)("m%s=parseInt(d%s,10)",d,d)('else if(typeof d%s==="number")',d)("m%s=d%s",d,d)('else if(typeof d%s==="object")',d)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",d,d,d,m?"true":"");break;case"bytes":e('if(typeof d%s==="string")',d)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",d,d,d)("else if(d%s.length)",d)("m%s=d%s",d,d);break;case"string":e("m%s=String(d%s)",d,d);break;case"bool":e("m%s=Boolean(d%s)",d,d)}}return e}function r(e,i,n,d){if(i.resolvedType)i.resolvedType instanceof c?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",d,n,d,d):e("d%s=types[%i].toObject(m%s,o)",d,n,d);else{var f=!1;switch(i.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",d,d,d,d);break;case"uint64":f=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',d)("d%s=o.longs===String?String(m%s):m%s",d,d,d)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",d,d,d,d,f?"true":"",d);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",d,d,d,d,d);break;default:e("d%s=m%s",d,d)}}return e}var a=l,c=u(2),s=u(0);a.fromObject=function(e){var i=e.fieldsArray,n=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!i.length)return n("return new this.ctor");n("var m=new this.ctor");for(var d=0;d<i.length;++d){var f=i[d].resolve(),p=s.safeProp(f.name);f.map?(n("if(d%s){",p)('if(typeof d%s!=="object")',p)("throw TypeError(%j)",f.fullName+": object expected")("m%s={}",p)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",p),o(n,f,d,p+"[ks[i]]")("}")("}")):f.repeated?(n("if(d%s){",p)("if(!Array.isArray(d%s))",p)("throw TypeError(%j)",f.fullName+": array expected")("m%s=[]",p)("for(var i=0;i<d%s.length;++i){",p),o(n,f,d,p+"[i]")("}")("}")):(f.resolvedType instanceof c||n("if(d%s!=null){",p),o(n,f,d,p),f.resolvedType instanceof c||n("}"))}return n("return m")},a.toObject=function(e){var i=e.fieldsArray.slice().sort(s.compareFieldsById);if(!i.length)return s.codegen()("return {}");for(var n=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),d=[],f=[],p=[],h=0;h<i.length;++h)i[h].partOf||(i[h].resolve().repeated?d:i[h].map?f:p).push(i[h]);if(d.length){for(n("if(o.arrays||o.defaults){"),h=0;h<d.length;++h)n("d%s=[]",s.safeProp(d[h].name));n("}")}if(f.length){for(n("if(o.objects||o.defaults){"),h=0;h<f.length;++h)n("d%s={}",s.safeProp(f[h].name));n("}")}if(p.length){for(n("if(o.defaults){"),h=0;h<p.length;++h){var m=p[h],v=s.safeProp(m.name);if(m.resolvedType instanceof c)n("d%s=o.enums===String?%j:%j",v,m.resolvedType.valuesById[m.typeDefault],m.typeDefault);else if(m.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",m.typeDefault.low,m.typeDefault.high,m.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",v)("}else")("d%s=o.longs===String?%j:%i",v,m.typeDefault.toString(),m.typeDefault.toNumber());else if(m.bytes){var w="["+Array.prototype.slice.call(m.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",v,String.fromCharCode.apply(String,m.typeDefault))("else{")("d%s=%s",v,w)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",v,v)("}")}else n("d%s=%j",v,m.typeDefault)}n("}")}var g=!1;for(h=0;h<i.length;++h){m=i[h];var b=e._fieldsArray.indexOf(m);v=s.safeProp(m.name),m.map?(g||(g=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",v,v)("d%s={}",v)("for(var j=0;j<ks2.length;++j){"),r(n,m,b,v+"[ks2[j]]")("}")):m.repeated?(n("if(m%s&&m%s.length){",v,v)("d%s=[]",v)("for(var j=0;j<m%s.length;++j){",v),r(n,m,b,v+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",v,m.name),r(n,m,b,v),m.partOf&&n("if(o.oneofs)")("d%s=%j",s.safeProp(m.partOf.name),m.name)),n("}")}return n("return d")}},function(t,l,u){var o=l,r=u(12);o[".google.protobuf.Any"]={fromObject:function(a){if(a&&a["@type"]){var c=a["@type"].substring(a["@type"].lastIndexOf("/")+1),s=this.lookup(c);if(s){var e=a["@type"].charAt(0)==="."?a["@type"].substr(1):a["@type"];return e.indexOf("/")===-1&&(e="/"+e),this.create({type_url:e,value:s.encode(s.fromObject(a)).finish()})}}return this.fromObject(a)},toObject:function(a,c){var s="",e="";if(c&&c.json&&a.type_url&&a.value){e=a.type_url.substring(a.type_url.lastIndexOf("/")+1),s=a.type_url.substring(0,a.type_url.lastIndexOf("/")+1);var i=this.lookup(e);i&&(a=i.decode(a.value))}if(!(a instanceof this.ctor)&&a instanceof r){var n=a.$type.toObject(a,c);return s===""&&(s="type.googleapis.com/"),e=s+(a.$type.fullName[0]==="."?a.$type.fullName.substr(1):a.$type.fullName),n["@type"]=e,n}return this.toObject(a,c)}}},function(t,l,u){function o(m){c.call(this,"",m),this.deferred=[],this.files=[]}function r(){}function a(m,v){var w=v.parent.lookup(v.extend);if(w){var g=new n(v.fullName,v.id,v.type,v.rule,void 0,v.options);return g.declaringField=v,v.extensionField=g,w.add(g),!0}return!1}t.exports=o;var c=u(6);((o.prototype=Object.create(c.prototype)).constructor=o).className="Root";var s,e,i,n=u(4),d=u(2),f=u(11),p=u(0);o.fromJSON=function(m,v){return v||(v=new o),m.options&&v.setOptions(m.options),v.addJSON(m.nested)},o.prototype.resolvePath=p.path.resolve,o.prototype.fetch=p.fetch,o.prototype.load=function m(v,w,g){function b(k,A){if(g){var P=g;if(g=null,C)throw k;P(k,A)}}function y(k){var A=k.lastIndexOf("google/protobuf/");if(A>-1){var P=k.substring(A);if(P in i)return P}return null}function E(k,A){try{if(p.isString(A)&&A.charAt(0)==="{"&&(A=JSON.parse(A)),p.isString(A)){e.filename=k;var P,L=e(A,T,w),H=0;if(L.imports)for(;H<L.imports.length;++H)(P=y(L.imports[H])||T.resolvePath(k,L.imports[H]))&&N(P);if(L.weakImports)for(H=0;H<L.weakImports.length;++H)(P=y(L.weakImports[H])||T.resolvePath(k,L.weakImports[H]))&&N(P,!0)}else T.setOptions(A.options).addJSON(A.nested)}catch(J){b(J)}C||O||b(null,T)}function N(k,A){if(!(T.files.indexOf(k)>-1)){if(T.files.push(k),k in i)return void(C?E(k,i[k]):(++O,setTimeout(function(){--O,E(k,i[k])})));if(C){var P;try{P=p.fs.readFileSync(k).toString("utf8")}catch(L){return void(A||b(L))}E(k,P)}else++O,T.fetch(k,function(L,H){if(--O,g)return L?void(A?O||b(null,T):b(L)):void E(k,H)})}}typeof w=="function"&&(g=w,w=void 0);var T=this;if(!g)return p.asPromise(m,T,v,w);var C=g===r,O=0;p.isString(v)&&(v=[v]);for(var I,D=0;D<v.length;++D)(I=T.resolvePath("",v[D]))&&N(I);if(C)return T;O||b(null,T)},o.prototype.loadSync=function(m,v){if(!p.isNode)throw Error("not supported");return this.load(m,v,r)},o.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(m){return"'extend "+m.extend+"' in "+m.parent.fullName}).join(", "));return c.prototype.resolveAll.call(this)};var h=/^[A-Z]/;o.prototype._handleAdd=function(m){if(m instanceof n)m.extend===void 0||m.extensionField||a(0,m)||this.deferred.push(m);else if(m instanceof d)h.test(m.name)&&(m.parent[m.name]=m.values);else if(!(m instanceof f)){if(m instanceof s)for(var v=0;v<this.deferred.length;)a(0,this.deferred[v])?this.deferred.splice(v,1):++v;for(var w=0;w<m.nestedArray.length;++w)this._handleAdd(m._nestedArray[w]);h.test(m.name)&&(m.parent[m.name]=m)}},o.prototype._handleRemove=function(m){if(m instanceof n){if(m.extend!==void 0)if(m.extensionField)m.extensionField.parent.remove(m.extensionField),m.extensionField=null;else{var v=this.deferred.indexOf(m);v>-1&&this.deferred.splice(v,1)}}else if(m instanceof d)h.test(m.name)&&delete m.parent[m.name];else if(m instanceof c){for(var w=0;w<m.nestedArray.length;++w)this._handleRemove(m._nestedArray[w]);h.test(m.name)&&delete m.parent[m.name]}},o._configure=function(m,v,w){s=m,e=v,i=w}},function(t,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.VideoEntity=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r=function(){function s(e,i){for(var n=0;n<i.length;n++){var d=i[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(e,i,n){return i&&s(e.prototype,i),n&&s(e,n),e}}(),a=u(32),c=u(16).ProtoMovieEntity;l.VideoEntity=function(){function s(e,i){(function(n,d){if(!(n instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this.version="",this.videoSize={width:0,height:0},this.FPS=20,this.frames=0,this.images={},this.sprites=[],this.audios=[],(e===void 0?"undefined":o(e))==="object"&&e.$type==c?(o(e.params)==="object"&&(this.version=e.ver,this.videoSize.width=e.params.viewBoxWidth||0,this.videoSize.height=e.params.viewBoxHeight||0,this.FPS=e.params.fps||20,this.frames=e.params.frames||0),this.resetSprites(e),this.audios=e.audios):e&&(e.movie&&(e.movie.viewBox&&(this.videoSize.width=parseFloat(e.movie.viewBox.width)||0,this.videoSize.height=parseFloat(e.movie.viewBox.height)||0),this.version=e.ver,this.FPS=parseInt(e.movie.fps)||20,this.frames=parseInt(e.movie.frames)||0),this.resetSprites(e)),i&&(this.images=i)}return r(s,[{key:"resetSprites",value:function(e){e.sprites instanceof Array&&(this.sprites=e.sprites.map(function(i){return new a.SpriteEntity(i)}))}}]),s}()},function(t,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.SpriteEntity=void 0;var o=u(33);u(5),u(14),u(15),l.SpriteEntity=function r(a){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,r),this.matteKey=null,this.imageKey=null,this.frames=[],this.matteKey=a.matteKey,this.imageKey=a.imageKey,a.frames&&(this.frames=a.frames.map(function(c){return new o.FrameEntity(c)}))}},function(t,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.FrameEntity=void 0;var o=u(5);l.FrameEntity=function r(a){(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,r),this.alpha=0,this.transform={a:1,b:0,c:0,d:1,tx:0,ty:0},this.layout={x:0,y:0,width:0,height:0},this.nx=0,this.ny=0,this.maskPath=null,this.shapes=[],this.alpha=parseFloat(a.alpha)||0,a.layout&&(this.layout.x=parseFloat(a.layout.x)||0,this.layout.y=parseFloat(a.layout.y)||0,this.layout.width=parseFloat(a.layout.width)||0,this.layout.height=parseFloat(a.layout.height)||0),a.transform&&(this.transform.a=parseFloat(a.transform.a)||1,this.transform.b=parseFloat(a.transform.b)||0,this.transform.c=parseFloat(a.transform.c)||0,this.transform.d=parseFloat(a.transform.d)||1,this.transform.tx=parseFloat(a.transform.tx)||0,this.transform.ty=parseFloat(a.transform.ty)||0),a.clipPath&&a.clipPath.length>0&&(this.maskPath=new o.BezierPath(a.clipPath,void 0,{fill:"#000000"})),a.shapes&&(a.shapes instanceof Array&&a.shapes.forEach(function(h){switch(h.pathArgs=h.args,h.type){case 0:h.type="shape",h.pathArgs=h.shape;break;case 1:h.type="rect",h.pathArgs=h.rect;break;case 2:h.type="ellipse",h.pathArgs=h.ellipse;break;case 3:h.type="keep"}if(h.styles){h.styles.fill&&(typeof h.styles.fill.r=="number"&&(h.styles.fill[0]=h.styles.fill.r),typeof h.styles.fill.g=="number"&&(h.styles.fill[1]=h.styles.fill.g),typeof h.styles.fill.b=="number"&&(h.styles.fill[2]=h.styles.fill.b),typeof h.styles.fill.a=="number"&&(h.styles.fill[3]=h.styles.fill.a)),h.styles.stroke&&(typeof h.styles.stroke.r=="number"&&(h.styles.stroke[0]=h.styles.stroke.r),typeof h.styles.stroke.g=="number"&&(h.styles.stroke[1]=h.styles.stroke.g),typeof h.styles.stroke.b=="number"&&(h.styles.stroke[2]=h.styles.stroke.b),typeof h.styles.stroke.a=="number"&&(h.styles.stroke[3]=h.styles.stroke.a));var m=h.styles.lineDash||[];switch(h.styles.lineDashI>0&&m.push(h.styles.lineDashI),h.styles.lineDashII>0&&(m.length<1&&m.push(0),m.push(h.styles.lineDashII),m.push(0)),h.styles.lineDashIII>0&&(m.length<2&&(m.push(0),m.push(0)),m[2]=h.styles.lineDashIII),h.styles.lineDash=m,h.styles.lineJoin){case 0:h.styles.lineJoin="miter";break;case 1:h.styles.lineJoin="round";break;case 2:h.styles.lineJoin="bevel"}switch(h.styles.lineCap){case 0:h.styles.lineCap="butt";break;case 1:h.styles.lineCap="round";break;case 2:h.styles.lineCap="square"}}}),a.shapes[0]&&a.shapes[0].type==="keep"?this.shapes=r.lastShapes:(this.shapes=a.shapes,r.lastShapes=a.shapes));var c=this.transform.a*this.layout.x+this.transform.c*this.layout.y+this.transform.tx,s=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*this.layout.y+this.transform.tx,e=this.transform.a*this.layout.x+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,i=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,n=this.transform.b*this.layout.x+this.transform.d*this.layout.y+this.transform.ty,d=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*this.layout.y+this.transform.ty,f=this.transform.b*this.layout.x+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty,p=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty;this.nx=Math.min(Math.min(e,i),Math.min(c,s)),this.ny=Math.min(Math.min(f,p),Math.min(n,d))}},function(t,l,u){t.exports=u(35)},function(t,l,u){var o=t.exports=u(36);o.build="light",o.load=function(r,a,c){return typeof a=="function"?(c=a,a=new o.Root):a||(a=new o.Root),a.load(r,c)},o.loadSync=function(r,a){return a||(a=new o.Root),a.loadSync(r)},o.encoder=u(21),o.decoder=u(26),o.verifier=u(27),o.converter=u(28),o.ReflectionObject=u(3),o.Namespace=u(6),o.Root=u(30),o.Enum=u(2),o.Type=u(22),o.Field=u(4),o.OneOf=u(11),o.MapField=u(23),o.Service=u(24),o.Method=u(25),o.Message=u(12),o.wrappers=u(29),o.types=u(7),o.util=u(0),o.ReflectionObject._configure(o.Root),o.Namespace._configure(o.Type,o.Service,o.Enum),o.Root._configure(o.Type),o.Field._configure(o.Type)},function(t,l,u){function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}var r=l;r.build="minimal",r.Writer=u(9),r.BufferWriter=u(44),r.Reader=u(10),r.BufferReader=u(45),r.util=u(1),r.rpc=u(19),r.roots=u(20),r.configure=o,o()},function(t,l){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}t.exports=u},function(t,l,u){var o=l;o.length=function(s){var e=s.length;if(!e)return 0;for(var i=0;--e%4>1&&s.charAt(e)==="=";)++i;return Math.ceil(3*s.length)/4-i};for(var r=new Array(64),a=new Array(123),c=0;c<64;)a[r[c]=c<26?c+65:c<52?c+71:c<62?c-4:c-59|43]=c++;o.encode=function(s,e,i){for(var n,d=null,f=[],p=0,h=0;e<i;){var m=s[e++];switch(h){case 0:f[p++]=r[m>>2],n=(3&m)<<4,h=1;break;case 1:f[p++]=r[n|m>>4],n=(15&m)<<2,h=2;break;case 2:f[p++]=r[n|m>>6],f[p++]=r[63&m],h=0}p>8191&&((d||(d=[])).push(String.fromCharCode.apply(String,f)),p=0)}return h&&(f[p++]=r[n],f[p++]=61,h===1&&(f[p++]=61)),d?(p&&d.push(String.fromCharCode.apply(String,f.slice(0,p))),d.join("")):String.fromCharCode.apply(String,f.slice(0,p))},o.decode=function(s,e,i){for(var n,d=i,f=0,p=0;p<s.length;){var h=s.charCodeAt(p++);if(h===61&&f>1)break;if((h=a[h])===void 0)throw Error("invalid encoding");switch(f){case 0:n=h,f=1;break;case 1:e[i++]=n<<2|(48&h)>>4,n=h,f=2;break;case 2:e[i++]=(15&n)<<4|(60&h)>>2,n=h,f=3;break;case 3:e[i++]=(3&n)<<6|h,f=0}}if(f===1)throw Error("invalid encoding");return i-d},o.test=function(s){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s)}},function(t,l,u){function o(){this._listeners={}}t.exports=o,o.prototype.on=function(r,a,c){return(this._listeners[r]||(this._listeners[r]=[])).push({fn:a,ctx:c||this}),this},o.prototype.off=function(r,a){if(r===void 0)this._listeners={};else if(a===void 0)this._listeners[r]=[];else for(var c=this._listeners[r],s=0;s<c.length;)c[s].fn===a?c.splice(s,1):++s;return this},o.prototype.emit=function(r){var a=this._listeners[r];if(a){for(var c=[],s=1;s<arguments.length;)c.push(arguments[s++]);for(s=0;s<a.length;)a[s].fn.apply(a[s++].ctx,c)}return this}},function(t,l,u){function o(e){return typeof Float32Array!="undefined"?function(){function i(v,w,g){p[0]=v,w[g]=h[0],w[g+1]=h[1],w[g+2]=h[2],w[g+3]=h[3]}function n(v,w,g){p[0]=v,w[g]=h[3],w[g+1]=h[2],w[g+2]=h[1],w[g+3]=h[0]}function d(v,w){return h[0]=v[w],h[1]=v[w+1],h[2]=v[w+2],h[3]=v[w+3],p[0]}function f(v,w){return h[3]=v[w],h[2]=v[w+1],h[1]=v[w+2],h[0]=v[w+3],p[0]}var p=new Float32Array([-0]),h=new Uint8Array(p.buffer),m=h[3]===128;e.writeFloatLE=m?i:n,e.writeFloatBE=m?n:i,e.readFloatLE=m?d:f,e.readFloatBE=m?f:d}():function(){function i(d,f,p,h){var m=f<0?1:0;if(m&&(f=-f),f===0)d(1/f>0?0:2147483648,p,h);else if(isNaN(f))d(2143289344,p,h);else if(f>34028234663852886e22)d((m<<31|2139095040)>>>0,p,h);else if(f<11754943508222875e-54)d((m<<31|Math.round(f/1401298464324817e-60))>>>0,p,h);else{var v=Math.floor(Math.log(f)/Math.LN2);d((m<<31|v+127<<23|8388607&Math.round(f*Math.pow(2,-v)*8388608))>>>0,p,h)}}function n(d,f,p){var h=d(f,p),m=2*(h>>31)+1,v=h>>>23&255,w=8388607&h;return v===255?w?NaN:m*(1/0):v===0?1401298464324817e-60*m*w:m*Math.pow(2,v-150)*(w+8388608)}e.writeFloatLE=i.bind(null,r),e.writeFloatBE=i.bind(null,a),e.readFloatLE=n.bind(null,c),e.readFloatBE=n.bind(null,s)}(),typeof Float64Array!="undefined"?function(){function i(v,w,g){p[0]=v,w[g]=h[0],w[g+1]=h[1],w[g+2]=h[2],w[g+3]=h[3],w[g+4]=h[4],w[g+5]=h[5],w[g+6]=h[6],w[g+7]=h[7]}function n(v,w,g){p[0]=v,w[g]=h[7],w[g+1]=h[6],w[g+2]=h[5],w[g+3]=h[4],w[g+4]=h[3],w[g+5]=h[2],w[g+6]=h[1],w[g+7]=h[0]}function d(v,w){return h[0]=v[w],h[1]=v[w+1],h[2]=v[w+2],h[3]=v[w+3],h[4]=v[w+4],h[5]=v[w+5],h[6]=v[w+6],h[7]=v[w+7],p[0]}function f(v,w){return h[7]=v[w],h[6]=v[w+1],h[5]=v[w+2],h[4]=v[w+3],h[3]=v[w+4],h[2]=v[w+5],h[1]=v[w+6],h[0]=v[w+7],p[0]}var p=new Float64Array([-0]),h=new Uint8Array(p.buffer),m=h[7]===128;e.writeDoubleLE=m?i:n,e.writeDoubleBE=m?n:i,e.readDoubleLE=m?d:f,e.readDoubleBE=m?f:d}():function(){function i(d,f,p,h,m,v){var w=h<0?1:0;if(w&&(h=-h),h===0)d(0,m,v+f),d(1/h>0?0:2147483648,m,v+p);else if(isNaN(h))d(0,m,v+f),d(2146959360,m,v+p);else if(h>17976931348623157e292)d(0,m,v+f),d((w<<31|2146435072)>>>0,m,v+p);else{var g;if(h<22250738585072014e-324)d((g=h/5e-324)>>>0,m,v+f),d((w<<31|g/4294967296)>>>0,m,v+p);else{var b=Math.floor(Math.log(h)/Math.LN2);b===1024&&(b=1023),d(4503599627370496*(g=h*Math.pow(2,-b))>>>0,m,v+f),d((w<<31|b+1023<<20|1048576*g&1048575)>>>0,m,v+p)}}}function n(d,f,p,h,m){var v=d(h,m+f),w=d(h,m+p),g=2*(w>>31)+1,b=w>>>20&2047,y=4294967296*(1048575&w)+v;return b===2047?y?NaN:g*(1/0):b===0?5e-324*g*y:g*Math.pow(2,b-1075)*(y+4503599627370496)}e.writeDoubleLE=i.bind(null,r,0,4),e.writeDoubleBE=i.bind(null,a,4,0),e.readDoubleLE=n.bind(null,c,0,4),e.readDoubleBE=n.bind(null,s,4,0)}(),e}function r(e,i,n){i[n]=255&e,i[n+1]=e>>>8&255,i[n+2]=e>>>16&255,i[n+3]=e>>>24}function a(e,i,n){i[n]=e>>>24,i[n+1]=e>>>16&255,i[n+2]=e>>>8&255,i[n+3]=255&e}function c(e,i){return(e[i]|e[i+1]<<8|e[i+2]<<16|e[i+3]<<24)>>>0}function s(e,i){return(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])>>>0}t.exports=o(o)},function(t,l,u){var o=l;o.length=function(r){for(var a=0,c=0,s=0;s<r.length;++s)(c=r.charCodeAt(s))<128?a+=1:c<2048?a+=2:(64512&c)==55296&&(64512&r.charCodeAt(s+1))==56320?(++s,a+=4):a+=3;return a},o.read=function(r,a,c){if(c-a<1)return"";for(var s,e=null,i=[],n=0;a<c;)(s=r[a++])<128?i[n++]=s:s>191&&s<224?i[n++]=(31&s)<<6|63&r[a++]:s>239&&s<365?(s=((7&s)<<18|(63&r[a++])<<12|(63&r[a++])<<6|63&r[a++])-65536,i[n++]=55296+(s>>10),i[n++]=56320+(1023&s)):i[n++]=(15&s)<<12|(63&r[a++])<<6|63&r[a++],n>8191&&((e||(e=[])).push(String.fromCharCode.apply(String,i)),n=0);return e?(n&&e.push(String.fromCharCode.apply(String,i.slice(0,n))),e.join("")):String.fromCharCode.apply(String,i.slice(0,n))},o.write=function(r,a,c){for(var s,e,i=c,n=0;n<r.length;++n)(s=r.charCodeAt(n))<128?a[c++]=s:s<2048?(a[c++]=s>>6|192,a[c++]=63&s|128):(64512&s)==55296&&(64512&(e=r.charCodeAt(n+1)))==56320?(s=65536+((1023&s)<<10)+(1023&e),++n,a[c++]=s>>18|240,a[c++]=s>>12&63|128,a[c++]=s>>6&63|128,a[c++]=63&s|128):(a[c++]=s>>12|224,a[c++]=s>>6&63|128,a[c++]=63&s|128);return c-i}},function(t,l,u){t.exports=function(o,r,a){var c=a||8192,s=c>>>1,e=null,i=c;return function(n){if(n<1||n>s)return o(n);i+n>c&&(e=o(c),i=0);var d=r.call(e,i,i+=n);return 7&i&&(i=1+(7|i)),d}}},function(t,l,u){function o(e,i){this.lo=e>>>0,this.hi=i>>>0}t.exports=o;var r=u(1),a=o.zero=new o(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var c=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(e===0)return a;var i=e<0;i&&(e=-e);var n=e>>>0,d=(e-n)/4294967296>>>0;return i&&(d=~d>>>0,n=~n>>>0,++n>4294967295&&(n=0,++d>4294967295&&(d=0))),new o(n,d)},o.from=function(e){if(typeof e=="number")return o.fromNumber(e);if(r.isString(e)){if(!r.Long)return o.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):a},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var i=1+~this.lo>>>0,n=~this.hi>>>0;return i||(n=n+1>>>0),-(i+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===c?a:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,i=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?i===0?e<16384?e<128?1:2:e<2097152?3:4:i<16384?i<128?5:6:i<2097152?7:8:n<128?9:10}},function(t,l,u){function o(){a.call(this)}function r(s,e,i){s.length<40?c.utf8.write(s,e,i):e.utf8Write?e.utf8Write(s,i):e.write(s,i)}t.exports=o;var a=u(9);(o.prototype=Object.create(a.prototype)).constructor=o;var c=u(1);o._configure=function(){o.alloc=c._Buffer_allocUnsafe,o.writeBytesBuffer=c.Buffer&&c.Buffer.prototype instanceof Uint8Array&&c.Buffer.prototype.set.name==="set"?function(s,e,i){e.set(s,i)}:function(s,e,i){if(s.copy)s.copy(e,i,0,s.length);else for(var n=0;n<s.length;)e[i++]=s[n++]}},o.prototype.bytes=function(s){c.isString(s)&&(s=c._Buffer_from(s,"base64"));var e=s.length>>>0;return this.uint32(e),e&&this._push(o.writeBytesBuffer,e,s),this},o.prototype.string=function(s){var e=c.Buffer.byteLength(s);return this.uint32(e),e&&this._push(r,e,s),this},o._configure()},function(t,l,u){function o(c){r.call(this,c)}t.exports=o;var r=u(10);(o.prototype=Object.create(r.prototype)).constructor=o;var a=u(1);o._configure=function(){a.Buffer&&(o.prototype._slice=a.Buffer.prototype.slice)},o.prototype.string=function(){var c=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+c,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+c,this.len))},o._configure()},function(t,l,u){function o(a,c,s){if(typeof a!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=Boolean(c),this.responseDelimited=Boolean(s)}t.exports=o;var r=u(1);(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function a(c,s,e,i,n){if(!i)throw TypeError("request must be specified");var d=this;if(!n)return r.asPromise(a,d,c,s,e,i);if(d.rpcImpl)try{return d.rpcImpl(c,s[d.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(f,p){if(f)return d.emit("error",f,c),n(f);if(p!==null){if(!(p instanceof e))try{p=e[d.responseDelimited?"decodeDelimited":"decode"](p)}catch(h){return d.emit("error",h,c),n(h)}return d.emit("data",p,c),n(null,p)}d.end(!0)})}catch(f){return d.emit("error",f,c),void setTimeout(function(){n(f)},0)}else setTimeout(function(){n(Error("already ended"))},0)},o.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,l,u){function o(r,a){function c(i){if(typeof i!="string"){var n=s();if(o.verbose&&console.log("codegen: "+n),n="return "+n,i){for(var d=Object.keys(i),f=new Array(d.length+1),p=new Array(d.length),h=0;h<d.length;)f[h]=d[h],p[h]=i[d[h++]];return f[h]=n,Function.apply(null,f).apply(null,p)}return Function(n)()}for(var m=new Array(arguments.length-1),v=0;v<m.length;)m[v]=arguments[++v];if(v=0,i=i.replace(/%([%dfijs])/g,function(w,g){var b=m[v++];switch(g){case"d":case"f":return String(Number(b));case"i":return String(Math.floor(b));case"j":return JSON.stringify(b);case"s":return String(b)}return"%"}),v!==m.length)throw Error("parameter count mismatch");return e.push(i),c}function s(i){return"function "+(i||a||"")+"("+(r&&r.join(",")||"")+`){
  `+e.join(`
  `)+`
}`}typeof r=="string"&&(a=r,r=void 0);var e=[];return c.toString=s,c}t.exports=o,o.verbose=!1},function(t,l,u){function o(c,s,e){return typeof s=="function"?(e=s,s={}):s||(s={}),e?!s.xhr&&a&&a.readFile?a.readFile(c,function(i,n){return i&&typeof XMLHttpRequest!="undefined"?o.xhr(c,s,e):i?e(i):e(null,s.binary?n:n.toString("utf8"))}):o.xhr(c,s,e):r(o,this,c,s)}t.exports=o;var r=u(17),a=u(18)("fs");o.xhr=function(c,s,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return e(Error("status "+i.status));if(s.binary){var n=i.response;if(!n){n=[];for(var d=0;d<i.responseText.length;++d)n.push(255&i.responseText.charCodeAt(d))}return e(null,typeof Uint8Array!="undefined"?new Uint8Array(n):n)}return e(null,i.responseText)}},s.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",c),i.send()}},function(t,l,u){var o=l,r=o.isAbsolute=function(c){return/^(?:\/|\w+:)/.test(c)},a=o.normalize=function(c){var s=(c=c.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),e=r(c),i="";e&&(i=s.shift()+"/");for(var n=0;n<s.length;)s[n]===".."?n>0&&s[n-1]!==".."?s.splice(--n,2):e?s.splice(n,1):++n:s[n]==="."?s.splice(n,1):++n;return i+s.join("/")};o.resolve=function(c,s,e){return e||(s=a(s)),r(s)?s:(e||(c=a(c)),(c=c.replace(/(?:\/|^)[^/]+$/,"")).length?a(c+"/"+s):s)}},function(t,l,u){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r=u(16).ProtoMovieEntity,a=u(8).assign,c=u(51),s={};a(s,c);var e=function(n){for(var d=[],f=0;f<n.length;f+=32768)d.push(String.fromCharCode.apply(null,n.subarray(f,f+32768)));return d.join("")},i={loadAssets:function(n,d,f){if((typeof JSZipUtils=="undefined"?"undefined":o(JSZipUtils))==="object"&&typeof JSZip=="function")if(n.toString()=="[object File]")i._readBlobAsArrayBuffer(n,function(m){var v=new Uint8Array(m,0,4);v[0]==80&&v[1]==75&&v[2]==3&&v[3]==4?JSZip.loadAsync(m).then(function(w){i._decodeAssets(w,d)}):i.load_viaProto(m,d,f)});else if(n.indexOf("data:svga/1.0;base64,")>=0){var p=i._base64ToArrayBuffer(n.substring(21));JSZip.loadAsync(p).then(function(m){i._decodeAssets(m,d)})}else n.indexOf("data:svga/2.0;base64,")>=0?(p=i._base64ToArrayBuffer(n.substring(21)),i.load_viaProto(p,d,f)):JSZipUtils.getBinaryContent(n,function(m,v){if(m)throw f&&f(m),console.error(m),m;var w=new Uint8Array(v,0,4);w[0]==80&&w[1]==75&&w[2]==3&&w[3]==4?JSZip.loadAsync(v).then(function(g){i._decodeAssets(g,d)}):i.load_viaProto(v,d,f)});else{var h=new XMLHttpRequest;h.open("GET",n,!0),h.responseType="arraybuffer",h.onload=function(){i.load_viaProto(h.response,d,f)},h.onerror=function(m){if(!f)throw console.error(m),m;f(m)},h.send()}},load_viaProto:function(n,d,f){try{var p=s.inflate(n),h=r.decode(p),m={};i._loadImages(m,void 0,h,function(){h.ver="2.0",d({movie:h,images:m})})}catch(v){if(f)return void f(v);throw console.error(v),v}},_decodeAssets:function(n,d){var f="1.0";n.file("movie.binary")&&(f="1.5"),n.file("movie.spec").async("string").then(function(p){var h=JSON.parse(p),m={};h.ver=f,i._loadImages(m,n,h,function(){d({movie:h,images:m})})})},_loadImages:function(n,d,f,p){var h=this;if((f===void 0?"undefined":o(f))==="object"&&f.$type==r){var m=!0;if(d)e:for(var v in f.images)switch(function(N){if(f.images.hasOwnProperty(N)){var T=f.images[N],C=e(T);return n.hasOwnProperty(N)?"continue":(m=!1,d.file(C+".png").async("base64").then(function(O){n[N]=O,i._loadImages(n,d,f,p)}.bind(h)),"break")}}(v)){case"continue":continue;case"break":break e}else for(var w in f.images)if(f.images.hasOwnProperty(w)){var g=f.images[w],b=void 0;try{b=e(g)}catch{b=e(g)}n[w]=btoa(b)}m&&p.call(this)}else{m=!0;for(var y in f.images)if(f.images.hasOwnProperty(y)){var E=f.images[y];if(n.hasOwnProperty(y))continue;m=!1,d.file(E+".png").async("base64").then(function(N){n[y]=N,i._loadImages(n,d,f,p)}.bind(this));break}m&&p.call(this)}},_base64ToArrayBuffer:function(n){for(var d=window.atob(n),f=d.length,p=new Uint8Array(f),h=0;h<f;h++)p[h]=d.charCodeAt(h);return p.buffer},_readBlobAsArrayBuffer:function(n,d){var f=new FileReader;f.onload=function(p){d(p.target.result)},f.readAsArrayBuffer(n)}};t.exports=function(n,d,f){i.loadAssets(n,d,f)}},function(t,l,u){function o(p){if(!(this instanceof o))return new o(p);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},p||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),!(h.windowBits>=0&&h.windowBits<16)||p&&p.windowBits||(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(15&h.windowBits)==0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var m=a.inflateInit2(this.strm,h.windowBits);if(m!==e.Z_OK)throw new Error(i[m]);if(this.header=new d,a.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=s.string2buf(h.dictionary):f.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(m=a.inflateSetDictionary(this.strm,h.dictionary))!==e.Z_OK))throw new Error(i[m])}function r(p,h){var m=new o(h);if(m.push(p,!0),m.err)throw m.msg||i[m.err];return m.result}var a=u(52),c=u(8),s=u(57),e=u(58),i=u(59),n=u(60),d=u(61),f=Object.prototype.toString;o.prototype.push=function(p,h){var m,v,w,g,b,y=this.strm,E=this.options.chunkSize,N=this.options.dictionary,T=!1;if(this.ended)return!1;v=h===~~h?h:h===!0?e.Z_FINISH:e.Z_NO_FLUSH,typeof p=="string"?y.input=s.binstring2buf(p):f.call(p)==="[object ArrayBuffer]"?y.input=new Uint8Array(p):y.input=p,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new c.Buf8(E),y.next_out=0,y.avail_out=E),(m=a.inflate(y,e.Z_NO_FLUSH))===e.Z_NEED_DICT&&N&&(m=a.inflateSetDictionary(this.strm,N)),m===e.Z_BUF_ERROR&&T===!0&&(m=e.Z_OK,T=!1),m!==e.Z_STREAM_END&&m!==e.Z_OK)return this.onEnd(m),this.ended=!0,!1;y.next_out&&(y.avail_out!==0&&m!==e.Z_STREAM_END&&(y.avail_in!==0||v!==e.Z_FINISH&&v!==e.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=s.utf8border(y.output,y.next_out),g=y.next_out-w,b=s.buf2string(y.output,w),y.next_out=g,y.avail_out=E-g,g&&c.arraySet(y.output,y.output,w,g,0),this.onData(b)):this.onData(c.shrinkBuf(y.output,y.next_out)))),y.avail_in===0&&y.avail_out===0&&(T=!0)}while((y.avail_in>0||y.avail_out===0)&&m!==e.Z_STREAM_END);return m===e.Z_STREAM_END&&(v=e.Z_FINISH),v===e.Z_FINISH?(m=a.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===e.Z_OK):v!==e.Z_SYNC_FLUSH||(this.onEnd(e.Z_OK),y.avail_out=0,!0)},o.prototype.onData=function(p){this.chunks.push(p)},o.prototype.onEnd=function(p){p===e.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},l.Inflate=o,l.inflate=r,l.inflateRaw=function(p,h){return(h=h||{}).raw=!0,r(p,h)},l.ungzip=r},function(t,l,u){function o(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(B){var j;return B&&B.state?(j=B.state,B.total_in=B.total_out=j.total=0,B.msg="",j.wrap&&(B.adler=1&j.wrap),j.mode=H,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new p.Buf32(ge),j.distcode=j.distdyn=new p.Buf32(je),j.sane=1,j.back=-1,C):D}function c(B){var j;return B&&B.state?((j=B.state).wsize=0,j.whave=0,j.wnext=0,a(B)):D}function s(B,j){var _,Z;return B&&B.state?(Z=B.state,j<0?(_=0,j=-j):(_=1+(j>>4),j<48&&(j&=15)),j&&(j<8||j>15)?D:(Z.window!==null&&Z.wbits!==j&&(Z.window=null),Z.wrap=_,Z.wbits=j,c(B))):D}function e(B,j){var _,Z;return B?(Z=new r,B.state=Z,Z.window=null,(_=s(B,j))!==C&&(B.state=null),_):D}function i(B){if(Fe){var j;for(d=new p.Buf32(512),f=new p.Buf32(32),j=0;j<144;)B.lens[j++]=8;for(;j<256;)B.lens[j++]=9;for(;j<280;)B.lens[j++]=7;for(;j<288;)B.lens[j++]=8;for(w(b,B.lens,0,288,d,0,B.work,{bits:9}),j=0;j<32;)B.lens[j++]=5;w(y,B.lens,0,32,f,0,B.work,{bits:5}),Fe=!1}B.lencode=d,B.lenbits=9,B.distcode=f,B.distbits=5}function n(B,j,_,Z){var se,V=B.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new p.Buf8(V.wsize)),Z>=V.wsize?(p.arraySet(V.window,j,_-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):((se=V.wsize-V.wnext)>Z&&(se=Z),p.arraySet(V.window,j,_-Z,se,V.wnext),(Z-=se)?(p.arraySet(V.window,j,_-Z,Z,0),V.wnext=Z,V.whave=V.wsize):(V.wnext+=se,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=se))),0}var d,f,p=u(8),h=u(53),m=u(54),v=u(55),w=u(56),g=0,b=1,y=2,E=4,N=5,T=6,C=0,O=1,I=2,D=-2,k=-3,A=-4,P=-5,L=8,H=1,J=2,oe=3,M=4,Y=5,q=6,X=7,G=8,he=9,_e=10,ee=11,W=12,we=13,be=14,ke=15,Te=16,Se=17,Ce=18,Be=19,Ee=20,xe=21,Ae=22,Ie=23,$e=24,Oe=25,Ne=26,x=27,R=28,K=29,U=30,te=31,ue=32,ge=852,je=592,He=15,Fe=!0;l.inflateReset=c,l.inflateReset2=s,l.inflateResetKeep=a,l.inflateInit=function(B){return e(B,He)},l.inflateInit2=e,l.inflate=function(B,j){var _,Z,se,V,pe,F,re,$,S,Pe,ne,z,Re,Ve,Q,le,fe,de,De,Me,ie,me,ye,ve,ce=0,ae=new p.Buf8(4),Le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return D;(_=B.state).mode===W&&(_.mode=we),pe=B.next_out,se=B.output,re=B.avail_out,V=B.next_in,Z=B.input,F=B.avail_in,$=_.hold,S=_.bits,Pe=F,ne=re,me=C;e:for(;;)switch(_.mode){case H:if(_.wrap===0){_.mode=we;break}for(;S<16;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}if(2&_.wrap&&$===35615){_.check=0,ae[0]=255&$,ae[1]=$>>>8&255,_.check=m(_.check,ae,2,0),$=0,S=0,_.mode=J;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&$)<<8)+($>>8))%31){B.msg="incorrect header check",_.mode=U;break}if((15&$)!==L){B.msg="unknown compression method",_.mode=U;break}if(S-=4,ie=8+(15&($>>>=4)),_.wbits===0)_.wbits=ie;else if(ie>_.wbits){B.msg="invalid window size",_.mode=U;break}_.dmax=1<<ie,B.adler=_.check=1,_.mode=512&$?_e:W,$=0,S=0;break;case J:for(;S<16;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}if(_.flags=$,(255&_.flags)!==L){B.msg="unknown compression method",_.mode=U;break}if(57344&_.flags){B.msg="unknown header flags set",_.mode=U;break}_.head&&(_.head.text=$>>8&1),512&_.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,_.check=m(_.check,ae,2,0)),$=0,S=0,_.mode=oe;case oe:for(;S<32;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}_.head&&(_.head.time=$),512&_.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,ae[2]=$>>>16&255,ae[3]=$>>>24&255,_.check=m(_.check,ae,4,0)),$=0,S=0,_.mode=M;case M:for(;S<16;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}_.head&&(_.head.xflags=255&$,_.head.os=$>>8),512&_.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,_.check=m(_.check,ae,2,0)),$=0,S=0,_.mode=Y;case Y:if(1024&_.flags){for(;S<16;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}_.length=$,_.head&&(_.head.extra_len=$),512&_.flags&&(ae[0]=255&$,ae[1]=$>>>8&255,_.check=m(_.check,ae,2,0)),$=0,S=0}else _.head&&(_.head.extra=null);_.mode=q;case q:if(1024&_.flags&&((z=_.length)>F&&(z=F),z&&(_.head&&(ie=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),p.arraySet(_.head.extra,Z,V,z,ie)),512&_.flags&&(_.check=m(_.check,Z,z,V)),F-=z,V+=z,_.length-=z),_.length))break e;_.length=0,_.mode=X;case X:if(2048&_.flags){if(F===0)break e;z=0;do ie=Z[V+z++],_.head&&ie&&_.length<65536&&(_.head.name+=String.fromCharCode(ie));while(ie&&z<F);if(512&_.flags&&(_.check=m(_.check,Z,z,V)),F-=z,V+=z,ie)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=G;case G:if(4096&_.flags){if(F===0)break e;z=0;do ie=Z[V+z++],_.head&&ie&&_.length<65536&&(_.head.comment+=String.fromCharCode(ie));while(ie&&z<F);if(512&_.flags&&(_.check=m(_.check,Z,z,V)),F-=z,V+=z,ie)break e}else _.head&&(_.head.comment=null);_.mode=he;case he:if(512&_.flags){for(;S<16;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}if($!==(65535&_.check)){B.msg="header crc mismatch",_.mode=U;break}$=0,S=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),B.adler=_.check=0,_.mode=W;break;case _e:for(;S<32;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}B.adler=_.check=o($),$=0,S=0,_.mode=ee;case ee:if(_.havedict===0)return B.next_out=pe,B.avail_out=re,B.next_in=V,B.avail_in=F,_.hold=$,_.bits=S,I;B.adler=_.check=1,_.mode=W;case W:if(j===N||j===T)break e;case we:if(_.last){$>>>=7&S,S-=7&S,_.mode=x;break}for(;S<3;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}switch(_.last=1&$,S-=1,3&($>>>=1)){case 0:_.mode=be;break;case 1:if(i(_),_.mode=Ee,j===T){$>>>=2,S-=2;break e}break;case 2:_.mode=Se;break;case 3:B.msg="invalid block type",_.mode=U}$>>>=2,S-=2;break;case be:for($>>>=7&S,S-=7&S;S<32;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}if((65535&$)!=($>>>16^65535)){B.msg="invalid stored block lengths",_.mode=U;break}if(_.length=65535&$,$=0,S=0,_.mode=ke,j===T)break e;case ke:_.mode=Te;case Te:if(z=_.length){if(z>F&&(z=F),z>re&&(z=re),z===0)break e;p.arraySet(se,Z,V,z,pe),F-=z,V+=z,re-=z,pe+=z,_.length-=z;break}_.mode=W;break;case Se:for(;S<14;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}if(_.nlen=257+(31&$),$>>>=5,S-=5,_.ndist=1+(31&$),$>>>=5,S-=5,_.ncode=4+(15&$),$>>>=4,S-=4,_.nlen>286||_.ndist>30){B.msg="too many length or distance symbols",_.mode=U;break}_.have=0,_.mode=Ce;case Ce:for(;_.have<_.ncode;){for(;S<3;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}_.lens[Le[_.have++]]=7&$,$>>>=3,S-=3}for(;_.have<19;)_.lens[Le[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,ye={bits:_.lenbits},me=w(g,_.lens,0,19,_.lencode,0,_.work,ye),_.lenbits=ye.bits,me){B.msg="invalid code lengths set",_.mode=U;break}_.have=0,_.mode=Be;case Be:for(;_.have<_.nlen+_.ndist;){for(;le=(ce=_.lencode[$&(1<<_.lenbits)-1])>>>16&255,fe=65535&ce,!((Q=ce>>>24)<=S);){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}if(fe<16)$>>>=Q,S-=Q,_.lens[_.have++]=fe;else{if(fe===16){for(ve=Q+2;S<ve;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}if($>>>=Q,S-=Q,_.have===0){B.msg="invalid bit length repeat",_.mode=U;break}ie=_.lens[_.have-1],z=3+(3&$),$>>>=2,S-=2}else if(fe===17){for(ve=Q+3;S<ve;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}S-=Q,ie=0,z=3+(7&($>>>=Q)),$>>>=3,S-=3}else{for(ve=Q+7;S<ve;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}S-=Q,ie=0,z=11+(127&($>>>=Q)),$>>>=7,S-=7}if(_.have+z>_.nlen+_.ndist){B.msg="invalid bit length repeat",_.mode=U;break}for(;z--;)_.lens[_.have++]=ie}}if(_.mode===U)break;if(_.lens[256]===0){B.msg="invalid code -- missing end-of-block",_.mode=U;break}if(_.lenbits=9,ye={bits:_.lenbits},me=w(b,_.lens,0,_.nlen,_.lencode,0,_.work,ye),_.lenbits=ye.bits,me){B.msg="invalid literal/lengths set",_.mode=U;break}if(_.distbits=6,_.distcode=_.distdyn,ye={bits:_.distbits},me=w(y,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,ye),_.distbits=ye.bits,me){B.msg="invalid distances set",_.mode=U;break}if(_.mode=Ee,j===T)break e;case Ee:_.mode=xe;case xe:if(F>=6&&re>=258){B.next_out=pe,B.avail_out=re,B.next_in=V,B.avail_in=F,_.hold=$,_.bits=S,v(B,ne),pe=B.next_out,se=B.output,re=B.avail_out,V=B.next_in,Z=B.input,F=B.avail_in,$=_.hold,S=_.bits,_.mode===W&&(_.back=-1);break}for(_.back=0;le=(ce=_.lencode[$&(1<<_.lenbits)-1])>>>16&255,fe=65535&ce,!((Q=ce>>>24)<=S);){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}if(le&&(240&le)==0){for(de=Q,De=le,Me=fe;le=(ce=_.lencode[Me+(($&(1<<de+De)-1)>>de)])>>>16&255,fe=65535&ce,!(de+(Q=ce>>>24)<=S);){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}$>>>=de,S-=de,_.back+=de}if($>>>=Q,S-=Q,_.back+=Q,_.length=fe,le===0){_.mode=Ne;break}if(32&le){_.back=-1,_.mode=W;break}if(64&le){B.msg="invalid literal/length code",_.mode=U;break}_.extra=15&le,_.mode=Ae;case Ae:if(_.extra){for(ve=_.extra;S<ve;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}_.length+=$&(1<<_.extra)-1,$>>>=_.extra,S-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=Ie;case Ie:for(;le=(ce=_.distcode[$&(1<<_.distbits)-1])>>>16&255,fe=65535&ce,!((Q=ce>>>24)<=S);){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}if((240&le)==0){for(de=Q,De=le,Me=fe;le=(ce=_.distcode[Me+(($&(1<<de+De)-1)>>de)])>>>16&255,fe=65535&ce,!(de+(Q=ce>>>24)<=S);){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}$>>>=de,S-=de,_.back+=de}if($>>>=Q,S-=Q,_.back+=Q,64&le){B.msg="invalid distance code",_.mode=U;break}_.offset=fe,_.extra=15&le,_.mode=$e;case $e:if(_.extra){for(ve=_.extra;S<ve;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}_.offset+=$&(1<<_.extra)-1,$>>>=_.extra,S-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){B.msg="invalid distance too far back",_.mode=U;break}_.mode=Oe;case Oe:if(re===0)break e;if(z=ne-re,_.offset>z){if((z=_.offset-z)>_.whave&&_.sane){B.msg="invalid distance too far back",_.mode=U;break}z>_.wnext?(z-=_.wnext,Re=_.wsize-z):Re=_.wnext-z,z>_.length&&(z=_.length),Ve=_.window}else Ve=se,Re=pe-_.offset,z=_.length;z>re&&(z=re),re-=z,_.length-=z;do se[pe++]=Ve[Re++];while(--z);_.length===0&&(_.mode=xe);break;case Ne:if(re===0)break e;se[pe++]=_.length,re--,_.mode=xe;break;case x:if(_.wrap){for(;S<32;){if(F===0)break e;F--,$|=Z[V++]<<S,S+=8}if(ne-=re,B.total_out+=ne,_.total+=ne,ne&&(B.adler=_.check=_.flags?m(_.check,se,ne,pe-ne):h(_.check,se,ne,pe-ne)),ne=re,(_.flags?$:o($))!==_.check){B.msg="incorrect data check",_.mode=U;break}$=0,S=0}_.mode=R;case R:if(_.wrap&&_.flags){for(;S<32;){if(F===0)break e;F--,$+=Z[V++]<<S,S+=8}if($!==(4294967295&_.total)){B.msg="incorrect length check",_.mode=U;break}$=0,S=0}_.mode=K;case K:me=O;break e;case U:me=k;break e;case te:return A;case ue:default:return D}return B.next_out=pe,B.avail_out=re,B.next_in=V,B.avail_in=F,_.hold=$,_.bits=S,(_.wsize||ne!==B.avail_out&&_.mode<U&&(_.mode<x||j!==E))&&n(B,B.output,B.next_out,ne-B.avail_out)?(_.mode=te,A):(Pe-=B.avail_in,ne-=B.avail_out,B.total_in+=Pe,B.total_out+=ne,_.total+=ne,_.wrap&&ne&&(B.adler=_.check=_.flags?m(_.check,se,ne,B.next_out-ne):h(_.check,se,ne,B.next_out-ne)),B.data_type=_.bits+(_.last?64:0)+(_.mode===W?128:0)+(_.mode===Ee||_.mode===ke?256:0),(Pe===0&&ne===0||j===E)&&me===C&&(me=P),me)},l.inflateEnd=function(B){if(!B||!B.state)return D;var j=B.state;return j.window&&(j.window=null),B.state=null,C},l.inflateGetHeader=function(B,j){var _;return B&&B.state?(2&(_=B.state).wrap)==0?D:(_.head=j,j.done=!1,C):D},l.inflateSetDictionary=function(B,j){var _,Z=j.length;return B&&B.state?(_=B.state).wrap!==0&&_.mode!==ee?D:_.mode===ee&&h(1,j,Z,0)!==_.check?k:n(B,j,Z,Z)?(_.mode=te,A):(_.havedict=1,C):D},l.inflateInfo="pako inflate (from Nodeca project)"},function(t,l,u){t.exports=function(o,r,a,c){for(var s=65535&o|0,e=o>>>16&65535|0,i=0;a!==0;){a-=i=a>2e3?2e3:a;do e=e+(s=s+r[c++]|0)|0;while(--i);s%=65521,e%=65521}return s|e<<16|0}},function(t,l,u){var o=function(){for(var r,a=[],c=0;c<256;c++){r=c;for(var s=0;s<8;s++)r=1&r?3988292384^r>>>1:r>>>1;a[c]=r}return a}();t.exports=function(r,a,c,s){var e=o,i=s+c;r^=-1;for(var n=s;n<i;n++)r=r>>>8^e[255&(r^a[n])];return-1^r}},function(t,l,u){t.exports=function(o,r){var a,c,s,e,i,n,d,f,p,h,m,v,w,g,b,y,E,N,T,C,O,I,D,k,A;a=o.state,c=o.next_in,k=o.input,s=c+(o.avail_in-5),e=o.next_out,A=o.output,i=e-(r-o.avail_out),n=e+(o.avail_out-257),d=a.dmax,f=a.wsize,p=a.whave,h=a.wnext,m=a.window,v=a.hold,w=a.bits,g=a.lencode,b=a.distcode,y=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{w<15&&(v+=k[c++]<<w,w+=8,v+=k[c++]<<w,w+=8),N=g[v&y];t:for(;;){if(v>>>=T=N>>>24,w-=T,(T=N>>>16&255)==0)A[e++]=65535&N;else{if(!(16&T)){if((64&T)==0){N=g[(65535&N)+(v&(1<<T)-1)];continue t}if(32&T){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}C=65535&N,(T&=15)&&(w<T&&(v+=k[c++]<<w,w+=8),C+=v&(1<<T)-1,v>>>=T,w-=T),w<15&&(v+=k[c++]<<w,w+=8,v+=k[c++]<<w,w+=8),N=b[v&E];n:for(;;){if(v>>>=T=N>>>24,w-=T,!(16&(T=N>>>16&255))){if((64&T)==0){N=b[(65535&N)+(v&(1<<T)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(O=65535&N,w<(T&=15)&&(v+=k[c++]<<w,(w+=8)<T&&(v+=k[c++]<<w,w+=8)),(O+=v&(1<<T)-1)>d){o.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=T,w-=T,O>(T=e-i)){if((T=O-T)>p&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if(I=0,D=m,h===0){if(I+=f-T,T<C){C-=T;do A[e++]=m[I++];while(--T);I=e-O,D=A}}else if(h<T){if(I+=f+h-T,(T-=h)<C){C-=T;do A[e++]=m[I++];while(--T);if(I=0,h<C){C-=T=h;do A[e++]=m[I++];while(--T);I=e-O,D=A}}}else if(I+=h-T,T<C){C-=T;do A[e++]=m[I++];while(--T);I=e-O,D=A}for(;C>2;)A[e++]=D[I++],A[e++]=D[I++],A[e++]=D[I++],C-=3;C&&(A[e++]=D[I++],C>1&&(A[e++]=D[I++]))}else{I=e-O;do A[e++]=A[I++],A[e++]=A[I++],A[e++]=A[I++],C-=3;while(C>2);C&&(A[e++]=A[I++],C>1&&(A[e++]=A[I++]))}break}}break}}while(c<s&&e<n);c-=C=w>>3,v&=(1<<(w-=C<<3))-1,o.next_in=c,o.next_out=e,o.avail_in=c<s?s-c+5:5-(c-s),o.avail_out=e<n?n-e+257:257-(e-n),a.hold=v,a.bits=w}},function(t,l,u){var o=u(8),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,i,n,d,f,p,h,m){var v,w,g,b,y,E,N,T,C,O=m.bits,I=0,D=0,k=0,A=0,P=0,L=0,H=0,J=0,oe=0,M=0,Y=null,q=0,X=new o.Buf16(16),G=new o.Buf16(16),he=null,_e=0;for(I=0;I<=15;I++)X[I]=0;for(D=0;D<d;D++)X[i[n+D]]++;for(P=O,A=15;A>=1&&X[A]===0;A--);if(P>A&&(P=A),A===0)return f[p++]=20971520,f[p++]=20971520,m.bits=1,0;for(k=1;k<A&&X[k]===0;k++);for(P<k&&(P=k),J=1,I=1;I<=15;I++)if(J<<=1,(J-=X[I])<0)return-1;if(J>0&&(e===0||A!==1))return-1;for(G[1]=0,I=1;I<15;I++)G[I+1]=G[I]+X[I];for(D=0;D<d;D++)i[n+D]!==0&&(h[G[i[n+D]]++]=D);if(e===0?(Y=he=h,E=19):e===1?(Y=r,q-=257,he=a,_e-=257,E=256):(Y=c,he=s,E=-1),M=0,D=0,I=k,y=p,L=P,H=0,g=-1,b=(oe=1<<P)-1,e===1&&oe>852||e===2&&oe>592)return 1;for(;;){N=I-H,h[D]<E?(T=0,C=h[D]):h[D]>E?(T=he[_e+h[D]],C=Y[q+h[D]]):(T=96,C=0),v=1<<I-H,k=w=1<<L;do f[y+(M>>H)+(w-=v)]=N<<24|T<<16|C|0;while(w!==0);for(v=1<<I-1;M&v;)v>>=1;if(v!==0?(M&=v-1,M+=v):M=0,D++,--X[I]==0){if(I===A)break;I=i[n+h[D]]}if(I>P&&(M&b)!==g){for(H===0&&(H=P),y+=k,J=1<<(L=I-H);L+H<A&&!((J-=X[L+H])<=0);)L++,J<<=1;if(oe+=1<<L,e===1&&oe>852||e===2&&oe>592)return 1;f[g=M&b]=P<<24|L<<16|y-p|0}}return M!==0&&(f[y+M]=I-H<<24|64<<16|0),m.bits=P,0}},function(t,l,u){function o(i,n){if(n<65534&&(i.subarray&&c||!i.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(i,n));for(var d="",f=0;f<n;f++)d+=String.fromCharCode(i[f]);return d}var r=u(8),a=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var s=new r.Buf8(256),e=0;e<256;e++)s[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;s[254]=s[254]=1,l.string2buf=function(i){var n,d,f,p,h,m=i.length,v=0;for(p=0;p<m;p++)(64512&(d=i.charCodeAt(p)))==55296&&p+1<m&&(64512&(f=i.charCodeAt(p+1)))==56320&&(d=65536+(d-55296<<10)+(f-56320),p++),v+=d<128?1:d<2048?2:d<65536?3:4;for(n=new r.Buf8(v),h=0,p=0;h<v;p++)(64512&(d=i.charCodeAt(p)))==55296&&p+1<m&&(64512&(f=i.charCodeAt(p+1)))==56320&&(d=65536+(d-55296<<10)+(f-56320),p++),d<128?n[h++]=d:d<2048?(n[h++]=192|d>>>6,n[h++]=128|63&d):d<65536?(n[h++]=224|d>>>12,n[h++]=128|d>>>6&63,n[h++]=128|63&d):(n[h++]=240|d>>>18,n[h++]=128|d>>>12&63,n[h++]=128|d>>>6&63,n[h++]=128|63&d);return n},l.buf2binstring=function(i){return o(i,i.length)},l.binstring2buf=function(i){for(var n=new r.Buf8(i.length),d=0,f=n.length;d<f;d++)n[d]=i.charCodeAt(d);return n},l.buf2string=function(i,n){var d,f,p,h,m=n||i.length,v=new Array(2*m);for(f=0,d=0;d<m;)if((p=i[d++])<128)v[f++]=p;else if((h=s[p])>4)v[f++]=65533,d+=h-1;else{for(p&=h===2?31:h===3?15:7;h>1&&d<m;)p=p<<6|63&i[d++],h--;h>1?v[f++]=65533:p<65536?v[f++]=p:(p-=65536,v[f++]=55296|p>>10&1023,v[f++]=56320|1023&p)}return o(v,f)},l.utf8border=function(i,n){var d;for((n=n||i.length)>i.length&&(n=i.length),d=n-1;d>=0&&(192&i[d])==128;)d--;return d<0||d===0?n:d+s[i[d]]>n?d:n}},function(t,l,u){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,l,u){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,l,u){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,l,u){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,l,u){t.exports=function(o){function r(c){if(a[c])return a[c].exports;var s=a[c]={i:c,l:!1,exports:{}};return o[c].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var a={};return r.m=o,r.c=a,r.d=function(c,s,e){r.o(c,s)||Object.defineProperty(c,s,{configurable:!1,enumerable:!0,get:e})},r.n=function(c){var s=c&&c.__esModule?function(){return c.default}:function(){return c};return r.d(s,"a",s),s},r.o=function(c,s){return Object.prototype.hasOwnProperty.call(c,s)},r.p="",r(r.s=0)}([function(o,r,a){Object.defineProperty(r,"__esModule",{value:!0});var c=a(1);o.exports=c.ValueAnimator},function(o,r,a){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function s(){this.startValue=0,this.endValue=0,this.duration=0,this.loops=1,this.fillRule=0,this.onStart=function(){},this.onUpdate=function(){},this.onEnd=function(){},this.mRunning=!1,this.mStartTime=0,this.mCurrentFrication=0,this.mReverse=!1}return s.prototype.start=function(e){e===void 0&&(e=void 0),this.doStart(!1,e)},s.prototype.reverse=function(e){e===void 0&&(e=void 0),this.doStart(!0,e)},s.prototype.stop=function(){this.doStop()},Object.defineProperty(s.prototype,"animatedValue",{get:function(){return(this.endValue-this.startValue)*this.mCurrentFrication+this.startValue},enumerable:!0,configurable:!0}),s.prototype.doStart=function(e,i){e===void 0&&(e=!1),i===void 0&&(i=void 0),this.mReverse=e,this.mRunning=!0,this.mStartTime=s.currentTimeMillsecond(),i&&(this.mStartTime-=e?(1-i/(this.endValue-this.startValue))*this.duration:i/(this.endValue-this.startValue)*this.duration),this.mCurrentFrication=0,this.onStart(),this.doFrame()},s.prototype.doStop=function(){this.mRunning=!1},s.prototype.doFrame=function(){this.mRunning&&(this.doDeltaTime(s.currentTimeMillsecond()-this.mStartTime),this.mRunning&&s.requestAnimationFrame(this.doFrame.bind(this)))},s.prototype.doDeltaTime=function(e){e>=this.duration*this.loops?(this.mCurrentFrication=this.fillRule===1?0:1,this.mRunning=!1):(this.mCurrentFrication=e%this.duration/this.duration,this.mReverse&&(this.mCurrentFrication=1-this.mCurrentFrication)),this.onUpdate(this.animatedValue),this.mRunning===!1&&this.onEnd()},s.currentTimeMillsecond=function(){return typeof performance=="undefined"?new Date().getTime():performance.now()},s.requestAnimationFrame=function(e){return typeof requestAnimationFrame=="undefined"?setTimeout(e,16):window.requestAnimationFrame(e)},s}();r.ValueAnimator=c}])},function(t,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Player=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r=function(){function s(e,i){for(var n=0;n<i.length;n++){var d=i[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}return function(e,i,n){return i&&s(e.prototype,i),n&&s(e,n),e}}(),a=u(65),c=u(62);l.Player=function(){function s(e){(function(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")})(this,s),this.loops=0,this.clearsAfterStop=!0,this.fillMode="Forward",this._asChild=!1,this._container=void 0,this._renderer=void 0,this._animator=void 0,this._drawingCanvas=void 0,this._contentMode="AspectFit",this._videoItem=void 0,this._forwardAnimating=!1,this._currentFrame=0,this._dynamicImage={},this._dynamicImageTransform={},this._dynamicText={},this._onFinished=void 0,this._onFrame=void 0,this._onPercentage=void 0,this._container=typeof e=="string"?document.querySelector(e):e,this._asChild=e===void 0,this._init()}return r(s,[{key:"setVideoItem",value:function(e){this._currentFrame=0,this._videoItem=e,this._renderer.prepare(),this.clear(),this._update()}},{key:"setContentMode",value:function(e){this._contentMode=e,this._update()}},{key:"setClipsToBounds",value:function(e){this._container instanceof HTMLDivElement&&(this._container.style.overflowX=this._container.style.overflowY=e?"hidden":void 0)}},{key:"startAnimation",value:function(e){this.stopAnimation(!1),this._doStart(void 0,e,void 0)}},{key:"startAnimationWithRange",value:function(e,i){this.stopAnimation(!1),this._doStart(e,i,void 0)}},{key:"pauseAnimation",value:function(){this.stopAnimation(!1)}},{key:"stopAnimation",value:function(e){this._forwardAnimating=!1,this._animator!==void 0&&this._animator.stop(),e===void 0&&(e=this.clearsAfterStop),e&&this.clear()}},{key:"clear",value:function(){this._renderer.clear(),this._renderer.clearAudios()}},{key:"stepToFrame",value:function(e,i){e>=this._videoItem.frames||e<0||(this.pauseAnimation(),this._currentFrame=e,this._update(),i&&this._doStart(void 0,!1,this._currentFrame))}},{key:"stepToPercentage",value:function(e,i){var n=parseInt(e*this._videoItem.frames);n>=this._videoItem.frames&&n>0&&(n=this._videoItem.frames-1),this.stepToFrame(n,i)}},{key:"setImage",value:function(e,i,n){this._dynamicImage[i]=e,n!==void 0&&n instanceof Array&&n.length==6&&(this._dynamicImageTransform[i]=n)}},{key:"setText",value:function(e,i){var n=typeof e=="string"?e:e.text,d=((e===void 0?"undefined":o(e))==="object"?e.size:"14px")||"14px",f=((e===void 0?"undefined":o(e))==="object"?e.family:"Arial")||"Arial",p=((e===void 0?"undefined":o(e))==="object"?e.color:"#000000")||"#000000",h=((e===void 0?"undefined":o(e))==="object"?e.offset:{x:0,y:0})||{x:0,y:0};this._dynamicText[i]={text:n,style:d+" "+f,color:p,offset:h}}},{key:"clearDynamicObjects",value:function(){this._dynamicImage={},this._dynamicImageTransform={},this._dynamicText={}}},{key:"onFinished",value:function(e){this._onFinished=e}},{key:"onFrame",value:function(e){this._onFrame=e}},{key:"onPercentage",value:function(e){this._onPercentage=e}},{key:"drawOnContext",value:function(e,i,n,d,f){this._drawingCanvas&&this._videoItem&&e.drawImage(this._drawingCanvas,i,n,d||this._videoItem.videoSize.width,f||this._videoItem.videoSize.height)}},{key:"_init",value:function(){if(this._container instanceof HTMLDivElement||this._asChild){if(this._container)for(var e=this._container.querySelectorAll("canvas"),i=0;i<e.length;i++){var n=e[i];n!==void 0&&n.__isPlayer&&this._container.removeChild(n)}this._drawingCanvas=document.createElement("canvas"),this._drawingCanvas.__isPlayer=!0,this._drawingCanvas.style.backgroundColor="transparent",this._container&&(this._container.appendChild(this._drawingCanvas),this._container.style.textAlign="left")}this._renderer=new a.Renderer(this)}},{key:"_doStart",value:function(e,i,n){var d=this;this._animator=new c,e!==void 0?(this._animator.startValue=Math.max(0,e.location),this._animator.endValue=Math.min(this._videoItem.frames-1,e.location+e.length),this._animator.duration=(this._animator.endValue-this._animator.startValue+1)*(1/this._videoItem.FPS)*1e3):(this._animator.startValue=0,this._animator.endValue=this._videoItem.frames-1,this._animator.duration=this._videoItem.frames*(1/this._videoItem.FPS)*1e3),this._animator.loops=this.loops<=0?1/0:this.loops,this._animator.fillRule=this.fillMode==="Backward"?1:0,this._animator.onUpdate=function(f){d._currentFrame!==Math.floor(f)&&(d._forwardAnimating&&d._currentFrame>Math.floor(f)&&d._renderer.clearAudios(),d._currentFrame=Math.floor(f),d._update(),typeof d._onFrame=="function"&&d._onFrame(d._currentFrame),typeof d._onPercentage=="function"&&d._onPercentage(parseFloat(d._currentFrame+1)/parseFloat(d._videoItem.frames)))},this._animator.onEnd=function(){d._forwardAnimating=!1,d.clearsAfterStop===!0&&d.clear(),typeof d._onFinished=="function"&&d._onFinished()},i===!0?(this._animator.reverse(n),this._forwardAnimating=!1):(this._animator.start(n),this._forwardAnimating=!0),this._currentFrame=this._animator.startValue,this._update()}},{key:"_resize",value:function(){var e=!1;if(this._drawingCanvas){var i;i=this._drawingCanvas.parentNode?{width:this._drawingCanvas.parentNode.clientWidth,height:this._drawingCanvas.parentNode.clientHeight}:this._videoItem.videoSize;var n=this._videoItem.videoSize;if(i.width>=n.width&&i.height>=n.height)this._drawingCanvas.width=i.width,this._drawingCanvas.height=i.height,this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="",e=!0;else{if(this._drawingCanvas.width=n.width,this._drawingCanvas.height=n.height,this._contentMode==="Fill"){var d=i.width/n.width,f=i.height/n.height,p=(n.width*d-n.width)/2,h=(n.height*f-n.height)/2;this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="matrix("+d+", 0.0, 0.0, "+f+", "+p+", "+h+")"}else if(this._contentMode==="AspectFit"||this._contentMode==="AspectFill"){var m=n.width/n.height,v=i.width/i.height;if(m>=v&&this._contentMode==="AspectFit"||m<=v&&this._contentMode==="AspectFill"){var w=i.width/n.width,g=(n.width*w-n.width)/2,b=(n.height*w-n.height)/2+(i.height-n.height*w)/2;this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="matrix("+w+", 0.0, 0.0, "+w+", "+g+", "+b+")"}else if(m<v&&this._contentMode==="AspectFit"||m>v&&this._contentMode==="AspectFill"){var y=i.height/n.height,E=(n.width*y-n.width)/2+(i.width-n.width*y)/2,N=(n.height*y-n.height)/2;this._drawingCanvas.style.webkitTransform=this._drawingCanvas.style.transform="matrix("+y+", 0.0, 0.0, "+y+", "+E+", "+N+")"}}this._globalTransform=void 0}}if(this._drawingCanvas===void 0||e===!0){var T=1,C=1,O=0,I=0,D={width:this._container!==void 0?this._container.clientWidth:0,height:this._container!==void 0?this._container.clientHeight:0},k=this._videoItem.videoSize;if(this._contentMode==="Fill")T=D.width/k.width,C=D.height/k.height;else if(this._contentMode==="AspectFit"||this._contentMode==="AspectFill"){var A=k.width/k.height,P=D.width/D.height;A>=P&&this._contentMode==="AspectFit"||A<=P&&this._contentMode==="AspectFill"?(T=C=D.width/k.width,I=(D.height-k.height*C)/2):(A<P&&this._contentMode==="AspectFit"||A>P&&this._contentMode==="AspectFill")&&(T=C=D.height/k.height,O=(D.width-k.width*T)/2)}this._globalTransform={a:T,b:0,c:0,d:C,tx:O,ty:I}}}},{key:"_update",value:function(){this._videoItem!==void 0&&(this._resize(),this._renderer.drawFrame(this._currentFrame),this._renderer.playAudio(this._currentFrame))}}]),s}()},function(t,l,u){var o=u(13),r=u(63),a=u(66);t.exports={Parser:o.Parser,Player:r.Player,autoload:a.AutoLoader.autoload},a.AutoLoader.autoload()},function(t,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Renderer=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(i,n){for(var d=0;d<n.length;d++){var f=n[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}return function(i,n,d){return n&&e(i.prototype,n),d&&e(i,d),i}}(),a=u(5),c=u(15),s=u(14);l.Renderer=function(){function e(i){(function(n,d){if(!(n instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),this._owner=void 0,this._prepared=!1,this._undrawFrame=void 0,this._bitmapCache=void 0,this._soundsQueue=[],this._owner=i}return r(e,[{key:"dataURLtoBlob",value:function(i){for(var n=i.split(","),d=n[0].match(/:(.*?);/)[1],f=atob(n[1]),p=f.length,h=new Uint8Array(p);p--;)h[p]=f.charCodeAt(p);return new Blob([h],{type:d})}},{key:"prepare",value:function(){var i,n,d=this;if(this._prepared=!1,this._bitmapCache=void 0,this._owner._videoItem.images===void 0||Object.keys(this._owner._videoItem.images).length==0)return this._bitmapCache={},void(this._prepared=!0);this._bitmapCache===void 0&&function(){d._bitmapCache={};var f=0,p=0;for(i in d._owner._videoItem.images){var h=d._owner._videoItem.images[i];if(h.indexOf("iVBO")===0||h.indexOf("/9j/2w")===0){f++;var m=document.createElement("img");m.onload=function(){++p==f&&(this._prepared=!0,typeof this._undrawFrame=="number"&&(this.drawFrame(this._undrawFrame),this._undrawFrame=void 0))}.bind(d),m.src="data:image/png;base64,"+h;var v=i.replace(".matte","");d._bitmapCache[v]=m}else h.indexOf("SUQz")===0&&window.Howl!==void 0&&(f++,(n=new Howl({src:[navigator.vendor==="Google Inc."?URL.createObjectURL(d.dataURLtoBlob("data:audio/x-mpeg;base64,"+h)):"data:audio/x-mpeg;base64,"+h],html5:navigator.vendor==="Google Inc."||void 0,preload:navigator.vendor==="Google Inc."||void 0,format:navigator.vendor==="Google Inc."?["mp3"]:void 0})).once("load",function(){++p==f&&(this._prepared=!0,typeof this._undrawFrame=="number"&&(this.drawFrame(this._undrawFrame),this._undrawFrame=void 0))}.bind(d)),n.on("loaderror",function(w){console.error(w)}),d._bitmapCache[i]=n)}}()}},{key:"clear",value:function(){var i=(this._owner._drawingCanvas||this._owner._container).getContext("2d"),n={x:0,y:0,width:(this._owner._drawingCanvas||this._owner._container).width,height:(this._owner._drawingCanvas||this._owner._container).height};i.clearRect(n.x,n.y,n.width,n.height)}},{key:"clearAudios",value:function(){this._soundsQueue.forEach(function(i){i.player.stop(i.playID)}),this._soundsQueue=[]}},{key:"drawFrame",value:function(i){var n=this;if(this._prepared){var d=(this._owner._drawingCanvas||this._owner._container).getContext("2d"),f={x:0,y:0,width:(this._owner._drawingCanvas||this._owner._container).width,height:(this._owner._drawingCanvas||this._owner._container).height};d.clearRect(f.x,f.y,f.width,f.height);var p=new Map,h=!1,m=this._owner._videoItem.sprites;m.forEach(function(v,w){if(m[0].imageKey.indexOf(".matte")!=-1)if(v.imageKey.indexOf(".matte")==-1){var g=m[w-1];if(h&&(v.matteKey==null||v.matteKey.length==0||v.matteKey!=g.matteKey)){h=!1;var b=p.get(v.matteKey);d.globalCompositeOperation="destination-in",n.drawSprite(b,d,i),d.globalCompositeOperation="source-over",d.restore()}v.matteKey==null||g.matteKey!=null&&g.matteKey.length!=0&&g.matteKey==v.matteKey||(h=!0,d.save()),n.drawSprite(v,d,i),h&&w==m.length-1&&(b=p.get(v.matteKey),d.globalCompositeOperation="destination-in",n.drawSprite(b,d,i),d.globalCompositeOperation="source-over",d.restore())}else p.set(v.imageKey,v);else n.drawSprite(v,d,i)})}else this._undrawFrame=i}},{key:"drawSprite",value:function(i,n,d){var f=this,p=i.frames[this._owner._currentFrame];if(!(p.alpha<.05)){n.save(),this._owner._globalTransform&&n.transform(this._owner._globalTransform.a,this._owner._globalTransform.b,this._owner._globalTransform.c,this._owner._globalTransform.d,this._owner._globalTransform.tx,this._owner._globalTransform.ty),n.globalAlpha=p.alpha,n.transform(p.transform.a,p.transform.b,p.transform.c,p.transform.d,p.transform.tx,p.transform.ty);var h=i.imageKey.replace(".matte",""),m=this._owner._dynamicImage[h]||this._bitmapCache[h]||this._owner._videoItem.images[h];if(typeof m=="string"){var v=this._bitmapCache[i.imageKey]||document.createElement("img"),w=void 0,g=void 0;if(m.indexOf("iVBO")===0||m.indexOf("/9j/2w")===0?v.src="data:image/png;base64,"+m:(v._svgaSrc!==m&&(v._svgaSrc=m,v.src=m),w=p.layout.width,g=p.layout.height),this._bitmapCache[i.imageKey]=v,p.maskPath!==void 0&&p.maskPath!==null&&(this.drawBezier(n,p.maskPath),n.clip()),this._owner._dynamicImageTransform[i.imageKey]!==void 0){n.save();var b=this._owner._dynamicImageTransform[i.imageKey];n.transform(b[0],b[1],b[2],b[3],b[4],b[5])}w&&g?n.drawImage(v,0,0,w,g):n.drawImage(v,0,0),this._owner._dynamicImageTransform[i.imageKey]!==void 0&&n.restore()}else if((m===void 0?"undefined":o(m))==="object"){if(p.maskPath!==void 0&&p.maskPath!==null&&(p.maskPath._styles=void 0,this.drawBezier(n,p.maskPath),n.clip()),this._owner._dynamicImageTransform[i.imageKey]!==void 0){n.save();var y=this._owner._dynamicImageTransform[i.imageKey];n.transform(y[0],y[1],y[2],y[3],y[4],y[5])}n.drawImage(m,0,0),this._owner._dynamicImageTransform[i.imageKey]!==void 0&&n.restore()}p.shapes&&p.shapes.forEach(function(O){O.type==="shape"&&O.pathArgs&&O.pathArgs.d&&f.drawBezier(n,new a.BezierPath(O.pathArgs.d,O.transform,O.styles)),O.type==="ellipse"&&O.pathArgs&&f.drawEllipse(n,new c.EllipsePath(parseFloat(O.pathArgs.x)||0,parseFloat(O.pathArgs.y)||0,parseFloat(O.pathArgs.radiusX)||0,parseFloat(O.pathArgs.radiusY)||0,O.transform,O.styles)),O.type==="rect"&&O.pathArgs&&f.drawRect(n,new s.RectPath(parseFloat(O.pathArgs.x)||0,parseFloat(O.pathArgs.y)||0,parseFloat(O.pathArgs.width)||0,parseFloat(O.pathArgs.height)||0,parseFloat(O.pathArgs.cornerRadius)||0,O.transform,O.styles))});var E=this._owner._dynamicText[i.imageKey];if(E!==void 0){n.textBaseline="middle",n.font=E.style;var N=n.measureText(E.text).width;n.fillStyle=E.color;var T=E.offset!==void 0&&E.offset.x!==void 0?isNaN(parseFloat(E.offset.x))?0:parseFloat(E.offset.x):0,C=E.offset!==void 0&&E.offset.y!==void 0?isNaN(parseFloat(E.offset.y))?0:parseFloat(E.offset.y):0;n.fillText(E.text,(p.layout.width-N)/2+T,p.layout.height/2+C)}n.restore()}}},{key:"playAudio",value:function(i){var n=this;if(this._owner._forwardAnimating&&this._owner._videoItem.audios instanceof Array){this._owner._videoItem.audios.forEach(function(f){if(f.startFrame===i&&n._bitmapCache[f.audioKey]!==void 0&&typeof n._bitmapCache[f.audioKey].play=="function"){var p={playID:n._bitmapCache[f.audioKey].play(),player:n._bitmapCache[f.audioKey],endFrame:f.endFrame};p.player.seek(f.startTime/1e3,p.playID),n._soundsQueue.push(p)}});var d=!1;this._soundsQueue.forEach(function(f){i>=f.endFrame&&(d=!0,f.player.stop(f.playID))}),d&&(this._soundsQueue=this._soundsQueue.filter(function(f){return i<f.endFrame}))}}},{key:"resetShapeStyles",value:function(i,n){var d=n._styles;d!==void 0&&(d&&d.stroke?i.strokeStyle="rgba("+parseInt(255*d.stroke[0])+", "+parseInt(255*d.stroke[1])+", "+parseInt(255*d.stroke[2])+", "+d.stroke[3]+")":i.strokeStyle="transparent",d&&(i.lineWidth=d.strokeWidth||void 0,i.lineCap=d.lineCap||void 0,i.lineJoin=d.lineJoin||void 0,i.miterLimit=d.miterLimit||void 0),d&&d.fill?i.fillStyle="rgba("+parseInt(255*d.fill[0])+", "+parseInt(255*d.fill[1])+", "+parseInt(255*d.fill[2])+", "+d.fill[3]+")":i.fillStyle="transparent",d&&d.lineDash&&i.setLineDash(d.lineDash))}},{key:"drawBezier",value:function(i,n){var d=this;i.save(),this.resetShapeStyles(i,n),n._transform!==void 0&&n._transform!==null&&i.transform(n._transform.a,n._transform.b,n._transform.c,n._transform.d,n._transform.tx,n._transform.ty);var f={x:0,y:0,x1:0,y1:0,x2:0,y2:0};i.beginPath(),n._d.replace(/([a-zA-Z])/g,"|||$1 ").replace(/,/g," ").split("|||").forEach(function(p){if(p.length!=0){var h=p.substr(0,1);if("MLHVCSQRZmlhvcsqrz".indexOf(h)>=0){var m=p.substr(1).trim().split(" ");d.drawBezierElement(i,f,h,m)}}}),n._styles&&n._styles.fill&&i.fill(),n._styles&&n._styles.stroke&&i.stroke(),i.restore()}},{key:"drawBezierElement",value:function(i,n,d,f){switch(d){case"M":n.x=Number(f[0]),n.y=Number(f[1]),i.moveTo(n.x,n.y);break;case"m":n.x+=Number(f[0]),n.y+=Number(f[1]),i.moveTo(n.x,n.y);break;case"L":n.x=Number(f[0]),n.y=Number(f[1]),i.lineTo(n.x,n.y);break;case"l":n.x+=Number(f[0]),n.y+=Number(f[1]),i.lineTo(n.x,n.y);break;case"H":n.x=Number(f[0]),i.lineTo(n.x,n.y);break;case"h":n.x+=Number(f[0]),i.lineTo(n.x,n.y);break;case"V":n.y=Number(f[0]),i.lineTo(n.x,n.y);break;case"v":n.y+=Number(f[0]),i.lineTo(n.x,n.y);break;case"C":n.x1=Number(f[0]),n.y1=Number(f[1]),n.x2=Number(f[2]),n.y2=Number(f[3]),n.x=Number(f[4]),n.y=Number(f[5]),i.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y);break;case"c":n.x1=n.x+Number(f[0]),n.y1=n.y+Number(f[1]),n.x2=n.x+Number(f[2]),n.y2=n.y+Number(f[3]),n.x+=Number(f[4]),n.y+=Number(f[5]),i.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y);break;case"S":n.x1&&n.y1&&n.x2&&n.y2?(n.x1=n.x-n.x2+n.x,n.y1=n.y-n.y2+n.y,n.x2=Number(f[0]),n.y2=Number(f[1]),n.x=Number(f[2]),n.y=Number(f[3]),i.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y)):(n.x1=Number(f[0]),n.y1=Number(f[1]),n.x=Number(f[2]),n.y=Number(f[3]),i.quadraticCurveTo(n.x1,n.y1,n.x,n.y));break;case"s":n.x1&&n.y1&&n.x2&&n.y2?(n.x1=n.x-n.x2+n.x,n.y1=n.y-n.y2+n.y,n.x2=n.x+Number(f[0]),n.y2=n.y+Number(f[1]),n.x+=Number(f[2]),n.y+=Number(f[3]),i.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y)):(n.x1=n.x+Number(f[0]),n.y1=n.y+Number(f[1]),n.x+=Number(f[2]),n.y+=Number(f[3]),i.quadraticCurveTo(n.x1,n.y1,n.x,n.y));break;case"Q":n.x1=Number(f[0]),n.y1=Number(f[1]),n.x=Number(f[2]),n.y=Number(f[3]),i.quadraticCurveTo(n.x1,n.y1,n.x,n.y);break;case"q":n.x1=n.x+Number(f[0]),n.y1=n.y+Number(f[1]),n.x+=Number(f[2]),n.y+=Number(f[3]),i.quadraticCurveTo(n.x1,n.y1,n.x,n.y);break;case"A":case"a":break;case"Z":case"z":i.closePath()}}},{key:"drawEllipse",value:function(i,n){i.save(),this.resetShapeStyles(i,n),n._transform!==void 0&&n._transform!==null&&i.transform(n._transform.a,n._transform.b,n._transform.c,n._transform.d,n._transform.tx,n._transform.ty);var d=n._x-n._radiusX,f=n._y-n._radiusY,p=2*n._radiusX,h=2*n._radiusY,m=p/2*.5522848,v=h/2*.5522848,w=d+p,g=f+h,b=d+p/2,y=f+h/2;i.beginPath(),i.moveTo(d,y),i.bezierCurveTo(d,y-v,b-m,f,b,f),i.bezierCurveTo(b+m,f,w,y-v,w,y),i.bezierCurveTo(w,y+v,b+m,g,b,g),i.bezierCurveTo(b-m,g,d,y+v,d,y),n._styles&&n._styles.fill&&i.fill(),n._styles&&n._styles.stroke&&i.stroke(),i.restore()}},{key:"drawRect",value:function(i,n){i.save(),this.resetShapeStyles(i,n),n._transform!==void 0&&n._transform!==null&&i.transform(n._transform.a,n._transform.b,n._transform.c,n._transform.d,n._transform.tx,n._transform.ty);var d=n._x,f=n._y,p=n._width,h=n._height,m=n._cornerRadius;p<2*m&&(m=p/2),h<2*m&&(m=h/2),i.beginPath(),i.moveTo(d+m,f),i.arcTo(d+p,f,d+p,f+h,m),i.arcTo(d+p,f+h,d,f+h,m),i.arcTo(d,f+h,d,f,m),i.arcTo(d,f,d+p,f,m),i.closePath(),n._styles&&n._styles.fill&&i.fill(),n._styles&&n._styles.stroke&&i.stroke(),i.restore()}}]),e}()},function(t,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.AutoLoader=void 0;var o=u(13),r=u(63),a=l.AutoLoader=function c(){(function(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")})(this,c)};a.sharedParser=new o.Parser,a.autoload=function(c,s){if(typeof window!="undefined"&&typeof document!="undefined"){var e=s||a.sharedParser;if(c){if((c.tagName==="CANVAS"||c.tagName==="DIV")&&c.attributes.src&&c.attributes.src.value.indexOf(".svga")===c.attributes.src.value.length-5){var i=c.attributes.src.value,n=new r.Player(c);e.load(i,function(p){if(c.attributes.loops){var h=parseFloat(c.attributes.loops.value)||0;n.loops=h}if(c.attributes.clearsAfterStop){var m=c.attributes.clearsAfterStop.value!=="false";n.clearsAfterStop=m}n.setVideoItem(p),n.startAnimation()}),c.player=n}}else for(var d=document.querySelectorAll('[src$=".svga"]'),f=0;f<d.length;f++)c=d[f],a.autoload(c)}}}])})})(svga_min);var SVGAPlayer=getDefaultExportFromCjs(svga_min.exports),SVGA_vue_vue_type_style_index_0_lang="";const _sfc_main$4=defineComponent({__name:"SVGA",props:{file:String,loop:{type:Boolean,default:!1}},emits:["finish","start"],setup(t,{emit:l}){const u=t,o=ref(null);return onMounted(()=>{nextTick(()=>{const r=new SVGAPlayer.Player(o.value);u.loop||(r.loops=1),r.onFinished(()=>{l("finish")}),new SVGAPlayer.Parser().load(u.file,c=>{l("start"),r.setVideoItem(c),r.startAnimation()})})}),(r,a)=>(openBlock(),createElementBlock("div",{ref_key:"demoCanvas",ref:o,class:"app_svga"},null,512))}}),_hoisted_1$m={width:"28",height:"28",viewBox:"0 0 36 36"},_hoisted_2$m=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.772 30.857v-19.11H7.546a3.683 3.683 0 0 0-3.689 3.678v11.754a3.683 3.683 0 0 0 3.689 3.678h2.226Zm2.218 0V11.705c3-1.078 4.704-3.82 5.115-8.37.162-1.78 1.858-2.52 3.475-1.74 1.605.775 2.663 2.73 2.663 5.344 0 1.564-.195 3.166-.585 4.808h7.074a3.696 3.696 0 0 1 3.59 4.581l-2.334 9.468a6.654 6.654 0 0 1-6.46 5.061H11.991Z"},null,-1),_hoisted_3$l=[_hoisted_2$m];function render$j(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$m,_hoisted_3$l)}var BarLike={render:render$j};const _hoisted_1$l={width:"28",height:"28",viewBox:"0 0 28 28"},_hoisted_2$l=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.045 25.545c-6.351 0-11.5-5.148-11.5-11.5 0-6.35 5.149-11.5 11.5-11.5s11.5 5.15 11.5 11.5a11.5 11.5 0 0 1-11.5 11.5ZM9.662 6.816h8.614c.549 0 .994.406.994.906s-.445.906-.994.906H14.95v1.662a5.725 5.725 0 0 1 5.436 5.702v1.207a.906.906 0 0 1-1.812 0v-1.207a3.913 3.913 0 0 0-3.624-3.89v8.455a.906.906 0 0 1-1.812 0v-8.455a3.914 3.914 0 0 0-3.624 3.89v1.207a.906.906 0 0 1-1.811 0v-1.207a5.725 5.725 0 0 1 5.435-5.702V8.628H9.662c-.549 0-.994-.406-.994-.906s.445-.906.994-.906Z"},null,-1),_hoisted_3$k=[_hoisted_2$l];function render$i(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$l,_hoisted_3$k)}var BarCoin={render:render$i};const _hoisted_1$k={width:"28",height:"28",viewBox:"0 0 28 28"},_hoisted_2$k=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.807 9.262c-1.063-.163-2.045-.894-2.454-1.868l-1.88-3.897c-.573-1.299-2.373-1.299-3.027 0l-1.8 3.897c-.49.974-1.39 1.705-2.453 1.868L3.94 9.91c-1.308.162-1.881 1.786-.9 2.76l3.19 3.248c.736.73 1.063 1.786.9 2.841l-.736 4.547c-.246 1.38 1.227 2.354 2.453 1.705l3.6-1.949a3.197 3.197 0 0 1 3.189 0l3.599 1.949c1.226.65 2.617-.325 2.453-1.705l-.818-4.546c-.165-1.056.164-2.111.9-2.842l3.19-3.248c.981-.974.409-2.598-.9-2.76l-4.253-.65Z"},null,-1),_hoisted_3$j=[_hoisted_2$k];function render$h(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$k,_hoisted_3$j)}var BarFav={render:render$h};const _hoisted_1$j={class:"icon",width:"28",height:"28",viewBox:"0 0 28 28"},_hoisted_2$j=createBaseVNode("path",{d:"M12.606 10.333v-4.89c0-.797.666-1.443 1.487-1.443.35 0 .687.119.955.336l10.337 8.386a1.632 1.632 0 0 1 0 2.556l-10.337 8.386c-.63.511-1.569.43-2.096-.182a1.418 1.418 0 0 1-.346-.926v-4.503c-5.011 0-7.235 1.859-10.034 5.472-.096.124-.572.252-.572-.313 0-6.995 1.901-12.88 10.606-12.88Z"},null,-1),_hoisted_3$i=[_hoisted_2$j];function render$g(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$j,_hoisted_3$i)}var BarShare={render:render$g};const _hoisted_1$i={viewBox:"0 0 22 22",fill:"currentColor"},_hoisted_2$i=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.982 9.275c1.296.785 1.296 2.665 0 3.45l-9.946 6.02C6.703 19.552 5 18.592 5 17.034V4.966c0-1.558 1.703-2.518 3.036-1.711l9.946 6.02Z"},null,-1),_hoisted_3$h=[_hoisted_2$i];function render$f(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$i,_hoisted_3$h)}var VdPlays={render:render$f};const _hoisted_1$h={viewBox:"0 0 1024 1024"},_hoisted_2$h=createBaseVNode("path",{d:"M213.333 192A85.333 85.333 0 1 1 384 192v640a85.333 85.333 0 1 1-170.667 0V192zM640 192a85.333 85.333 0 1 1 170.667 0v640A85.333 85.333 0 1 1 640 832V192z",fill:"currentColor"},null,-1),_hoisted_3$g=[_hoisted_2$h];function render$e(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$h,_hoisted_3$g)}var VdPauseS={render:render$e},BiliDialog_vue_vue_type_style_index_0_lang="";const _sfc_main$3=defineComponent({__name:"BiliDialog",props:{show:{type:Boolean,default:!1},zIndex:{type:Number,default:1e3}},emits:["close"],setup(t,{emit:l}){const u=t;return(o,r)=>u.show?(openBlock(),createElementBlock("div",{key:0,class:"bili-dialog-m",style:normalizeStyle({zIndex:u.zIndex}),onClick:r[1]||(r[1]=a=>l("close")),onWheel:r[2]||(r[2]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",{class:"bili-dialog-bomb",onClick:r[0]||(r[0]=withModifiers(()=>{},["stop"]))},[renderSlot(o.$slots,"default")])],36)):createCommentVNode("",!0)}}),_hoisted_1$g={viewBox:"0 0 24 24",fill:"currentColor"},_hoisted_2$g=createBaseVNode("rect",{width:"24",height:"24",rx:"12"},null,-1),_hoisted_3$f=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 8c.194 0 .352.158.352.353v3.294h3.295a.353.353 0 0 1 0 .706h-3.295v3.294a.353.353 0 0 1-.706 0v-3.294H8.353a.353.353 0 1 1 0-.706h3.293V8.353c0-.195.158-.353.353-.353Z",fill:"#fff"},null,-1),_hoisted_4$9=createBaseVNode("path",{d:"M12.352 11.647h-.5v.5h.5v-.5Zm0 .706v-.5h-.5v.5h.5Zm-.706 0h.5v-.5h-.5v.5Zm0-.706v.5h.5v-.5h-.5Zm1.206-3.294a.853.853 0 0 0-.853-.853v1a.147.147 0 0 1-.147-.147h1Zm0 3.294V8.353h-1v3.294h1Zm2.795-.5h-3.295v1h3.295v-1ZM16.5 12a.853.853 0 0 0-.853-.853v1A.147.147 0 0 1 15.5 12h1Zm-.853.853A.853.853 0 0 0 16.5 12h-1c0-.081.066-.147.147-.147v1Zm-3.295 0h3.295v-1h-3.295v1Zm.5 2.794v-3.294h-1v3.294h1Zm-.853.853a.853.853 0 0 0 .853-.853h-1c0-.081.066-.147.147-.147v1Zm-.853-.853c0 .471.382.853.853.853v-1c.081 0 .147.066.147.147h-1Zm0-3.294v3.294h1v-3.294h-1Zm-2.793.5h3.293v-1H8.353v1ZM7.5 12c0 .471.382.853.853.853v-1c.081 0 .147.066.147.147h-1Zm.853-.853A.853.853 0 0 0 7.5 12h1a.147.147 0 0 1-.147.147v-1Zm3.293 0H8.353v1h3.293v-1Zm-.5-2.794v3.294h1V8.353h-1ZM12 7.5a.853.853 0 0 0-.853.853h1A.147.147 0 0 1 12 8.5v-1Z",fill:"#fff"},null,-1),_hoisted_5$6=[_hoisted_2$g,_hoisted_3$f,_hoisted_4$9];function render$d(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$g,_hoisted_5$6)}var IcoAdd={render:render$d};const _hoisted_1$f={viewBox:"0 0 16 16",fill:"none",stroke:"currentColor"},_hoisted_2$f=createBaseVNode("path",{class:"st0",d:"M2.5.5h11c1.1 0 2 .9 2 2v11c0 1.1-.9 2-2 2h-11c-1.1 0-2-.9-2-2v-11c0-1.1.9-2 2-2z"},null,-1),_hoisted_3$e=[_hoisted_2$f];function render$c(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$f,_hoisted_3$e)}var CheckboxDefault={render:render$c};const _hoisted_1$e={viewBox:"0 0 16 16",fill:"currentColor"},_hoisted_2$e=createBaseVNode("rect",{width:"16",height:"16",rx:"2"},null,-1),_hoisted_3$d=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.225 4.671a.469.469 0 0 0-.662.035L6.31 10.54 4.445 8.468a.469.469 0 1 0-.697.627l2.208 2.452c.13.144.329.19.501.13a.466.466 0 0 0 .213-.135l5.59-6.209a.469.469 0 0 0-.035-.662Z",fill:"#fff"},null,-1),_hoisted_4$8=createBaseVNode("path",{d:"m11.563 4.706-.371-.335.371.335Zm.662-.035.335-.371-.335.371ZM6.31 10.54l-.371.334.371.413.372-.413-.372-.334ZM4.445 8.468l-.372.334.372-.334Zm-.662-.035-.335-.372.335.372Zm-.035.662-.372.334.372-.334Zm2.208 2.452-.372.335.372-.335Zm.501.13-.144-.479-.01.003-.009.003.163.473Zm.213-.135-.372-.335.372.335Zm5.59-6.209L11.889 5l.371.334Zm-.325-.293a.031.031 0 0 1-.044.003l.669-.743a.969.969 0 0 0-1.368.071l.743.67Zm-5.253 5.834 5.253-5.834-.743-.669-5.253 5.834.743.67Zm0-.669L4.816 8.133l-.743.67 1.866 2.071.743-.669ZM4.816 8.133a.969.969 0 0 0-1.368-.072l.67.743a.031.031 0 0 1-.045-.002l.743-.669Zm-1.368-.072a.969.969 0 0 0-.072 1.368l.743-.669a.031.031 0 0 1-.002.044l-.669-.743ZM3.376 9.43l2.208 2.453.744-.67L4.119 8.76l-.743.67Zm2.208 2.453c.27.298.68.39 1.036.268l-.326-.946a.03.03 0 0 1 .018 0 .034.034 0 0 1 .016.009l-.744.669Zm.714-.675a.032.032 0 0 1 .006-.005.04.04 0 0 1 .009-.004l.288.958a.966.966 0 0 0 .44-.28l-.743-.669ZM11.888 5l-5.59 6.208.743.67 5.59-6.21L11.89 5Zm.003.044a.031.031 0 0 1-.002-.044l.743.669A.969.969 0 0 0 12.56 4.3l-.67.743Z",fill:"#fff"},null,-1),_hoisted_5$5=[_hoisted_2$e,_hoisted_3$d,_hoisted_4$8];function render$b(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$e,_hoisted_5$5)}var CheckboxSelected={render:render$b},FollowedDialog_vue_vue_type_style_index_0_lang="";const _hoisted_1$d={class:"app-follow--title"},_hoisted_2$d=createTextVNode("\u8BBE\u7F6E\u5206\u7EC4"),_hoisted_3$c={class:"app-follow--info"},_hoisted_4$7=createTextVNode("\u8BF7\u4E3A "),_hoisted_5$4=["textContent"],_hoisted_6$1=createTextVNode(" \u9009\u62E9\u5206\u7EC4"),_hoisted_7$1=["onClick"],_hoisted_8$1={class:"app-follow--list-item-name"},_hoisted_9$1=["textContent"],_hoisted_10=["textContent"],_hoisted_11=["onClick"],_hoisted_12=["value"],_hoisted_13={type:"submit",class:"submit"},_hoisted_14={class:"bottom"},_hoisted_15=["disabled","textContent"],_sfc_main$2=defineComponent({__name:"FollowedDialog",props:{upid:{type:Number,default:0},upName:{type:String,default:""}},emits:["close","save"],setup(t,{emit:l}){const u=t,o=ref([]),r=ref({}),a=ref(""),c=ref(null),s=ref(null),e=ref(!1),i=ref(""),n=computed(()=>{for(let w of o.value)if(w.checked&&w.tagid!==0)return"\u4FDD\u5B58";return"\u4FDD\u5B58\u81F3\u9ED8\u8BA4\u5206\u7EC4"});watch$1(e,()=>{e.value&&nextTick(()=>{c.value.focus()})});const d=async()=>{const[w,g]=await Promise.all([Upinfo.getUserTags(u.upid||0),Upinfo.getRelationTags()]);if(w.code===0?r.value=w.data:w&&w.message&&(a.value=w.message),g.code===0){let b=g.data;for(let y of b)r.value[y.tagid]?y.checked=!0:y.checked=!1;o.value=b}else g&&g.message&&(a.value=g.message)};onMounted(()=>{d()});const f=w=>{(!s.value||!s.value.contains(w.target))&&p()},p=()=>{i.value="",e.value=!1},h=()=>{a.value="",e.value=!0},m=()=>{if(!i.value){toastAsync({content:"\u8BF7\u586B\u5199\u5206\u7EC4\u540D\u79F0"});return}Upinfo.addGroup(i.value).then(w=>{w.code===0?o.value.push({name:i.value,tagid:w.data.tagid,checked:!1}):a.value=w.message,i.value="",e.value=!1}).catch(w=>{toastAsync({content:w.message||"\u7F51\u7EDC\u9519\u8BEF"})})},v=w=>{let g=[];for(let b of o.value)b.checked&&g.push(b.tagid);g.length===0&&g.push(0),Upinfo.addUsers({fids:u.upid||0,tagids:g.join(",")}).then(b=>{let y=b==null?void 0:b.message,E=w.target;(b==null?void 0:b.code)===0&&(y="\u52A0\u5165\u5206\u7EC4\u6210\u529F",E=null,l("save",g)),biliMsg({el:E,msg:y,cd:1e3})}).catch(()=>{biliMsg({el:w.target,msg:"\u52A0\u5165\u5206\u7EC4\u5931\u8D25",cd:1e3,type:"error"})})};return(w,g)=>(openBlock(),createElementBlock("div",{class:"app-follow",onClick:g[5]||(g[5]=b=>f(b))},[createBaseVNode("div",_hoisted_1$d,[_hoisted_2$d,createVNode(unref(IcoClose$1),{class:"app-follow--close",onClick:g[0]||(g[0]=b=>l("close"))})]),createBaseVNode("div",{class:normalizeClass(["app-follow--list",{adding:e.value}])},[createBaseVNode("div",_hoisted_3$c,[_hoisted_4$7,createBaseVNode("span",{class:"uname",textContent:toDisplayString(u.upName)},null,8,_hoisted_5$4),_hoisted_6$1]),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,(b,y)=>(openBlock(),createElementBlock(Fragment,null,[b.tagid!==0?(openBlock(),createElementBlock("div",{class:normalizeClass(["app-follow--list-item",b.tip?"special-group":""]),key:y,onClick:E=>b.checked=!b.checked},[createBaseVNode("div",_hoisted_8$1,[withDirectives(createVNode(unref(CheckboxDefault),null,null,512),[[vShow,!b.checked]]),withDirectives(createVNode(unref(CheckboxSelected),{class:"app-follow--selected"},null,512),[[vShow,b.checked]]),createBaseVNode("span",{class:"app-follow--list-item-title",textContent:toDisplayString(b.name)},null,8,_hoisted_9$1)]),b.tip?(openBlock(),createElementBlock("div",{key:0,class:"app-follow--list-item-right",textContent:toDisplayString(b.tip)},null,8,_hoisted_10)):createCommentVNode("",!0)],10,_hoisted_7$1)):createCommentVNode("",!0)],64))),256))],2),createBaseVNode("div",{class:"add-group",ref_key:"addGroup",ref:s},[withDirectives(createBaseVNode("div",{class:"add-btn",onClick:withModifiers(h,["stop"])},"\u65B0\u5EFA\u5206\u7EC4",8,_hoisted_11),[[vShow,!e.value]]),withDirectives(createBaseVNode("form",{class:"input-group",onSubmit:g[3]||(g[3]=b=>m())},[createBaseVNode("input",{ref_key:"groupInput",ref:c,type:"text",maxLength:"16",placeholder:"\u6700\u591A\u8F93\u516516\u4E2A\u5B57",value:i.value,onInput:g[1]||(g[1]=b=>i.value=b.target.value),onKeydown:g[2]||(g[2]=withKeys(b=>p(),["esc"]))},null,40,_hoisted_12),createBaseVNode("button",_hoisted_13,[createVNode(unref(IcoAdd),{class:"submit-icon"})])],544),[[vShow,e.value]])],512),createBaseVNode("div",_hoisted_14,[createBaseVNode("button",{class:"btn submit-move",disabled:e.value,textContent:toDisplayString(unref(n)),onClick:g[4]||(g[4]=b=>v(b))},null,8,_hoisted_15)])]))}}),_hoisted_1$c={width:"40",height:"40",viewBox:"0 0 40 40",fill:"none"},_hoisted_2$c=createBaseVNode("circle",{cx:"20",cy:"20",r:"20",fill:"#57BB40"},null,-1),_hoisted_3$b=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.717 13.712c-.707 0-1.273.55-1.273 1.237 0 .688.566 1.237 1.273 1.237s1.273-.55 1.273-1.237-.566-1.237-1.273-1.237Zm-6.081 0c-.707 0-1.273.55-1.273 1.237 0 .688.566 1.237 1.273 1.237s1.273-.55 1.273-1.237-.566-1.237-1.274-1.237Zm3.536 9.21c0 .688.142 1.375.424 1.925h-.848c-.99 0-2.121-.137-3.111-.412l-3.535 1.65.848-2.75c-2.263-1.375-3.677-3.437-3.677-5.911C7.273 13.3 11.516 10 16.607 10c4.666 0 8.485 2.75 9.192 6.186h-.707c-4.385 0-7.92 3.025-7.92 6.736Zm10.748-3.024c-.566 0-.99.413-.99.962 0 .55.424.963.99.963.565 0 .99-.412.99-.963 0-.55-.425-.962-.99-.962Zm-5.092 0c-.565 0-.989.413-.989.962 0 .55.424.963.99.963.565 0 .99-.412.99-.963 0-.55-.425-.962-.99-.962Zm6.93 8.111.707 2.2-2.546-1.375a8.46 8.46 0 0 1-2.686.412c-4.102 0-7.496-2.75-7.496-6.186s3.394-6.186 7.496-6.186c4.1 0 7.494 2.75 7.494 6.186 0 1.925-1.13 3.712-2.97 4.95Z",fill:"#fff"},null,-1),_hoisted_4$6=[_hoisted_2$c,_hoisted_3$b];function render$a(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$c,_hoisted_4$6)}var ShareWeixin={render:render$a};const _hoisted_1$b={width:"40",height:"40",viewBox:"0 0 40 40",fill:"none"},_hoisted_2$b=createBaseVNode("circle",{cx:"20",cy:"20",r:"20",fill:"#4CA2E5"},null,-1),_hoisted_3$a=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M29.037 24.266c-.131-1.563-.993-3.302-1.345-4.177l-.912-2.25c-.029-.936.261-3.087-1.258-5.78-1.525-2.692-4.578-2.935-5.143-2.963-.565-.028-4.097-.055-5.834 2.876-1.737 2.93-1.268 5.868-1.268 5.868l-.972 2.265s-.451 1.034-.842 2.292c-.391 1.257-.783 3.235-.391 3.636.39.402 1.808-1.839 1.939-2.046 0 0 .101 1.07.37 1.63.214.449.73 1.567 1.77 2.445-.5.154-1.7.567-1.877.996-.222.545.174.609.85.646.677.037 3.919.12 5.472-.087a.99.99 0 0 1 .048-.008 15 15 0 0 0 .432.008c.088 0 .19-.003.298-.005.01.002.022.002.032.005 1.553.207 4.797.124 5.471.087.677-.037 1.07-.101.85-.646-.179-.437-1.413-.854-1.898-1.002.151-.129.3-.268.444-.417 1.751-1.839 1.607-3 1.68-3.664 0 0 1.475 2.032 1.794 2.102.319.07.418-.25.29-1.811Z",fill:"#fff"},null,-1),_hoisted_4$5=[_hoisted_2$b,_hoisted_3$a];function render$9(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$b,_hoisted_4$5)}var ShareQQ={render:render$9};const _hoisted_1$a={width:"40",height:"40",viewBox:"0 0 40 40",fill:"none"},_hoisted_2$a=createBaseVNode("circle",{cx:"20",cy:"20",r:"20",fill:"#FB7299"},null,-1),_hoisted_3$9=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.546 14.546A4.545 4.545 0 0 1 19.09 10v9.09a4.545 4.545 0 0 1-4.546-4.544Zm10.909 10.909a4.545 4.545 0 0 0-4.546-4.546V30a4.545 4.545 0 0 0 4.546-4.546Zm-4.546-6.364a4.545 4.545 0 0 1 9.091 0h-9.09Zm-6.363 6.363A4.545 4.545 0 0 1 10 20.91h9.09a4.545 4.545 0 0 1-4.544 4.546Z",fill:"#fff"},null,-1),_hoisted_4$4=createBaseVNode("path",{d:"M19.09 10h.456a.455.455 0 0 0-.455-.455V10Zm0 9.09v.456a.455.455 0 0 0 .456-.455h-.455Zm1.82 1.82v-.456a.455.455 0 0 0-.456.455h.455Zm0 9.09h-.456c0 .251.204.454.455.454V30Zm0-10.91h-.456c0 .252.204.456.455.456v-.455Zm9.09 0v.456a.455.455 0 0 0 .454-.455H30Zm-20 1.82v-.456a.455.455 0 0 0-.455.455H10Zm9.09 0h.456a.455.455 0 0 0-.455-.456v.455Zm0-11.365a5 5 0 0 0-5 5H15a4.091 4.091 0 0 1 4.09-4.09v-.91Zm.456 9.546V10h-.91v9.09h.91Zm-5.455-4.546a5 5 0 0 0 5 5v-.909A4.091 4.091 0 0 1 15 14.546h-.91Zm6.818 6.819c2.26 0 4.091 1.831 4.091 4.09h.91a5 5 0 0 0-5-5v.91ZM21.364 30v-9.09h-.91V30h.91ZM25 25.454a4.091 4.091 0 0 1-4.09 4.091v.91a5 5 0 0 0 5-5H25Zm.454-11.363a5 5 0 0 0-5 5h.91c0-2.26 1.831-4.091 4.09-4.091v-.91Zm5 5a5 5 0 0 0-5-5V15a4.091 4.091 0 0 1 4.091 4.09h.91Zm-9.545.454H30v-.909h-9.09v.91ZM9.545 20.91a5 5 0 0 0 5 5V25a4.091 4.091 0 0 1-4.09-4.09h-.91Zm9.546-.454H10v.909h9.09v-.91Zm-4.546 5.454a5 5 0 0 0 5-5h-.909c0 2.26-1.831 4.091-4.09 4.091v.91Z",fill:"#fff"},null,-1),_hoisted_5$3=[_hoisted_2$a,_hoisted_3$9,_hoisted_4$4];function render$8(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$a,_hoisted_5$3)}var ShareDynmic={render:render$8};const _hoisted_1$9={width:"45",height:"44",viewBox:"0 0 45 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$9=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.5 0C10.35 0 .5 9.85.5 22s9.85 22 22 22 22-9.85 22-22-9.85-22-22-22Z",fill:"#5A62C7"},null,-1),_hoisted_3$8=createBaseVNode("path",{d:"M25.623 19.425a5.242 5.242 0 0 0-.535-.462 1.063 1.063 0 0 0-1.551 1.448c.075.089.163.165.262.226.1.082.199.164.29.256l.088.087c1.102 1.1.773 2.995-.328 4.097l-4.7 4.698a2.829 2.829 0 0 1-3.994 0l-.088-.088a2.824 2.824 0 0 1 0-3.992l2.076-2.076a1.154 1.154 0 0 0-1.365-1.859l-.002-.003-.022.02a1.164 1.164 0 0 0-.22.206l-2.157 2.019c-2.029 2.03-2.029 5.35 0 7.376l.087.088c2.029 2.027 5.347 2.027 7.375 0l4.699-4.7c2.025-2.028 2.197-5.228.171-7.255l-.086-.086Z",fill:"#fff"},null,-1),_hoisted_4$3=createBaseVNode("path",{d:"m32.396 12.535-.088-.088c-2.028-2.028-5.346-2.028-7.375 0l-4.698 4.7c-2.028 2.028-2.14 4.957-.112 6.987l.086.085c.093.092.188.179.286.262.07.079.153.146.246.2l.002.002a1.003 1.003 0 0 0 1.403-1.306c-.133-.299-.381-.48-.553-.652l-.086-.085c-1.101-1.101-.683-2.701.418-3.803l4.701-4.698a2.824 2.824 0 0 1 3.992 0l.088.086a2.827 2.827 0 0 1 0 3.994l-2.07 2.071a1.143 1.143 0 0 0 .68 2.065c.22 0 .426-.062.6-.17l.005.007.032-.03a1.15 1.15 0 0 0 .26-.24l2.181-2.013c2.03-2.028 2.03-5.346.002-7.374Z",fill:"#fff"},null,-1),_hoisted_5$2=[_hoisted_2$9,_hoisted_3$8,_hoisted_4$3];function render$7(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$9,_hoisted_5$2)}var ShareVideo={render:render$7};const _hoisted_1$8={width:"40",height:"40",viewBox:"0 0 40 40",fill:"none"},_hoisted_2$8=createBaseVNode("circle",{cx:"20",cy:"20",r:"20",fill:"#F4BF41"},null,-1),_hoisted_3$7=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m25.76 17.822-7.047 5.056s2.829.42 7.094.371l-.194-.836 6.079-5.266a.368.368 0 0 0-.211-.644l-8.013-.689-3.13-7.408a.368.368 0 0 0-.677 0l-3.13 7.408-8.013.689a.367.367 0 0 0-.21.644l6.079 5.266-1.822 7.834a.367.367 0 0 0 .548.397L20 26.491l6.887 4.153a.354.354 0 0 0 .19.053.368.368 0 0 0 .358-.45l-1.44-6.195c.617-.31 1.298-.837 1.298-.837s-2.697 1.317-12.38.674l7.017-5.086s-.276-.43-9.07-.736c-.588-.02 7.17-1.47 12.9-.245Z",fill:"#fff"},null,-1),_hoisted_4$2=[_hoisted_2$8,_hoisted_3$7];function render$6(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$8,_hoisted_4$2)}var ShareQzone={render:render$6};const _hoisted_1$7={width:"40",height:"40",viewBox:"0 0 40 40",fill:"none"},_hoisted_2$7=createBaseVNode("circle",{cx:"20",cy:"20",r:"20",fill:"#DB4437"},null,-1),_hoisted_3$6=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.618 16.703c-.394 0-.787-.394-.787-.787.13-.92-.394-1.838-1.444-2.1h-.394c-.394 0-.787-.394-.787-.788s.393-.787.787-.787a3.25 3.25 0 0 1 3.282 3.28v.263c0 .656-.263.919-.657.919Zm-9.974 6.43c-.263 0-.394.264-.394.526s.262.394.394.394c.13 0 .393-.263.393-.394.132-.262-.131-.525-.393-.525Zm-2.231.395c-.657 0-1.182.525-1.182 1.18 0 .657.525 1.182 1.181 1.182.657 0 1.182-.525 1.182-1.181s-.525-1.181-1.182-1.181Zm2.1 3.675c-2.1.524-4.2-.394-4.594-2.231-.394-1.838.919-3.544 3.018-4.069 2.1-.525 4.2.394 4.594 2.23.393 1.839-.919 3.545-3.019 4.07Zm-.526-8.269c-3.937.263-7.087 2.494-6.955 5.119.13 2.625 3.543 4.462 7.48 4.2 3.938-.263 7.087-2.494 6.956-5.12-.13-2.624-3.544-4.33-7.48-4.199Zm7.481-3.543c1.706.787.657 3.937.657 3.937a4.072 4.072 0 0 1 2.362 1.181c1.838 2.1.263 6.563-6.037 8.663-5.644 1.837-11.288 0-12.862-3.544-1.575-3.806 1.574-9.581 6.956-12.6.656-.394 2.756-1.05 3.937.263.656.787 0 3.018 0 3.018s2.494-2.1 4.987-.918Zm7.22 1.312c0 .525-.526 1.05-1.051 1.05-.525 0-1.05-.525-1.05-1.05v-.131c.393-2.625-1.444-4.987-4.069-5.381h-.787c-.525 0-1.05-.525-1.05-1.05s.525-1.05 1.05-1.05h.131c3.806 0 6.956 3.15 6.956 6.956v.525c-.13 0-.13.131-.13.131Z",fill:"#fff"},null,-1),_hoisted_4$1=[_hoisted_2$7,_hoisted_3$6];function render$5(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$7,_hoisted_4$1)}var ShareWeibo={render:render$5},browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},utils$1={};let toSJISFunction;const CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$1.getSymbolSize=function t(l){if(!l)throw new Error('"version" cannot be null or undefined');if(l<1||l>40)throw new Error('"version" should be in range from 1 to 40');return l*4+17};utils$1.getSymbolTotalCodewords=function t(l){return CODEWORDS_COUNT[l]};utils$1.getBCHDigit=function(t){let l=0;for(;t!==0;)l++,t>>>=1;return l};utils$1.setToSJISFunction=function t(l){if(typeof l!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=l};utils$1.isKanjiModeEnabled=function(){return typeof toSJISFunction!="undefined"};utils$1.toSJIS=function t(l){return toSJISFunction(l)};var errorCorrectionLevel={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function l(u){if(typeof u!="string")throw new Error("Param is not a string");switch(u.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+u)}}t.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},t.from=function(o,r){if(t.isValid(o))return o;try{return l(o)}catch{return r}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(t){const l=Math.floor(t/8);return(this.buffer[l]>>>7-t%8&1)===1},put:function(t,l){for(let u=0;u<l;u++)this.putBit((t>>>l-u-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),t&&(this.buffer[l]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1;function BitMatrix$1(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}BitMatrix$1.prototype.set=function(t,l,u,o){const r=t*this.size+l;this.data[r]=u,o&&(this.reservedBit[r]=!0)};BitMatrix$1.prototype.get=function(t,l){return this.data[t*this.size+l]};BitMatrix$1.prototype.xor=function(t,l,u){this.data[t*this.size+l]^=u};BitMatrix$1.prototype.isReserved=function(t,l){return this.reservedBit[t*this.size+l]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(t){const l=utils$1.getSymbolSize;t.getRowColCoords=function(o){if(o===1)return[];const r=Math.floor(o/7)+2,a=l(o),c=a===145?26:Math.ceil((a-13)/(2*r-2))*2,s=[a-7];for(let e=1;e<r-1;e++)s[e]=s[e-1]-c;return s.push(6),s.reverse()},t.getPositions=function(o){const r=[],a=t.getRowColCoords(o),c=a.length;for(let s=0;s<c;s++)for(let e=0;e<c;e++)s===0&&e===0||s===0&&e===c-1||s===c-1&&e===0||r.push([a[s],a[e]]);return r}})(alignmentPattern);var finderPattern={};const getSymbolSize=utils$1.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function t(l){const u=getSymbolSize(l);return[[0,0],[u-FINDER_PATTERN_SIZE,0],[0,u-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const l={N1:3,N2:3,N3:40,N4:10};t.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},t.from=function(r){return t.isValid(r)?parseInt(r,10):void 0},t.getPenaltyN1=function(r){const a=r.size;let c=0,s=0,e=0,i=null,n=null;for(let d=0;d<a;d++){s=e=0,i=n=null;for(let f=0;f<a;f++){let p=r.get(d,f);p===i?s++:(s>=5&&(c+=l.N1+(s-5)),i=p,s=1),p=r.get(f,d),p===n?e++:(e>=5&&(c+=l.N1+(e-5)),n=p,e=1)}s>=5&&(c+=l.N1+(s-5)),e>=5&&(c+=l.N1+(e-5))}return c},t.getPenaltyN2=function(r){const a=r.size;let c=0;for(let s=0;s<a-1;s++)for(let e=0;e<a-1;e++){const i=r.get(s,e)+r.get(s,e+1)+r.get(s+1,e)+r.get(s+1,e+1);(i===4||i===0)&&c++}return c*l.N2},t.getPenaltyN3=function(r){const a=r.size;let c=0,s=0,e=0;for(let i=0;i<a;i++){s=e=0;for(let n=0;n<a;n++)s=s<<1&2047|r.get(i,n),n>=10&&(s===1488||s===93)&&c++,e=e<<1&2047|r.get(n,i),n>=10&&(e===1488||e===93)&&c++}return c*l.N3},t.getPenaltyN4=function(r){let a=0;const c=r.data.length;for(let e=0;e<c;e++)a+=r.data[e];return Math.abs(Math.ceil(a*100/c/5)-10)*l.N4};function u(o,r,a){switch(o){case t.Patterns.PATTERN000:return(r+a)%2===0;case t.Patterns.PATTERN001:return r%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(r+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return r*a%2+r*a%3===0;case t.Patterns.PATTERN110:return(r*a%2+r*a%3)%2===0;case t.Patterns.PATTERN111:return(r*a%3+(r+a)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}t.applyMask=function(r,a){const c=a.size;for(let s=0;s<c;s++)for(let e=0;e<c;e++)a.isReserved(e,s)||a.xor(e,s,u(r,e,s))},t.getBestMask=function(r,a){const c=Object.keys(t.Patterns).length;let s=0,e=1/0;for(let i=0;i<c;i++){a(i),t.applyMask(i,r);const n=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(i,r),n<e&&(e=n,s=i)}return s}})(maskPattern);var errorCorrectionCode={};const ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function t(l,u){switch(u){case ECLevel$1.L:return EC_BLOCKS_TABLE[(l-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(l-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(l-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(l-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function t(l,u){switch(u){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(l-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(l-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(l-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(l-1)*4+3];default:return}};var polynomial={},galoisField={};const EXP_TABLE=new Uint8Array(512),LOG_TABLE=new Uint8Array(256);(function t(){let l=1;for(let u=0;u<255;u++)EXP_TABLE[u]=l,LOG_TABLE[l]=u,l<<=1,l&256&&(l^=285);for(let u=255;u<512;u++)EXP_TABLE[u]=EXP_TABLE[u-255]})();galoisField.log=function t(l){if(l<1)throw new Error("log("+l+")");return LOG_TABLE[l]};galoisField.exp=function t(l){return EXP_TABLE[l]};galoisField.mul=function t(l,u){return l===0||u===0?0:EXP_TABLE[LOG_TABLE[l]+LOG_TABLE[u]]};(function(t){const l=galoisField;t.mul=function(o,r){const a=new Uint8Array(o.length+r.length-1);for(let c=0;c<o.length;c++)for(let s=0;s<r.length;s++)a[c+s]^=l.mul(o[c],r[s]);return a},t.mod=function(o,r){let a=new Uint8Array(o);for(;a.length-r.length>=0;){const c=a[0];for(let e=0;e<r.length;e++)a[e]^=l.mul(r[e],c);let s=0;for(;s<a.length&&a[s]===0;)s++;a=a.slice(s)}return a},t.generateECPolynomial=function(o){let r=new Uint8Array([1]);for(let a=0;a<o;a++)r=t.mul(r,new Uint8Array([1,l.exp(a)]));return r}})(polynomial);const Polynomial=polynomial;function ReedSolomonEncoder$1(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function t(l){this.degree=l,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function t(l){if(!this.genPoly)throw new Error("Encoder not initialized");const u=new Uint8Array(l.length+this.degree);u.set(l);const o=Polynomial.mod(u,this.genPoly),r=this.degree-o.length;if(r>0){const a=new Uint8Array(this.degree);return a.set(o,r),a}return o};var reedSolomonEncoder=ReedSolomonEncoder$1,version={},mode={},versionCheck={};versionCheck.isValid=function t(l){return!isNaN(l)&&l>=1&&l<=40};var regex={};const numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+";let kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");const byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");const TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function t(l){return TEST_KANJI.test(l)};regex.testNumeric=function t(l){return TEST_NUMERIC.test(l)};regex.testAlphanumeric=function t(l){return TEST_ALPHANUMERIC.test(l)};(function(t){const l=versionCheck,u=regex;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!l.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return u.testNumeric(a)?t.NUMERIC:u.testAlphanumeric(a)?t.ALPHANUMERIC:u.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function o(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+r)}}t.from=function(a,c){if(t.isValid(a))return a;try{return o(a)}catch{return c}}})(mode);(function(t){const l=utils$1,u=errorCorrectionCode,o=errorCorrectionLevel,r=mode,a=versionCheck,c=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,s=l.getBCHDigit(c);function e(f,p,h){for(let m=1;m<=40;m++)if(p<=t.getCapacity(m,h,f))return m}function i(f,p){return r.getCharCountIndicator(f,p)+4}function n(f,p){let h=0;return f.forEach(function(m){h+=i(m.mode,p)+m.getBitsLength()}),h}function d(f,p){for(let h=1;h<=40;h++)if(n(f,h)<=t.getCapacity(h,p,r.MIXED))return h}t.from=function(p,h){return a.isValid(p)?parseInt(p,10):h},t.getCapacity=function(p,h,m){if(!a.isValid(p))throw new Error("Invalid QR Code version");typeof m=="undefined"&&(m=r.BYTE);const v=l.getSymbolTotalCodewords(p),w=u.getTotalCodewordsCount(p,h),g=(v-w)*8;if(m===r.MIXED)return g;const b=g-i(m,p);switch(m){case r.NUMERIC:return Math.floor(b/10*3);case r.ALPHANUMERIC:return Math.floor(b/11*2);case r.KANJI:return Math.floor(b/13);case r.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(p,h){let m;const v=o.from(h,o.M);if(Array.isArray(p)){if(p.length>1)return d(p,v);if(p.length===0)return 1;m=p[0]}else m=p;return e(m.mode,m.getLength(),v)},t.getEncodedBits=function(p){if(!a.isValid(p)||p<7)throw new Error("Invalid QR Code version");let h=p<<12;for(;l.getBCHDigit(h)-s>=0;)h^=c<<l.getBCHDigit(h)-s;return p<<12|h}})(version);var formatInfo={};const Utils$3=utils$1,G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function t(l,u){const o=l.bit<<3|u;let r=o<<10;for(;Utils$3.getBCHDigit(r)-G15_BCH>=0;)r^=G15<<Utils$3.getBCHDigit(r)-G15_BCH;return(o<<10|r)^G15_MASK};var segments={};const Mode$4=mode;function NumericData(t){this.mode=Mode$4.NUMERIC,this.data=t.toString()}NumericData.getBitsLength=function t(l){return 10*Math.floor(l/3)+(l%3?l%3*3+1:0)};NumericData.prototype.getLength=function t(){return this.data.length};NumericData.prototype.getBitsLength=function t(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function t(l){let u,o,r;for(u=0;u+3<=this.data.length;u+=3)o=this.data.substr(u,3),r=parseInt(o,10),l.put(r,10);const a=this.data.length-u;a>0&&(o=this.data.substr(u),r=parseInt(o,10),l.put(r,a*3+1))};var numericData=NumericData;const Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(t){this.mode=Mode$3.ALPHANUMERIC,this.data=t}AlphanumericData.getBitsLength=function t(l){return 11*Math.floor(l/2)+6*(l%2)};AlphanumericData.prototype.getLength=function t(){return this.data.length};AlphanumericData.prototype.getBitsLength=function t(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function t(l){let u;for(u=0;u+2<=this.data.length;u+=2){let o=ALPHA_NUM_CHARS.indexOf(this.data[u])*45;o+=ALPHA_NUM_CHARS.indexOf(this.data[u+1]),l.put(o,11)}this.data.length%2&&l.put(ALPHA_NUM_CHARS.indexOf(this.data[u]),6)};var alphanumericData=AlphanumericData,encodeUtf8$1=function t(l){for(var u=[],o=l.length,r=0;r<o;r++){var a=l.charCodeAt(r);if(a>=55296&&a<=56319&&o>r+1){var c=l.charCodeAt(r+1);c>=56320&&c<=57343&&(a=(a-55296)*1024+c-56320+65536,r+=1)}if(a<128){u.push(a);continue}if(a<2048){u.push(a>>6|192),u.push(a&63|128);continue}if(a<55296||a>=57344&&a<65536){u.push(a>>12|224),u.push(a>>6&63|128),u.push(a&63|128);continue}if(a>=65536&&a<=1114111){u.push(a>>18|240),u.push(a>>12&63|128),u.push(a>>6&63|128),u.push(a&63|128);continue}u.push(239,191,189)}return new Uint8Array(u).buffer};const encodeUtf8=encodeUtf8$1,Mode$2=mode;function ByteData(t){this.mode=Mode$2.BYTE,typeof t=="string"&&(t=encodeUtf8(t)),this.data=new Uint8Array(t)}ByteData.getBitsLength=function t(l){return l*8};ByteData.prototype.getLength=function t(){return this.data.length};ByteData.prototype.getBitsLength=function t(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(t){for(let l=0,u=this.data.length;l<u;l++)t.put(this.data[l],8)};var byteData=ByteData;const Mode$1=mode,Utils$2=utils$1;function KanjiData(t){this.mode=Mode$1.KANJI,this.data=t}KanjiData.getBitsLength=function t(l){return l*13};KanjiData.prototype.getLength=function t(){return this.data.length};KanjiData.prototype.getBitsLength=function t(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(t){let l;for(l=0;l<this.data.length;l++){let u=Utils$2.toSJIS(this.data[l]);if(u>=33088&&u<=40956)u-=33088;else if(u>=57408&&u<=60351)u-=49472;else throw new Error("Invalid SJIS character: "+this.data[l]+`
Make sure your charset is UTF-8`);u=(u>>>8&255)*192+(u&255),t.put(u,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(t){var l={single_source_shortest_paths:function(u,o,r){var a={},c={};c[o]=0;var s=l.PriorityQueue.make();s.push(o,0);for(var e,i,n,d,f,p,h,m,v;!s.empty();){e=s.pop(),i=e.value,d=e.cost,f=u[i]||{};for(n in f)f.hasOwnProperty(n)&&(p=f[n],h=d+p,m=c[n],v=typeof c[n]=="undefined",(v||m>h)&&(c[n]=h,s.push(n,h),a[n]=i))}if(typeof r!="undefined"&&typeof c[r]=="undefined"){var w=["Could not find a path from ",o," to ",r,"."].join("");throw new Error(w)}return a},extract_shortest_path_from_predecessor_list:function(u,o){for(var r=[],a=o;a;)r.push(a),u[a],a=u[a];return r.reverse(),r},find_path:function(u,o,r){var a=l.single_source_shortest_paths(u,o,r);return l.extract_shortest_path_from_predecessor_list(a,r)},PriorityQueue:{make:function(u){var o=l.PriorityQueue,r={},a;u=u||{};for(a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);return r.queue=[],r.sorter=u.sorter||o.default_sorter,r},default_sorter:function(u,o){return u.cost-o.cost},push:function(u,o){var r={value:u,cost:o};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=l})(dijkstra);(function(t){const l=mode,u=numericData,o=alphanumericData,r=byteData,a=kanjiData,c=regex,s=utils$1,e=dijkstra.exports;function i(w){return unescape(encodeURIComponent(w)).length}function n(w,g,b){const y=[];let E;for(;(E=w.exec(b))!==null;)y.push({data:E[0],index:E.index,mode:g,length:E[0].length});return y}function d(w){const g=n(c.NUMERIC,l.NUMERIC,w),b=n(c.ALPHANUMERIC,l.ALPHANUMERIC,w);let y,E;return s.isKanjiModeEnabled()?(y=n(c.BYTE,l.BYTE,w),E=n(c.KANJI,l.KANJI,w)):(y=n(c.BYTE_KANJI,l.BYTE,w),E=[]),g.concat(b,y,E).sort(function(T,C){return T.index-C.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function f(w,g){switch(g){case l.NUMERIC:return u.getBitsLength(w);case l.ALPHANUMERIC:return o.getBitsLength(w);case l.KANJI:return a.getBitsLength(w);case l.BYTE:return r.getBitsLength(w)}}function p(w){return w.reduce(function(g,b){const y=g.length-1>=0?g[g.length-1]:null;return y&&y.mode===b.mode?(g[g.length-1].data+=b.data,g):(g.push(b),g)},[])}function h(w){const g=[];for(let b=0;b<w.length;b++){const y=w[b];switch(y.mode){case l.NUMERIC:g.push([y,{data:y.data,mode:l.ALPHANUMERIC,length:y.length},{data:y.data,mode:l.BYTE,length:y.length}]);break;case l.ALPHANUMERIC:g.push([y,{data:y.data,mode:l.BYTE,length:y.length}]);break;case l.KANJI:g.push([y,{data:y.data,mode:l.BYTE,length:i(y.data)}]);break;case l.BYTE:g.push([{data:y.data,mode:l.BYTE,length:i(y.data)}])}}return g}function m(w,g){const b={},y={start:{}};let E=["start"];for(let N=0;N<w.length;N++){const T=w[N],C=[];for(let O=0;O<T.length;O++){const I=T[O],D=""+N+O;C.push(D),b[D]={node:I,lastCount:0},y[D]={};for(let k=0;k<E.length;k++){const A=E[k];b[A]&&b[A].node.mode===I.mode?(y[A][D]=f(b[A].lastCount+I.length,I.mode)-f(b[A].lastCount,I.mode),b[A].lastCount+=I.length):(b[A]&&(b[A].lastCount=I.length),y[A][D]=f(I.length,I.mode)+4+l.getCharCountIndicator(I.mode,g))}}E=C}for(let N=0;N<E.length;N++)y[E[N]].end=0;return{map:y,table:b}}function v(w,g){let b;const y=l.getBestModeForData(w);if(b=l.from(g,y),b!==l.BYTE&&b.bit<y.bit)throw new Error('"'+w+'" cannot be encoded with mode '+l.toString(b)+`.
 Suggested mode is: `+l.toString(y));switch(b===l.KANJI&&!s.isKanjiModeEnabled()&&(b=l.BYTE),b){case l.NUMERIC:return new u(w);case l.ALPHANUMERIC:return new o(w);case l.KANJI:return new a(w);case l.BYTE:return new r(w)}}t.fromArray=function(g){return g.reduce(function(b,y){return typeof y=="string"?b.push(v(y,null)):y.data&&b.push(v(y.data,y.mode)),b},[])},t.fromString=function(g,b){const y=d(g,s.isKanjiModeEnabled()),E=h(y),N=m(E,b),T=e.find_path(N.map,"start","end"),C=[];for(let O=1;O<T.length-1;O++)C.push(N.table[T[O]].node);return t.fromArray(p(C))},t.rawSplit=function(g){return t.fromArray(d(g,s.isKanjiModeEnabled()))}})(segments);const Utils$1=utils$1,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version,FormatInfo=formatInfo,Mode=mode,Segments=segments;function setupFinderPattern(t,l){const u=t.size,o=FinderPattern.getPositions(l);for(let r=0;r<o.length;r++){const a=o[r][0],c=o[r][1];for(let s=-1;s<=7;s++)if(!(a+s<=-1||u<=a+s))for(let e=-1;e<=7;e++)c+e<=-1||u<=c+e||(s>=0&&s<=6&&(e===0||e===6)||e>=0&&e<=6&&(s===0||s===6)||s>=2&&s<=4&&e>=2&&e<=4?t.set(a+s,c+e,!0,!0):t.set(a+s,c+e,!1,!0))}}function setupTimingPattern(t){const l=t.size;for(let u=8;u<l-8;u++){const o=u%2===0;t.set(u,6,o,!0),t.set(6,u,o,!0)}}function setupAlignmentPattern(t,l){const u=AlignmentPattern.getPositions(l);for(let o=0;o<u.length;o++){const r=u[o][0],a=u[o][1];for(let c=-2;c<=2;c++)for(let s=-2;s<=2;s++)c===-2||c===2||s===-2||s===2||c===0&&s===0?t.set(r+c,a+s,!0,!0):t.set(r+c,a+s,!1,!0)}}function setupVersionInfo(t,l){const u=t.size,o=Version.getEncodedBits(l);let r,a,c;for(let s=0;s<18;s++)r=Math.floor(s/3),a=s%3+u-8-3,c=(o>>s&1)===1,t.set(r,a,c,!0),t.set(a,r,c,!0)}function setupFormatInfo(t,l,u){const o=t.size,r=FormatInfo.getEncodedBits(l,u);let a,c;for(a=0;a<15;a++)c=(r>>a&1)===1,a<6?t.set(a,8,c,!0):a<8?t.set(a+1,8,c,!0):t.set(o-15+a,8,c,!0),a<8?t.set(8,o-a-1,c,!0):a<9?t.set(8,15-a-1+1,c,!0):t.set(8,15-a-1,c,!0);t.set(o-8,8,1,!0)}function setupData(t,l){const u=t.size;let o=-1,r=u-1,a=7,c=0;for(let s=u-1;s>0;s-=2)for(s===6&&s--;;){for(let e=0;e<2;e++)if(!t.isReserved(r,s-e)){let i=!1;c<l.length&&(i=(l[c]>>>a&1)===1),t.set(r,s-e,i),a--,a===-1&&(c++,a=7)}if(r+=o,r<0||u<=r){r-=o,o=-o;break}}}function createData(t,l,u){const o=new BitBuffer;u.forEach(function(e){o.put(e.mode.bit,4),o.put(e.getLength(),Mode.getCharCountIndicator(e.mode,t)),e.write(o)});const r=Utils$1.getSymbolTotalCodewords(t),a=ECCode.getTotalCodewordsCount(t,l),c=(r-a)*8;for(o.getLengthInBits()+4<=c&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const s=(c-o.getLengthInBits())/8;for(let e=0;e<s;e++)o.put(e%2?17:236,8);return createCodewords(o,t,l)}function createCodewords(t,l,u){const o=Utils$1.getSymbolTotalCodewords(l),r=ECCode.getTotalCodewordsCount(l,u),a=o-r,c=ECCode.getBlocksCount(l,u),s=o%c,e=c-s,i=Math.floor(o/c),n=Math.floor(a/c),d=n+1,f=i-n,p=new ReedSolomonEncoder(f);let h=0;const m=new Array(c),v=new Array(c);let w=0;const g=new Uint8Array(t.buffer);for(let T=0;T<c;T++){const C=T<e?n:d;m[T]=g.slice(h,h+C),v[T]=p.encode(m[T]),h+=C,w=Math.max(w,C)}const b=new Uint8Array(o);let y=0,E,N;for(E=0;E<w;E++)for(N=0;N<c;N++)E<m[N].length&&(b[y++]=m[N][E]);for(E=0;E<f;E++)for(N=0;N<c;N++)b[y++]=v[N][E];return b}function createSymbol(t,l,u,o){let r;if(Array.isArray(t))r=Segments.fromArray(t);else if(typeof t=="string"){let i=l;if(!i){const n=Segments.rawSplit(t);i=Version.getBestVersionForData(n,u)}r=Segments.fromString(t,i||40)}else throw new Error("Invalid data");const a=Version.getBestVersionForData(r,u);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!l)l=a;else if(l<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const c=createData(l,u,r),s=Utils$1.getSymbolSize(l),e=new BitMatrix(s);return setupFinderPattern(e,l),setupTimingPattern(e),setupAlignmentPattern(e,l),setupFormatInfo(e,u,0),l>=7&&setupVersionInfo(e,l),setupData(e,c),isNaN(o)&&(o=MaskPattern.getBestMask(e,setupFormatInfo.bind(null,e,u))),MaskPattern.applyMask(o,e),setupFormatInfo(e,u,o),{modules:e,version:l,errorCorrectionLevel:u,maskPattern:o,segments:r}}qrcode.create=function t(l,u){if(typeof l=="undefined"||l==="")throw new Error("No input text");let o=ECLevel.M,r,a;return typeof u!="undefined"&&(o=ECLevel.from(u.errorCorrectionLevel,ECLevel.M),r=Version.from(u.version),a=MaskPattern.from(u.maskPattern),u.toSJISFunc&&Utils$1.setToSJISFunction(u.toSJISFunc)),createSymbol(l,r,o,a)};var canvas={},utils={};(function(t){function l(u){if(typeof u=="number"&&(u=u.toString()),typeof u!="string")throw new Error("Color should be defined as hex string");let o=u.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+u);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(a){return[a,a]}))),o.length===6&&o.push("F","F");const r=parseInt(o.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+o.slice(0,6).join("")}}t.getOptions=function(o){o||(o={}),o.color||(o.color={});const r=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,a=o.width&&o.width>=21?o.width:void 0,c=o.scale||4;return{width:a,scale:a?4:c,margin:r,color:{dark:l(o.color.dark||"#000000ff"),light:l(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},t.getScale=function(o,r){return r.width&&r.width>=o+r.margin*2?r.width/(o+r.margin*2):r.scale},t.getImageWidth=function(o,r){const a=t.getScale(o,r);return Math.floor((o+r.margin*2)*a)},t.qrToImageData=function(o,r,a){const c=r.modules.size,s=r.modules.data,e=t.getScale(c,a),i=Math.floor((c+a.margin*2)*e),n=a.margin*e,d=[a.color.light,a.color.dark];for(let f=0;f<i;f++)for(let p=0;p<i;p++){let h=(f*i+p)*4,m=a.color.light;if(f>=n&&p>=n&&f<i-n&&p<i-n){const v=Math.floor((f-n)/e),w=Math.floor((p-n)/e);m=d[s[v*c+w]?1:0]}o[h++]=m.r,o[h++]=m.g,o[h++]=m.b,o[h]=m.a}}})(utils);(function(t){const l=utils;function u(r,a,c){r.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,c,s){let e=s,i=c;typeof e=="undefined"&&(!c||!c.getContext)&&(e=c,c=void 0),c||(i=o()),e=l.getOptions(e);const n=l.getImageWidth(a.modules.size,e),d=i.getContext("2d"),f=d.createImageData(n,n);return l.qrToImageData(f.data,a,e),u(d,i,n),d.putImageData(f,0,0),i},t.renderToDataURL=function(a,c,s){let e=s;typeof e=="undefined"&&(!c||!c.getContext)&&(e=c,c=void 0),e||(e={});const i=t.render(a,c,e),n=e.type||"image/png",d=e.rendererOpts||{};return i.toDataURL(n,d.quality)}})(canvas);var svgTag={};const Utils=utils;function getColorAttrib(t,l){const u=t.a/255,o=l+'="'+t.hex+'"';return u<1?o+" "+l+'-opacity="'+u.toFixed(2).slice(1)+'"':o}function svgCmd(t,l,u){let o=t+l;return typeof u!="undefined"&&(o+=" "+u),o}function qrToPath(t,l,u){let o="",r=0,a=!1,c=0;for(let s=0;s<t.length;s++){const e=Math.floor(s%l),i=Math.floor(s/l);!e&&!a&&(a=!0),t[s]?(c++,s>0&&e>0&&t[s-1]||(o+=a?svgCmd("M",e+u,.5+i+u):svgCmd("m",r,0),r=0,a=!1),e+1<l&&t[s+1]||(o+=svgCmd("h",c),c=0)):r++}return o}svgTag.render=function t(l,u,o){const r=Utils.getOptions(u),a=l.modules.size,c=l.modules.data,s=a+r.margin*2,e=r.color.light.a?"<path "+getColorAttrib(r.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",i="<path "+getColorAttrib(r.color.dark,"stroke")+' d="'+qrToPath(c,a,r.margin)+'"/>',n='viewBox="0 0 '+s+" "+s+'"',d=r.width?'width="'+r.width+'" height="'+r.width+'" ':"",f='<svg xmlns="http://www.w3.org/2000/svg" '+d+n+' shape-rendering="crispEdges">'+e+i+`</svg>
`;return typeof o=="function"&&o(null,f),f};const canPromise=canPromise$1,QRCode=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(t,l,u,o,r){const a=[].slice.call(arguments,1),c=a.length,s=typeof a[c-1]=="function";if(!s&&!canPromise())throw new Error("Callback required as last argument");if(s){if(c<2)throw new Error("Too few arguments provided");c===2?(r=u,u=l,l=o=void 0):c===3&&(l.getContext&&typeof r=="undefined"?(r=o,o=void 0):(r=o,o=u,u=l,l=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(u=l,l=o=void 0):c===2&&!l.getContext&&(o=u,u=l,l=void 0),new Promise(function(e,i){try{const n=QRCode.create(u,o);e(t(n,l,o))}catch(n){i(n)}})}try{const e=QRCode.create(u,o);r(null,t(e,l,o))}catch(e){r(e)}}browser.create=QRCode.create;browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render);browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL);browser.toString=renderCanvas.bind(null,function(t,l,u){return SvgRenderer.render(t,u)});const _hoisted_1$6={fill:"none",height:"32",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$6=createStaticVNode('<path clip-rule="evenodd" d="M23 7a2 2 0 0 1 2 2v7h-2V9.8a.8.8 0 0 0-.8-.8H8.8a.8.8 0 0 0-.794.7L8 9.8v10.4a.8.8 0 0 0 .7.794l.1.006H16v2H8a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2z" fill="currentColor" fill-rule="evenodd"></path><path d="M25.875 18h-6.75c-.621 0-1.125.522-1.125 1.167v4.666c0 .645.504 1.167 1.125 1.167h6.75c.621 0 1.125-.522 1.125-1.167v-4.666c0-.645-.504-1.167-1.125-1.167z" fill="currentColor"></path><g stroke="currentColor" stroke-width="2"><path d="m11.935 12.566 4.454 4.455"></path><path d="M15.714 12.566h-3.962a.01.01 0 0 0-.01.01v3.963" stroke-linecap="round"></path></g>',3),_hoisted_5$1=[_hoisted_2$6];function render$4(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$6,_hoisted_5$1)}var IcoMiniEx={render:render$4},Alert_vue_vue_type_style_index_0_lang="";const _hoisted_1$5=["innerHTML"],_hoisted_2$5=["innerHTML"],_hoisted_3$5={class:"base_alert--footer flex_between"},_sfc_main$1=defineComponent({__name:"Alert",setup(t){const l="\u53D6\u6D88",u="\u786E\u8BA4",o=ref("\u662F\u5426\u786E\u8BA4\uFF1F"),r=ref(""),a=ref(l),c=ref(u),s=ref(null),e=ref(null),i=ref(null),n=()=>{i.value.show()},d=()=>{i.value.hide()};events.on("alert",h=>{o.value=h.content,r.value=h.message||"",a.value=h.cancelText||l,c.value=h.confirmText||u,s.value=h.onCancel,e.value=h.onConfirm,n()});async function f(){s.value&&await s.value(),d()}async function p(){await e.value(),d()}return(h,m)=>{const v=resolveComponent("VButton");return openBlock(),createBlock(VPopup,{"custom-class":"base_alert",ref_key:"popupRef",ref:i},{default:withCtx(()=>[createVNode(unref(IcoClose$1),{class:"base_alert--close",onClick:withModifiers(d,["stop"])},null,8,["onClick"]),createBaseVNode("div",{class:"base_alert--content text_center",innerHTML:o.value},null,8,_hoisted_1$5),r.value?(openBlock(),createElementBlock("div",{key:0,class:"base_alert--message text_center",innerHTML:r.value},null,8,_hoisted_2$5)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$5,[createVNode(v,{class:"base_alert--btn",onClick:withModifiers(f,["stop"])},{default:withCtx(()=>[createTextVNode(toDisplayString(a.value),1)]),_:1},8,["onClick"]),createVNode(v,{class:"base_alert--btn",onClick:withModifiers(p,["stop"]),type:"pink"},{default:withCtx(()=>[createTextVNode(toDisplayString(c.value),1)]),_:1},8,["onClick"])])]),_:1},512)}}}),_hoisted_1$4={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$4=createBaseVNode("path",{d:"M21 14a1 1 0 0 0-1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-4a1 1 0 1 0-2 0v4a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-4a1 1 0 0 0-1-1Zm-9.71 1.71a1 1 0 0 0 .33.21.94.94 0 0 0 .76 0 1 1 0 0 0 .33-.21l4-4a1.004 1.004 0 1 0-1.42-1.42L13 12.59V3a1 1 0 0 0-2 0v9.59l-2.29-2.3a1.005 1.005 0 0 0-1.714.71 1.004 1.004 0 0 0 .294.71l4 4Z",fill:"currentcolor"},null,-1),_hoisted_3$4=[_hoisted_2$4];function render$3(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$4,_hoisted_3$4)}var IcoSave={render:render$3};const _hoisted_1$3={width:"12",height:"18",viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$3=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.4 8.995c0-.438-.17-.874-.506-1.208L3.551.497a1.743 1.743 0 0 0-2.442.004 1.701 1.701 0 0 0-.004 2.424l6.117 6.073-6.117 6.072a1.713 1.713 0 0 0 .004 2.424c.68.675 1.768.672 2.442.004l7.343-7.29a1.7 1.7 0 0 0 .5-1.206l.006-.007Z",fill:"#fff"},null,-1),_hoisted_3$3=[_hoisted_2$3];function render$2(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$3,_hoisted_3$3)}var IcoNext={render:render$2},Gallery_vue_vue_type_style_index_0_lang="";const _hoisted_1$2=["onClick"],_hoisted_2$2={class:"v_gallery--screen--loading"},_hoisted_3$2={class:"v_gallery--actions p_sticky"},_hoisted_4=["onClick"],_hoisted_5=["onClick"],_hoisted_6={class:"v_gallery--nav p_sticky w_100 flex_between"},_hoisted_7=["onClick"],_hoisted_8={class:"v_gallery--console--preview"},_hoisted_9=["onClick"],_sfc_main=defineComponent({__name:"Gallery",setup(t){const u=ref(!1),o=ref(""),r=ref(0),a=ref(!0),c=ref(0),s=reactive([]),e=ref(null),i=ref(null),n=ref(!1),d=reactive({loading:!0,el:null,size:{width:0,height:0},pic:{src:"",zoom:!1,zoomIn:!0,style:{width:"",height:"",backgroundImage:"",top:""}}}),f=computed(()=>s.length===1),p=M=>{d.el=M},h=async()=>{await nextTick(),d.size.width=d.el.offsetWidth,d.size.height=d.el.offsetHeight},m=()=>{var he,_e;if(!d.pic.zoom){d.pic.style.top="";return}const M=(he=e.value)==null?void 0:he.offsetWidth,Y=(_e=e.value)==null?void 0:_e.offsetHeight,q=d.size.width,X=d.size.height,G=s[r.value];if(G.width<G.height)if(d.pic.zoomIn){const ee=Math.min(Math.min(G.width,600),M),W=G.height/G.width*ee;d.pic.style.width=`${ee}px`,d.pic.style.height=`${W}px`,W>Y?d.pic.style.top=`${W/2}px`:d.pic.style.top=`${Y/2}px`}else d.pic.style.height=`${X}px`,d.pic.style.width=`${(X/G.height*G.width).toFixed(3)}px`;if(G.width>=G.height){let ee=q,W=X;if(d.pic.zoomIn)ee=Math.min(G.width,M),W=G.height/G.width*ee,W>Y&&(W=Y,ee=G.width/G.height*W);else{const we=G.width/G.height*W,be=G.height/G.width*ee;W>=be?W=be:ee=we}d.pic.style.width=`${ee}px`,d.pic.style.height=`${W}px`,d.pic.zoomIn?d.pic.style.top=`calc(50% + ${Math.max(W-Y,0)/2}px)`:d.pic.style.top=""}if(G.width===G.height){let ee=Math.min(q,X);d.pic.zoomIn&&(ee=Math.min(G.width,M),ee>Y?d.pic.style.top=`${ee/2}px`:d.pic.style.top=`${Y/2}px`),d.pic.style.width=`${ee}px`,d.pic.style.height=`${ee}px`}},v=()=>{if(!d.pic.zoom){N();return}m()},w=async M=>{d.pic.zoom=!1,await h();const Y=d.size.width,q=d.size.height,X=s[r.value];X.width&&X.height?X.width>Y||X.height>q?d.pic.zoom=!0:(d.pic.style.width=`${X.width}px`,d.pic.style.height=`${X.height}px`):X.width&&(d.pic.style.width=`${Y}px`),d.pic.style.backgroundImage=`url(${M})`,m()},g=async()=>{const M=s[r.value];if(!M)return;const Y=M.src.replace("pre-","")+"@.webp";d.loading=!0;const q=new Image;q.onload=()=>{d.loading=!1},q.src=Y,await w(Y)},b=M=>{if(M!==r.value){if(P(),M<0)if(M===-1)M=s.length-1;else return;if(M>s.length-1)if(M===s.length)M=0;else return;r.value=M,y(),g()}},y=()=>{s.length<=9||(c.value/62>r.value&&(c.value=r.value*62),c.value/62+8<r.value&&(c.value=(r.value-8)*62))},E=()=>{const Y=s[r.value].src.replace("pre-","");callNative("download/downloadURL",Y)},N=()=>{!n.value||(d.pic.zoom&&d.pic.zoomIn&&v(),n.value=!1,a.value=!0,c.value=0)},T=M=>{if(!M.items.length)return;const Y=document.querySelector(M.container);!Y||(i.value=Y,Y.appendChild(e.value),u.value=M.fixed,M.downloadable===!1&&(a.value=!1),(!M.key||M.key!==o.value||M.items.length!==s.length)&&(o.value=M.key,s.splice(0,s.length,...M.items.map(q=>({...q,width:q.width/window.devicePixelRatio,height:q.height/window.devicePixelRatio})))),r.value=M.index||0,n.value=!0,g())},C=ref(!0),O=ref(!0);let I=null,D=!1;const k=M=>{C.value=M,M&&P()},A=3e3,P=throttle(()=>{D||(I&&clearTimeout(I),O.value=!0,I=setTimeout(()=>{L()},A))},200),L=()=>{I=null,O.value=!1},H=M=>{if(!!C.value)switch(M.type){case"click":case"mouseenter":D=!1,P();break;case"mousemove":P();break;case"mouseleave":D=!0,I&&clearTimeout(I),L();break}};events.on("visitGallery",T),events.on("leaveGallery",N),events.on("windowFocusChange",k);const J=M=>{if(!!n.value)switch(M.keyCode){case 37:case 38:case 39:case 40:M.preventDefault(),M.stopPropagation();break}},oe=M=>{if(!!n.value)switch(M.keyCode){case 27:N(),M.preventDefault(),M.stopPropagation();break;case 37:case 38:b(r.value-1),M.preventDefault(),M.stopPropagation();break;case 39:case 40:b(r.value+1),M.preventDefault(),M.stopPropagation();break}};return onMounted(()=>{i.value=e.value.parentElement,document.addEventListener("keyup",oe),document.addEventListener("keydown",J),document.addEventListener("keypress",J)}),onBeforeUnmount(()=>{events.off("visitGallery",T),events.off("windowFocusChange",k),document.removeEventListener("keyup",oe),document.removeEventListener("keydown",J),document.removeEventListener("keypress",J)}),(M,Y)=>withDirectives((openBlock(),createElementBlock("div",{ref_key:"el",ref:e,class:normalizeClass(["v_gallery i_frame flex_col_center",{"is-fixed":u.value}]),onClickCapture:Y[3]||(Y[3]=q=>H(q)),onMouseenter:Y[4]||(Y[4]=q=>H(q)),onMousemove:Y[5]||(Y[5]=q=>H(q)),onMouseleave:Y[6]||(Y[6]=q=>H(q))},[createBaseVNode("div",{ref:p,class:"v_gallery--screen p_relative",onClick:N,onScrollPassive:Y[2]||(Y[2]=()=>unref(P)())},[d.loading?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:"v_gallery--screen--pic",style:normalizeStyle(d.pic.style),onClick:withModifiers(q=>{},["stop"])},null,12,_hoisted_1$2)),withDirectives(createBaseVNode("div",_hoisted_2$2,null,512),[[vShow,d.loading]]),createVNode(Transition,{name:"ctrl-fade"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_3$2,[a.value?(openBlock(),createElementBlock("div",{key:0,class:"v_gallery--actions--btn bd_radius_50 flex_center cs_pointer",onClick:withModifiers(E,["stop"])},[createVNode(unref(IcoSave),{class:"v_gallery--actions--btn--save"})],8,_hoisted_4)):createCommentVNode("",!0),createBaseVNode("div",{class:"v_gallery--actions--btn bd_radius_50 flex_center cs_pointer",onClick:withModifiers(N,["stop"])},[createVNode(unref(IcoClose),{class:"v_gallery--actions--btn--close"})],8,_hoisted_5)],512),[[vShow,O.value]])]),_:1}),unref(f)?createCommentVNode("",!0):(openBlock(),createBlock(Transition,{key:1,name:"ctrl-fade"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_6,[createBaseVNode("div",{class:"v_gallery--nav--btn bd_radius_50 flex_center cs_pointer prev",onClick:Y[0]||(Y[0]=withModifiers(q=>b(r.value-1),["stop"]))},[createVNode(unref(IcoNext))]),createBaseVNode("div",{class:"v_gallery--nav--btn bd_radius_50 flex_center cs_pointer next",onClick:Y[1]||(Y[1]=withModifiers(q=>b(r.value+1),["stop"]))},[createVNode(unref(IcoNext))])],512),[[vShow,O.value]])]),_:1}))],32),unref(f)?createCommentVNode("",!0):(openBlock(),createBlock(Transition,{key:0,name:"ctrl-fade"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"v_gallery--console flex_center",onClick:withModifiers(q=>{},["stop"])},[createBaseVNode("div",_hoisted_8,[createBaseVNode("div",{class:"v_gallery--console--preview--track",style:normalizeStyle({"margin-left":`${-c.value}px`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s,(q,X)=>(openBlock(),createElementBlock("div",{key:X,class:normalizeClass(["v_gallery--console--preview--item flex_center",{"is-active":r.value===X}]),onClick:G=>b(X)},[createVNode(unref(VImg),{class:"v_gallery--console--preview--item--pic",src:q.src.replace("pre-",""),width:104,height:104,rule:"1c"},null,8,["src"])],10,_hoisted_9))),128))],4)])],8,_hoisted_7),[[vShow,O.value]])]),_:1}))],34)),[[vShow,n.value]])}});var _imports_0="./assets/playing.6ee2164e.gif",userAvatar="";const _hoisted_1$1={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},_hoisted_2$1=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.251 8.75v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 1 0 0 1.5h4.5Z",fill:"#fff"},null,-1),_hoisted_3$1=[_hoisted_2$1];function render$1(t,l){return openBlock(),createElementBlock("svg",_hoisted_1$1,_hoisted_3$1)}var VdFollow={render:render$1};const _hoisted_1={viewBox:"0 0 22 23",fill:"currentColor"},_hoisted_2=createBaseVNode("path",{d:"M11.147 4.269c-4.09 0-7.485 3.395-7.485 7.484 0 4.09 3.395 7.485 7.485 7.485 2.605 0 4.938-1.313 6.369-3.451.18-.365.657-.682 1.05-.682.712 0 1.313.551 1.313 1.312 0 .159-.03.286-.086.425-.013.033-.02.135-.02.135l-.073.115c-1.84 2.874-4.998 4.666-8.447 4.666A9.963 9.963 0 0 1 1.25 11.753 9.963 9.963 0 0 1 11.253 1.75c2.407 0 4.662.853 6.427 2.352v-.51c0-.681.524-1.207 1.205-1.207.68 0 1.206.526 1.206 1.207v3.71c0 .68-.526 1.206-1.206 1.206h-3.711c-.68 0-1.205-.525-1.205-1.206 0-.727.438-1.312 1.205-1.312h.73c-1.355-1.095-3.026-1.721-4.757-1.721Z"},null,-1),_hoisted_3=[_hoisted_2];function render(t,l){return openBlock(),createElementBlock("svg",_hoisted_1,_hoisted_3)}var VdRestart={render};export{ShareWeibo as $,IcoMax as A,IcoMaxExit as B,VdPlay as C,DEFAULT_IMG as D,VdDm as E,_sfc_main$4 as F,BarLike as G,_sfc_main$5 as H,IcoClose$1 as I,BarCoin as J,BarFav as K,BarShare as L,ModuleType as M,VdMenu as N,_sfc_main$6 as O,VdPauseS as P,VdPlays as Q,RichTextNodeType as R,_sfc_main$2 as S,ThreePoint as T,_sfc_main$3 as U,VPopup as V,CheckboxDefault as W,CheckboxSelected as X,IcoAdd as Y,ShareQzone as Z,_sfc_main$f as _,getRichTextareaHighlightNode as a,ShareDynmic as a0,ShareWeixin as a1,ShareQQ as a2,ShareVideo as a3,shareAdd as a4,copyText as a5,browser as a6,IcoMiniEx as a7,_sfc_main$1 as a8,_sfc_main as a9,_imports_0 as aa,getScrollParent as ab,getSelectorByClassNames as ac,getDynamicList as ad,_sfc_main$c as ae,getStringLength as af,RichTextarea as ag,IcoEmoji as ah,_sfc_main$b as ai,IcoAt as aj,createDynamic as ak,getDynamicPublishConfig as al,getDynamicVideos as am,getDynamicUpdate as an,IcoDelete as ao,VdFollow as ap,VdRestart as aq,directive as ar,watchDel as as,getRichTextareaEmojiNode as b,clearArray as c,RichText as d,dmThumbupAdd as e,replyAction as f,getRichTextareaTextNode as g,removeDynamic as h,postSetDynamicSpaceTop as i,IcoPlay as j,IcoDanmaku as k,MdlDynType as l,IcoClose as m,getFirstParentClassName as n,getDynamicDetailForward as o,postDynamicLike as p,getDynamicDetail as q,replyAdd as r,splitStringWithRegExp as s,postDynamicReport as t,useCommentModule as u,_sfc_main$7 as v,watchAdd as w,IcoHome as x,IcoMini as y,IcoMin as z};
