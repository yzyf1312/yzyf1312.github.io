<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://yzyf1312.github.io/assets/css/Open-Sans.css' rel='stylesheet' type='text/css' /><link href='https://yzyf1312.github.io/assets/css/Typora-Github.css' rel='stylesheet' type='text/css' /><title>GSI分类</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='正文'><span>正文</span></h1><p><span>本文将解释应如何在 </span><a href='https://developer.android.google.cn/topic/generic-system-image'><span>GSI</span></a><span> 的诸多分类 (arm64/a64/bgn/bvn/bgs/vndklite) 中做出选择。</span></p><p><span>网上流传的 GSI 的命名通常遵循以下模式。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.52344px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{arm|a64|arm64}_{a|b}{v|g}{N|S}-{vndklite|secure|personal}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>在解释每个术语之前，我建议先安装 </span><a href='https://github.com/kevintresuelo/treble'><span>Treble Check</span></a><span> 应用程序，因为它所显示的信息将作为本文的参考点。</span></p><h3 id='arma64arm64'><span>{arm|a64|arm64}</span></h3><p><span>在 Treble Check 中查看 CPU 体系架构部分。可见，我的设备所使用的CPU是 64 位 ARM 。所以我的设备应当选用标记为 &quot;arm64&quot; 的 GSI 。</span></p><p><img src="https://yzyf1312.github.io/assets/pics/Treble%20Check/alioth/CPU%20Architecture.png" referrerpolicy="no-referrer" alt="CPU Architecture"></p><h3 id='ab'><span>{a|b}</span></h3><p><span>请查看 System-as-root 部分。如果显示支持，则设备的分区类型是 AB ，但为了方便起见，开发者往往将 GSI 标记为 &quot;b&quot; 。如果显示不支持，那么设备的分区类型是 Aonly ，此时选择被标记为 &quot;a&quot; 的 GSI 。可见，我的设备支持 System-as-root ，所以我的设备应当选用标记为 &quot;b&quot; 的 GSI 。</span></p><p><img src="https://yzyf1312.github.io/assets/pics/Treble Check/alioth/System-as-root.png" referrerpolicy="no-referrer" alt="System-as-root"></p><h3 id='vg'><span>{v|g}</span></h3><p><span>这里的 &quot;v&quot; 代表 Vanilla，这意味着没有 GApps [Google Apps、软件包、服务和框架] 。而 G 表示此 GSI 内置 Google Apps 。这完全是个人选择，如果你需要 Google Apps，那么请选择 &quot;g&quot; 版本。</span></p><h3 id='ns'><span>{N|S}</span></h3><p><span>&quot;N&quot; 表示此 GSI 没有超级用户。换句话说，这是一个没有 root 权限的 GSI 。而 &quot;S&quot; 表示 GSI 内置了超级用户。尽管我更喜欢 root 我的设备，但是我通常会下载 &quot;N&quot; 版本，因为我更喜欢自行 root 设备而不是使用内置的超级用户。和前面一样，这完全取决于个人。</span></p><h3 id='vndklitesecurepersonal'><span>{vndklite|secure|personal}</span></h3><p><span>你必须在 {vndklite|secure|personal} 中作选择。首先，转到 Treble Check 应用程序并查看 Project Treble 部分。在这里可以看到设备是否支持 </span><a href='https://source.android.google.cn/docs/core/architecture/vndk?hl=zh-cn'><span>VNDK</span></a><span> 。从技术上讲， &quot;vndklite&quot; 适用于 VNDKLite 设备或非 vndklite 设备上的可读写系统。可见，我的设备支持 Project Treble ，所以我的设备应当选用标记为 &quot;vndklite&quot; 的 GSI 。</span></p><p><img src="https://yzyf1312.github.io/assets/pics/Treble Check/alioth/Project Treble.png" referrerpolicy="no-referrer" alt="Project Treble"></p><h1 id='题外话'><span>题外话</span></h1><h3 id='应该下载-vndklite-gsi-还是非-vndklite-gsi-'><span>应该下载 vndklite GSI 还是非 vndklite GSI ？</span></h3><p><span>这可能是人们最多的疑问。其实只需要安装 </span><a href='https://gitlab.com/TrebleInfo/TrebleInfo'><span>Treble Info</span></a><span> 应用程序，转到 &quot;详细&quot; 页，并查看 &quot;链接器命名空间隔离&quot; 显示的信息。如果显示 &quot;VNDK 处于非 Lite 模式&quot; ，则必须下载非 vndklite GSI 。另一方面，如果如果显示 &quot;VNDK 处于 Lite 模式&quot; ，则下载 vndklite GSI 。</span></p></div></div>
</body>
</html>